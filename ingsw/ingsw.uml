<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_qfRs0AOFEeWaRLjPW0dPDQ" name="ingsw">
    <eAnnotations xmi:id="_qkBp8AOFEeWaRLjPW0dPDQ" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_qkBp8QOFEeWaRLjPW0dPDQ" source="codegen">
        <details xmi:id="_qkBp8gOFEeWaRLjPW0dPDQ" key="codegenDirectory" value="/ingsw/src/main/java"/>
        <details xmi:id="_shqbUAOFEeWaRLjPW0dPDQ" key="AssociatedSourceCode" value="/ingsw/src/main/java/it/polimi/ingsw/client/Controller.java;1432057531/1;/ingsw/src/main/java/it/polimi/ingsw/client/Main.java;3585214607/1;/ingsw/src/main/java/it/polimi/ingsw/client/View.java;1759773406/1;/ingsw/src/main/java/it/polimi/ingsw/client/cli/CLIView.java;2666452883/1;/ingsw/src/main/java/it/polimi/ingsw/client/cli/IO.java;3280767728/1;/ingsw/src/main/java/it/polimi/ingsw/client/gui/GUIFrame.java;1191159540/1;/ingsw/src/main/java/it/polimi/ingsw/client/gui/GUIView.java;1769352942/1;/ingsw/src/main/java/it/polimi/ingsw/client/gui/Hexagon.java;4116399409/1;/ingsw/src/main/java/it/polimi/ingsw/client/gui/HexagonFactory.java;12274849/1;/ingsw/src/main/java/it/polimi/ingsw/client/gui/LoginCanvasPanel.java;3196423150/1;/ingsw/src/main/java/it/polimi/ingsw/client/gui/MapCanvasPanel.java;434847209/1;/ingsw/src/main/java/it/polimi/ingsw/client/network/Connection.java;2051752183/1;/ingsw/src/main/java/it/polimi/ingsw/client/network/ConnectionFactory.java;877418328/1;/ingsw/src/main/java/it/polimi/ingsw/client/network/OnReceiveListener.java;863996861/1;/ingsw/src/main/java/it/polimi/ingsw/client/network/RMIConnection.java;3534859917/1;/ingsw/src/main/java/it/polimi/ingsw/client/network/TCPConnection.java;247826134/1;/ingsw/src/main/java/it/polimi/ingsw/exception/CommandNotValidException.java;2855973524/1;/ingsw/src/main/java/it/polimi/ingsw/exception/DrawingModeException.java;3886950145/1;/ingsw/src/main/java/it/polimi/ingsw/exception/IllegalStateOperationException.java;2498146261/1;/ingsw/src/main/java/it/polimi/ingsw/exception/InvalidCardException.java;2569308626/1;/ingsw/src/main/java/it/polimi/ingsw/exception/NetworkPacketNotValidException.java;1177941409/1;/ingsw/src/main/java/it/polimi/ingsw/exception/SectorException.java;1915651504/1;/ingsw/src/main/java/it/polimi/ingsw/game/GameCommand.java;2739938548/1;/ingsw/src/main/java/it/polimi/ingsw/game/GameMap.java;179055217/1;/ingsw/src/main/java/it/polimi/ingsw/game/GameState.java;2537919260/1;/ingsw/src/main/java/it/polimi/ingsw/game/card/DangerousCard.java;4097551775/1;/ingsw/src/main/java/it/polimi/ingsw/game/card/HatchCard.java;1711864445/1;/ingsw/src/main/java/it/polimi/ingsw/game/card/ObjectCard.java;2428977704/1;/ingsw/src/main/java/it/polimi/ingsw/game/config/Config.java;1927593554/1;/ingsw/src/main/java/it/polimi/ingsw/game/network/GameInfoContainer.java;3635177761/1;/ingsw/src/main/java/it/polimi/ingsw/game/network/NetworkPacket.java;1207450766/1;/ingsw/src/main/java/it/polimi/ingsw/game/network/ServerRMIMask.java;1575311331/1;/ingsw/src/main/java/it/polimi/ingsw/game/player/Alien.java;1274420968/1;/ingsw/src/main/java/it/polimi/ingsw/game/player/GamePlayer.java;1436657947/1;/ingsw/src/main/java/it/polimi/ingsw/game/player/Human.java;4150528976/1;/ingsw/src/main/java/it/polimi/ingsw/game/player/Role.java;3269598982/1;/ingsw/src/main/java/it/polimi/ingsw/game/player/RoleFactory.java;870056270/1;/ingsw/src/main/java/it/polimi/ingsw/game/sector/Sector.java;1647264227/1;/ingsw/src/main/java/it/polimi/ingsw/game/sector/SectorBuilder.java;2480386500/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/AwayState.java;3767441981/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/DiscardingObjectCardState.java;2203760934/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/EndingTurnState.java;2518714010/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/LoserState.java;1482508502/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/MoveDoneState.java;3321633778/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/MovingState.java;1795106891/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/NoiseInAnySectorState.java;3425987045/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/NotMyTurnState.java;1705446439/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/PlayerState.java;3311681961/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/SpotlightCardState.java;1743473959/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/StartTurnState.java;3628073880/1;/ingsw/src/main/java/it/polimi/ingsw/game/state/WinnerState.java;3744160214/1;/ingsw/src/main/java/it/polimi/ingsw/server/Client.java;2186736073/1;/ingsw/src/main/java/it/polimi/ingsw/server/ClientConn.java;2512077363/1;/ingsw/src/main/java/it/polimi/ingsw/server/ClientConnRMI.java;790187005/1;/ingsw/src/main/java/it/polimi/ingsw/server/ClientConnTCP.java;221787380/1;/ingsw/src/main/java/it/polimi/ingsw/server/GameManager.java;4108768069/1;/ingsw/src/main/java/it/polimi/ingsw/server/Listener.java;3050317084/1;/ingsw/src/main/java/it/polimi/ingsw/server/Main.java;148816650/1;/ingsw/src/main/java/it/polimi/ingsw/server/Server.java;162482967/1;/ingsw/src/main/java/it/polimi/ingsw/server/ServerRMI.java;1914126344/1;/ingsw/src/main/java/it/polimi/ingsw/server/ServerTCP.java;665173617/1;/ingsw/src/test/java/it/polimi/ingsw/testclient/testgui/TestHexagonFactory.java;2808883544/1;/ingsw/src/test/java/it/polimi/ingsw/testgame/TestGameMap.java;2702860198/1;/ingsw/src/test/java/it/polimi/ingsw/testgame/sector/TestSectors.java;2651779008/1;/ingsw/src/test/java/it/polimi/ingsw/testserver/ClientConnTest.java;611281829/1;/ingsw/src/test/java/it/polimi/ingsw/testserver/TestServer.java;3839287031/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_qzNVcAOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_qzNVcQOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_qzNVcgOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_qzNVcwOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_qzNVdAOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_qzNVdQOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_qzNVdgOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_qzNVdwOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_qzN8gAOFEeWaRLjPW0dPDQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_qzAhIAOFEeWaRLjPW0dPDQ" name="it">
      <packagedElement xmi:type="uml:Package" xmi:id="_qzAhIQOFEeWaRLjPW0dPDQ" name="polimi">
        <packagedElement xmi:type="uml:Package" xmi:id="_qzAhIgOFEeWaRLjPW0dPDQ" name="ingsw">
          <packagedElement xmi:type="uml:Package" xmi:id="_qzBIMAOFEeWaRLjPW0dPDQ" name="client">
            <packagedElement xmi:type="uml:Package" xmi:id="_qzBIMQOFEeWaRLjPW0dPDQ" name="network">
              <packagedElement xmi:type="uml:Class" xmi:id="_q0sjMAOFEeWaRLjPW0dPDQ" name="Connection" isAbstract="true">
                <ownedComment xmi:id="_q6NVWwOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5zFoQOFEeWaRLjPW0dPDQ" name="mListener" visibility="protected" type="_q0wNkAOFEeWaRLjPW0dPDQ" association="_q6Y7hAOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5zFogOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GAkAOFEeWaRLjPW0dPDQ" name="setOnReceiveListener" specification="_q41cUAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GAkQOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>mListener = listener;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GAkgOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_q42DYAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GAkwOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>sendPacket(new NetworkPacket(opcode));
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0tKQAOFEeWaRLjPW0dPDQ" name="setHost" isAbstract="true">
                  <ownedParameter xmi:id="_q0tKQQOFEeWaRLjPW0dPDQ" name="host">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0tKQgOFEeWaRLjPW0dPDQ" name="connect" isAbstract="true" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q0tKQwOFEeWaRLjPW0dPDQ" name="disconnect" isAbstract="true"/>
                <ownedOperation xmi:id="_q0txUAOFEeWaRLjPW0dPDQ" name="isOnline" isAbstract="true">
                  <ownedParameter xmi:id="_q0txUQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q41cUAOFEeWaRLjPW0dPDQ" name="setOnReceiveListener" method="_q6GAkAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q41cUQOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q42DYAOFEeWaRLjPW0dPDQ" name="sendPacket" method="_q6GAkgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q42DYQOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5aEEAOFEeWaRLjPW0dPDQ" name="sendPacket" isAbstract="true">
                  <ownedParameter xmi:id="_q5aEEQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0uYYAOFEeWaRLjPW0dPDQ" name="ConnectionFactory">
                <ownedComment xmi:id="_q6NVXAOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5zFpAOFEeWaRLjPW0dPDQ" name="CONNECTION_TCP" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5zFpQOFEeWaRLjPW0dPDQ" value="0"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5zssAOFEeWaRLjPW0dPDQ" name="CONNECTION_RMI" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5zssQOFEeWaRLjPW0dPDQ" value="1"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5zssgOFEeWaRLjPW0dPDQ" name="tAssoc" visibility="private" isStatic="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q5zsswOFEeWaRLjPW0dPDQ" value="*"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5zstQOFEeWaRLjPW0dPDQ" value="{&quot;TCP&quot;, &quot;RMI&quot;}"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GAlAOFEeWaRLjPW0dPDQ" name="getConnectionList" specification="_q0u_cAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GAlQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6GAlgOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return tAssoc;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GAlwOFEeWaRLjPW0dPDQ" name="getConnection" specification="_q0vmgAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GAmAOFEeWaRLjPW0dPDQ" name="type">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6GAmQOFEeWaRLjPW0dPDQ" type="_q0sjMAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>switch(type) {
         case CONNECTION_TCP: return new TCPConnection();
         case CONNECTION_RMI: return new RMIConnection();
     }
     return null;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0u_cAOFEeWaRLjPW0dPDQ" name="getConnectionList" isLeaf="true" isStatic="true" method="_q6GAlAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0u_cQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0u_cgOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0vmgAOFEeWaRLjPW0dPDQ" name="getConnection" isStatic="true" method="_q6GAlwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0vmgQOFEeWaRLjPW0dPDQ" name="type">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q42qcgOFEeWaRLjPW0dPDQ" type="_q0sjMAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Interface" xmi:id="_q0wNkAOFEeWaRLjPW0dPDQ" name="OnReceiveListener">
                <ownedComment xmi:id="_q6N8YAOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
                </ownedComment>
                <ownedOperation xmi:id="_q0wNkQOFEeWaRLjPW0dPDQ" name="onDisconnect"/>
                <ownedOperation xmi:id="_q5arIAOFEeWaRLjPW0dPDQ" name="onReceive">
                  <ownedParameter xmi:id="_q5arIQOFEeWaRLjPW0dPDQ" name="obj" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0w0oAOFEeWaRLjPW0dPDQ" name="RMIConnection">
                <ownedComment xmi:id="_q6N8YQOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 16, 2015</body>
                </ownedComment>
                <generalization xmi:id="_q45twgOFEeWaRLjPW0dPDQ" general="_q0sjMAOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5zstwOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6Y7hwOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q50TwAOFEeWaRLjPW0dPDQ" value="Logger.getLogger(RMIConnection.class.getName())"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q50TwQOFEeWaRLjPW0dPDQ" name="RMISERVER_STRING" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q50TwgOFEeWaRLjPW0dPDQ" value="&quot;eftaiosRMI&quot;"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q50TwwOFEeWaRLjPW0dPDQ" name="mReader" visibility="private" type="_q0yp1QOFEeWaRLjPW0dPDQ" association="_q6ZikQOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q50TxAOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q50TxgOFEeWaRLjPW0dPDQ" name="mTempRecv" visibility="private" type="_q0wNkAOFEeWaRLjPW0dPDQ" association="_q6ZilAOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q50TxwOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5060AOFEeWaRLjPW0dPDQ" name="mServerMask" visibility="private" type="_q43RgAOFEeWaRLjPW0dPDQ" association="_q6aJoQOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5060QOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5060wOFEeWaRLjPW0dPDQ" name="mUniqueId" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5061AOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5061gOFEeWaRLjPW0dPDQ" name="mHost" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q51h4AOFEeWaRLjPW0dPDQ" name="mInited" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q51h4QOFEeWaRLjPW0dPDQ" value="false"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GAmgOFEeWaRLjPW0dPDQ" name="RMIConnection" specification="_q0xbsAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GAmwOFEeWaRLjPW0dPDQ" type="_q0w0oAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>super();
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GAnAOFEeWaRLjPW0dPDQ" name="setHost" specification="_q0xbtAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GAnQOFEeWaRLjPW0dPDQ" name="host">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mHost = host;
     mInited = true;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnoAOFEeWaRLjPW0dPDQ" name="connect" specification="_q0yCwwOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>if(!mInited)
         throw new RuntimeException(&quot;RMIConnection must be configured before use&quot;);
     
     if(mServerMask != null)
         throw new RuntimeException(&quot;Socket already created&quot;);
 
     Registry registry = LocateRegistry.getRegistry(mHost);
     
     try {
         mServerMask = (ServerRMIMask) registry.lookup(RMISERVER_STRING);
         mUniqueId = mServerMask.registerAndGetId();
         if(mUniqueId == null)
             throw new RuntimeException(&quot;Cannot receive a unique id&quot;);
         
         mReader = new ReadRunnable(mServerMask, mUniqueId);
         if(mTempRecv != null) {
             mReader.setListener(mTempRecv);
             mTempRecv = null;
         }
         new Thread(mReader).start();
     } catch (NotBoundException e) {
         LOG.log(Level.WARNING, e.toString(), e);
         throw new IOException(&quot;Cannot find my server on the RMI Registry&quot;);
     }
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnoQOFEeWaRLjPW0dPDQ" name="setOnReceiveListener" specification="_q44foQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GnogOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>if(mReader != null) {
         mReader.setListener(listener);
     } else {
         mTempRecv = listener;
     }
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnowOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_q5arIgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GnpAOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>if(mServerMask == null || mUniqueId == null)
         throw new RuntimeException(&quot;RMI Connection is offline&quot;);
     
     try {
         mServerMask.onRMICommand(mUniqueId, pkt);
     } catch (RemoteException e) {
         LOG.log(Level.FINE, e.toString(), e);
         disconnect();
     }
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnpQOFEeWaRLjPW0dPDQ" name="isOnline" specification="_q0yp0AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6GnpgOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>if(mServerMask == null)
         return false;

     return true;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOsAOFEeWaRLjPW0dPDQ" name="disconnect" specification="_q01GEAOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>mServerMask = null;
     
     if(mListener != null)
         mListener.onDisconnect();
     
     if(mReader != null) {
         mReader.shutdown();
         mReader = null;
     }
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0xbsAOFEeWaRLjPW0dPDQ" name="RMIConnection" method="_q6GAmgOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q0xbsQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q0xbsgOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q0xbswOFEeWaRLjPW0dPDQ" type="_q0w0oAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q0xbtAOFEeWaRLjPW0dPDQ" name="setHost" method="_q6GAnAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0xbtQOFEeWaRLjPW0dPDQ" name="host">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0yCwwOFEeWaRLjPW0dPDQ" name="connect" method="_q6GnoAOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q0yp0AOFEeWaRLjPW0dPDQ" name="isOnline" method="_q6GnpQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0yp0QOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q01GEAOFEeWaRLjPW0dPDQ" name="disconnect" method="_q6HOsAOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q44foQOFEeWaRLjPW0dPDQ" name="setOnReceiveListener" method="_q6GnoQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q45GsAOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5arIgOFEeWaRLjPW0dPDQ" name="sendPacket" method="_q6GnowOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5arIwOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Class" xmi:id="_q0yp1QOFEeWaRLjPW0dPDQ" name="ReadRunnable" visibility="private">
                  <ownedAttribute xmi:id="_q51h4wOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6aJpAOFEeWaRLjPW0dPDQ">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_q51h5AOFEeWaRLjPW0dPDQ" value="Logger.getLogger(ReadRunnable.class.getName())"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_q51h5gOFEeWaRLjPW0dPDQ" name="mListener" visibility="private" type="_q0wNkAOFEeWaRLjPW0dPDQ" association="_q6aJpwOFEeWaRLjPW0dPDQ">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_q51h5wOFEeWaRLjPW0dPDQ" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_q52I8QOFEeWaRLjPW0dPDQ" name="mServer" visibility="private" isLeaf="true" type="_q43RgAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6awsQOFEeWaRLjPW0dPDQ"/>
                  <ownedAttribute xmi:id="_q52I8wOFEeWaRLjPW0dPDQ" name="mClientId" visibility="private" isLeaf="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_q52I9QOFEeWaRLjPW0dPDQ" name="mOnline" visibility="private">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_q52I9gOFEeWaRLjPW0dPDQ" value="true"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="_q5b5QQOFEeWaRLjPW0dPDQ" client="_q0yp1QOFEeWaRLjPW0dPDQ" supplier="_q5bSNAOFEeWaRLjPW0dPDQ" contract="_q5bSNAOFEeWaRLjPW0dPDQ"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnpwOFEeWaRLjPW0dPDQ" name="ReadRunnable" specification="_q5b5QgOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q6GnqAOFEeWaRLjPW0dPDQ" name="server" type="_q43RgAOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q6GnqQOFEeWaRLjPW0dPDQ" name="id">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_q6GnqgOFEeWaRLjPW0dPDQ" type="_q0yp1QOFEeWaRLjPW0dPDQ" direction="return"/>
                    <language>java</language>
                    <body>mServer = server;
         mClientId = id;
     </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnqwOFEeWaRLjPW0dPDQ" name="setListener" specification="_q45twAOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q6GnrAOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                    <language>java</language>
                    <body>mListener = listener;
     </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnrQOFEeWaRLjPW0dPDQ" name="shutdown" specification="_q0z38AOFEeWaRLjPW0dPDQ">
                    <language>java</language>
                    <body>mOnline = false;
     </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6GnrgOFEeWaRLjPW0dPDQ" name="run" specification="_q0z38QOFEeWaRLjPW0dPDQ">
                    <language>java</language>
                    <body>try  {
             while(mServer != null &amp;&amp; mOnline) {
                 NetworkPacket[] commands = mServer.readCommands(mClientId);
                 if(mListener != null) {
                     for(NetworkPacket i : commands)
                         if(i != null &amp;&amp; mListener != null)
                             mListener.onReceive(i);
                 }
                 Thread.sleep(250);
             }
         } catch (Exception e) {
             LOG.log(Level.INFO, &quot;Connection closed: &quot; + e.toString(), e);
         } finally {
             if(mListener != null)
                 mListener.onDisconnect();
         }
     </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_q0z38AOFEeWaRLjPW0dPDQ" name="shutdown" method="_q6GnrQOFEeWaRLjPW0dPDQ"/>
                  <ownedOperation xmi:id="_q0z38QOFEeWaRLjPW0dPDQ" name="run" method="_q6GnrgOFEeWaRLjPW0dPDQ"/>
                  <ownedOperation xmi:id="_q45twAOFEeWaRLjPW0dPDQ" name="setListener" method="_q6GnqwOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q45twQOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_q5b5QgOFEeWaRLjPW0dPDQ" name="ReadRunnable" method="_q6GnpwOFEeWaRLjPW0dPDQ">
                    <eAnnotations xmi:id="_q5cgUAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_q5cgUQOFEeWaRLjPW0dPDQ" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_q5b5QwOFEeWaRLjPW0dPDQ" name="server" type="_q43RgAOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q5b5RAOFEeWaRLjPW0dPDQ" name="id">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_q5cgUgOFEeWaRLjPW0dPDQ" type="_q0yp1QOFEeWaRLjPW0dPDQ" direction="return"/>
                  </ownedOperation>
                </nestedClassifier>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q05XgAOFEeWaRLjPW0dPDQ" name="TCPConnection">
                <ownedComment xmi:id="_q6N8YgOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
                </ownedComment>
                <generalization xmi:id="_q4-mQAOFEeWaRLjPW0dPDQ" general="_q0sjMAOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q52wAQOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6awtAOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q52wAgOFEeWaRLjPW0dPDQ" value="Logger.getLogger(TCPConnection.class.getName())"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q52wAwOFEeWaRLjPW0dPDQ" name="mHost" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q53XEQOFEeWaRLjPW0dPDQ" name="mPort" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q53XEgOFEeWaRLjPW0dPDQ" value="Config.SERVER_TCP_LISTEN_PORT"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q53XFAOFEeWaRLjPW0dPDQ" name="mInited" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q53XFQOFEeWaRLjPW0dPDQ" value="false"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q53XFwOFEeWaRLjPW0dPDQ" name="mSocket" visibility="private" type="_q48KAwOFEeWaRLjPW0dPDQ" association="_q6bXwQOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q53XGAOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q53-IAOFEeWaRLjPW0dPDQ" name="mOut" visibility="private" type="_q48KAQOFEeWaRLjPW0dPDQ" association="_q6bXxAOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q53-IQOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q53-IwOFEeWaRLjPW0dPDQ" name="mIn" visibility="private" type="_q47i8AOFEeWaRLjPW0dPDQ" association="_q6b-0AOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q53-JAOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q53-JgOFEeWaRLjPW0dPDQ" name="mReader" visibility="private" type="_q09B4gOFEeWaRLjPW0dPDQ" association="_q6b-0wOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q53-JwOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q54lMAOFEeWaRLjPW0dPDQ" name="mPinger" visibility="private" type="_q0-3EAOFEeWaRLjPW0dPDQ" association="_q6b-1gOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q54lMQOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q54lMwOFEeWaRLjPW0dPDQ" name="mListener" visibility="private" type="_q0wNkAOFEeWaRLjPW0dPDQ" association="_q6cl4QOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q54lNAOFEeWaRLjPW0dPDQ" value="null"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOsQOFEeWaRLjPW0dPDQ" name="TCPConnection" specification="_q05-kAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6HOsgOFEeWaRLjPW0dPDQ" type="_q05XgAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>super();
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOswOFEeWaRLjPW0dPDQ" name="setHost" specification="_q06loAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6HOtAOFEeWaRLjPW0dPDQ" name="host">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mHost = host;
     mInited = true;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOtQOFEeWaRLjPW0dPDQ" name="connect" specification="_q06lpQOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>if(!mInited)
         throw new RuntimeException(&quot;TCPConnection must be configured before use&quot;);
     
     if(mSocket != null)
         throw new RuntimeException(&quot;Socket already created&quot;);
 
     mSocket = new Socket(mHost, mPort);
     mOut = new ObjectOutputStream(mSocket.getOutputStream());
     mIn = new ObjectInputStream(mSocket.getInputStream());
     mReader = new ReadRunnable(this, mIn);
     mPinger = new PingRunnable(this);
     
     if(mListener != null)
         mReader.setListener(mListener);
     new Thread(mReader).start();
     new Thread(mPinger).start();
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOtgOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_q5ducAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6HOtwOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>if(mSocket == null || !mSocket.isConnected() || mOut == null)
         throw new RuntimeException(&quot;Cannot send message. Socket is closed.&quot;);
     
     try {
         mOut.writeObject(pkt);
         mOut.flush();
     }catch(IOException e) {
         LOG.log(Level.FINER, &quot;Connection closed: &quot; + e.toString(), e);
         disconnect();
     }
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOuAOFEeWaRLjPW0dPDQ" name="setOnReceiveListener" specification="_q48xEAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6HOuQOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>mListener = listener;
     if(mReader != null)
         mReader.setListener(mListener);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOugOFEeWaRLjPW0dPDQ" name="isOnline" specification="_q07zwgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6HOuwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>if(mSocket != null &amp;&amp; mSocket.isConnected())
         return true;
     return false;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6HOvAOFEeWaRLjPW0dPDQ" name="disconnect" specification="_q08a0wOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>if(mListener != null)
         mListener.onDisconnect();
     if(mSocket != null &amp;&amp; mSocket.isConnected())
         try {
             mOut.close();
             mIn.close();
             mSocket.close();                
         } catch(IOException e) {
             LOG.log(Level.FINER, e.toString(), e);
         }
     mSocket = null;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q05-kAOFEeWaRLjPW0dPDQ" name="TCPConnection" method="_q6HOsQOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q05-kQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q05-kgOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q05-kwOFEeWaRLjPW0dPDQ" type="_q05XgAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q06loAOFEeWaRLjPW0dPDQ" name="setHost" method="_q6HOswOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q06loQOFEeWaRLjPW0dPDQ" name="host">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q06lpQOFEeWaRLjPW0dPDQ" name="connect" method="_q6HOtQOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q07zwgOFEeWaRLjPW0dPDQ" name="isOnline" method="_q6HOugOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q07zwwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q08a0wOFEeWaRLjPW0dPDQ" name="disconnect" method="_q6HOvAOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q08a1AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q08a1QOFEeWaRLjPW0dPDQ" key="synchronized"/>
                  </eAnnotations>
                </ownedOperation>
                <ownedOperation xmi:id="_q48xEAOFEeWaRLjPW0dPDQ" name="setOnReceiveListener" method="_q6HOuAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q48xEQOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5ducAOFEeWaRLjPW0dPDQ" name="sendPacket" method="_q6HOtgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5ducQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Class" xmi:id="_q09B4gOFEeWaRLjPW0dPDQ" name="ReadRunnable" visibility="private">
                  <ownedAttribute xmi:id="_q54lNgOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6cl5AOFEeWaRLjPW0dPDQ">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_q55MQAOFEeWaRLjPW0dPDQ" value="Logger.getLogger(ReadRunnable.class.getName())"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_q55MQgOFEeWaRLjPW0dPDQ" name="mListener" visibility="private" type="_q0wNkAOFEeWaRLjPW0dPDQ" association="_q6cl5wOFEeWaRLjPW0dPDQ">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_q55MQwOFEeWaRLjPW0dPDQ" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_q55MRQOFEeWaRLjPW0dPDQ" name="mParent" visibility="private" isLeaf="true" type="_q05XgAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6dM8QOFEeWaRLjPW0dPDQ"/>
                  <ownedAttribute xmi:id="_q55MRwOFEeWaRLjPW0dPDQ" name="mReader" visibility="private" isLeaf="true" type="_q47i8AOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6dM9AOFEeWaRLjPW0dPDQ"/>
                  <interfaceRealization xmi:id="_q5eVgAOFEeWaRLjPW0dPDQ" client="_q09B4gOFEeWaRLjPW0dPDQ" supplier="_q5bSNAOFEeWaRLjPW0dPDQ" contract="_q5bSNAOFEeWaRLjPW0dPDQ"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1wAOFEeWaRLjPW0dPDQ" name="ReadRunnable" specification="_q5eVgQOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q6H1wQOFEeWaRLjPW0dPDQ" name="parent" type="_q05XgAOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q6H1wgOFEeWaRLjPW0dPDQ" name="reader" type="_q47i8AOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q6H1wwOFEeWaRLjPW0dPDQ" type="_q09B4gOFEeWaRLjPW0dPDQ" direction="return"/>
                    <language>java</language>
                    <body>mParent = parent;
         mReader = reader;
     </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1xAOFEeWaRLjPW0dPDQ" name="setListener" specification="_q49YIwOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q6H1xQOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                    <language>java</language>
                    <body>mListener = listener;
     </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1xgOFEeWaRLjPW0dPDQ" name="run" specification="_q09o8AOFEeWaRLjPW0dPDQ">
                    <language>java</language>
                    <body>try  {
             while(mSocket != null &amp;&amp; mSocket.isConnected()) {
                 Object obj = mReader.readObject();
                 if(obj != null &amp;&amp; mListener != null &amp;&amp; obj instanceof NetworkPacket)
                     mListener.onReceive((NetworkPacket) obj);
             }
         } catch (Exception e) {
             LOG.log(Level.FINER, &quot;Connection closed:&quot; + e.toString(), e);
         } finally {
             mParent.disconnect();
         }
     </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_q09o8AOFEeWaRLjPW0dPDQ" name="run" method="_q6H1xgOFEeWaRLjPW0dPDQ"/>
                  <ownedOperation xmi:id="_q49YIwOFEeWaRLjPW0dPDQ" name="setListener" method="_q6H1xAOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q49YJAOFEeWaRLjPW0dPDQ" name="listener" type="_q0wNkAOFEeWaRLjPW0dPDQ"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_q5eVgQOFEeWaRLjPW0dPDQ" name="ReadRunnable" method="_q6H1wAOFEeWaRLjPW0dPDQ">
                    <eAnnotations xmi:id="_q5eVhAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_q5eVhQOFEeWaRLjPW0dPDQ" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_q5eVggOFEeWaRLjPW0dPDQ" name="parent" type="_q05XgAOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q5eVgwOFEeWaRLjPW0dPDQ" name="reader" type="_q47i8AOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q5e8kAOFEeWaRLjPW0dPDQ" type="_q09B4gOFEeWaRLjPW0dPDQ" direction="return"/>
                  </ownedOperation>
                </nestedClassifier>
                <nestedClassifier xmi:type="uml:Class" xmi:id="_q0-3EAOFEeWaRLjPW0dPDQ" name="PingRunnable" visibility="private">
                  <ownedAttribute xmi:id="_q55zUQOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6d0AQOFEeWaRLjPW0dPDQ">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_q55zUgOFEeWaRLjPW0dPDQ" value="Logger.getLogger(ReadRunnable.class.getName())"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_q55zVAOFEeWaRLjPW0dPDQ" name="mParent" visibility="private" isLeaf="true" type="_q05XgAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6d0BAOFEeWaRLjPW0dPDQ"/>
                  <interfaceRealization xmi:id="_q5e8kQOFEeWaRLjPW0dPDQ" client="_q0-3EAOFEeWaRLjPW0dPDQ" supplier="_q5bSNAOFEeWaRLjPW0dPDQ" contract="_q5bSNAOFEeWaRLjPW0dPDQ"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1xwOFEeWaRLjPW0dPDQ" name="PingRunnable" specification="_q49_MAOFEeWaRLjPW0dPDQ">
                    <ownedParameter xmi:id="_q6H1yAOFEeWaRLjPW0dPDQ" name="parent" type="_q05XgAOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q6H1yQOFEeWaRLjPW0dPDQ" type="_q0-3EAOFEeWaRLjPW0dPDQ" direction="return"/>
                    <language>java</language>
                    <body>mParent = parent;
     </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1ygOFEeWaRLjPW0dPDQ" name="run" specification="_q1AFMAOFEeWaRLjPW0dPDQ">
                    <language>java</language>
                    <body>try  {
             while(mParent.isOnline()) {
                 mParent.sendPacket(GameCommand.CMD_PING);
                 Thread.sleep(Config.CLIENT_TCP_PING_TIME);
             }
         } catch (Exception e) {
             LOG.log(Level.FINER, &quot;Ping thread stopped: &quot; + e.toString(), e);
         }
     </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_q1AFMAOFEeWaRLjPW0dPDQ" name="run" method="_q6H1ygOFEeWaRLjPW0dPDQ"/>
                  <ownedOperation xmi:id="_q49_MAOFEeWaRLjPW0dPDQ" name="PingRunnable" method="_q6H1xwOFEeWaRLjPW0dPDQ">
                    <eAnnotations xmi:id="_q49_MgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_q49_MwOFEeWaRLjPW0dPDQ" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_q49_MQOFEeWaRLjPW0dPDQ" name="parent" type="_q05XgAOFEeWaRLjPW0dPDQ"/>
                    <ownedParameter xmi:id="_q49_NAOFEeWaRLjPW0dPDQ" type="_q0-3EAOFEeWaRLjPW0dPDQ" direction="return"/>
                  </ownedOperation>
                </nestedClassifier>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6Y7hAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6Y7hQOFEeWaRLjPW0dPDQ _q5zFoQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6Y7hQOFEeWaRLjPW0dPDQ" name="" type="_q0sjMAOFEeWaRLjPW0dPDQ" association="_q6Y7hAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6Y7hwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6Y7iAOFEeWaRLjPW0dPDQ _q5zstwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6Y7iAOFEeWaRLjPW0dPDQ" name="" type="_q0w0oAOFEeWaRLjPW0dPDQ" association="_q6Y7hwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6ZikQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6ZikgOFEeWaRLjPW0dPDQ _q50TwwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6ZikgOFEeWaRLjPW0dPDQ" name="" type="_q0w0oAOFEeWaRLjPW0dPDQ" association="_q6ZikQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6ZilAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6ZilQOFEeWaRLjPW0dPDQ _q50TxgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6ZilQOFEeWaRLjPW0dPDQ" name="" type="_q0w0oAOFEeWaRLjPW0dPDQ" association="_q6ZilAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6aJoQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6aJogOFEeWaRLjPW0dPDQ _q5060AOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6aJogOFEeWaRLjPW0dPDQ" name="" type="_q0w0oAOFEeWaRLjPW0dPDQ" association="_q6aJoQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6aJpAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6aJpQOFEeWaRLjPW0dPDQ _q51h4wOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6aJpQOFEeWaRLjPW0dPDQ" name="" type="_q0yp1QOFEeWaRLjPW0dPDQ" association="_q6aJpAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6aJpwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6aJqAOFEeWaRLjPW0dPDQ _q51h5gOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6aJqAOFEeWaRLjPW0dPDQ" name="" type="_q0yp1QOFEeWaRLjPW0dPDQ" association="_q6aJpwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6awsQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6awsgOFEeWaRLjPW0dPDQ _q52I8QOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6awsgOFEeWaRLjPW0dPDQ" name="" type="_q0yp1QOFEeWaRLjPW0dPDQ" association="_q6awsQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6awtAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6awtQOFEeWaRLjPW0dPDQ _q52wAQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6awtQOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6awtAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6bXwQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6bXwgOFEeWaRLjPW0dPDQ _q53XFwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6bXwgOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6bXwQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6bXxAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6bXxQOFEeWaRLjPW0dPDQ _q53-IAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6bXxQOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6bXxAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6b-0AOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6b-0QOFEeWaRLjPW0dPDQ _q53-IwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6b-0QOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6b-0AOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6b-0wOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6b-1AOFEeWaRLjPW0dPDQ _q53-JgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6b-1AOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6b-0wOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6b-1gOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6b-1wOFEeWaRLjPW0dPDQ _q54lMAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6b-1wOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6b-1gOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6cl4QOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6cl4gOFEeWaRLjPW0dPDQ _q54lMwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6cl4gOFEeWaRLjPW0dPDQ" name="" type="_q05XgAOFEeWaRLjPW0dPDQ" association="_q6cl4QOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6cl5AOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6cl5QOFEeWaRLjPW0dPDQ _q54lNgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6cl5QOFEeWaRLjPW0dPDQ" name="" type="_q09B4gOFEeWaRLjPW0dPDQ" association="_q6cl5AOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6cl5wOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6cl6AOFEeWaRLjPW0dPDQ _q55MQgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6cl6AOFEeWaRLjPW0dPDQ" name="" type="_q09B4gOFEeWaRLjPW0dPDQ" association="_q6cl5wOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6dM8QOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6dM8gOFEeWaRLjPW0dPDQ _q55MRQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6dM8gOFEeWaRLjPW0dPDQ" name="" type="_q09B4gOFEeWaRLjPW0dPDQ" association="_q6dM8QOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6dM9AOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6dM9QOFEeWaRLjPW0dPDQ _q55MRwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6dM9QOFEeWaRLjPW0dPDQ" name="" type="_q09B4gOFEeWaRLjPW0dPDQ" association="_q6dM9AOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6d0AQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6d0AgOFEeWaRLjPW0dPDQ _q55zUQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6d0AgOFEeWaRLjPW0dPDQ" name="" type="_q0-3EAOFEeWaRLjPW0dPDQ" association="_q6d0AQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6d0BAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6d0BQOFEeWaRLjPW0dPDQ _q55zVAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6d0BQOFEeWaRLjPW0dPDQ" name="" type="_q0-3EAOFEeWaRLjPW0dPDQ" association="_q6d0BAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qzDkcAOFEeWaRLjPW0dPDQ" name="cli">
              <packagedElement xmi:type="uml:Class" xmi:id="_q0RFYAOFEeWaRLjPW0dPDQ" name="CLIView">
                <ownedComment xmi:id="_q6MuQwOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5tmEAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6VRIAOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5tmEQOFEeWaRLjPW0dPDQ" value="Logger.getLogger(CLIView.class.getName())"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_q4oA8QOFEeWaRLjPW0dPDQ" client="_q0RFYAOFEeWaRLjPW0dPDQ" supplier="_q0OCEwOFEeWaRLjPW0dPDQ" contract="_q0OCEwOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWOAOFEeWaRLjPW0dPDQ" name="banner" specification="_q0RFYQOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>IO.write(&quot;*******************************************************************************&quot;);
     IO.write(&quot;*******************************************************************************&quot;);
     IO.write(&quot;***  ______        _____       _____                    _____       ______  ***&quot;);  
     IO.write(&quot;*** |  ____|      / ____|     / ____|        /\\        |  __ \\     |  ____| ***&quot;);  
     IO.write(&quot;*** | |__        | (___      | |            /  \\       | |__) |    | |__    ***&quot;);  
     IO.write(&quot;*** |  __|        \\___ \\     | |           / /\\ \\      |  ___/     |  __|   ***&quot;);  
     IO.write(&quot;*** | |____       ____) |    | |____      / ____ \\     | |         | |____  ***&quot;);  
     IO.write(&quot;*** |______|     |_____/      \\_____|    /_/    \\_\\    |_|         |______| ***&quot;);  
     IO.write(&quot;***  ___ ___  ___  __  __    _____ _  _ ___      _   _    ___ ___ _  _ ___  ***&quot;);
     IO.write(&quot;*** | __| _ \\/ _ \\|  \\/  |  |_   _| || | __|    /_\\ | |  |_ _| __| \\| / __| ***&quot;);
     IO.write(&quot;*** | _||   / (_) | |\\/| |    | | | __ | _|    / _ \\| |__ | || _|| .` \\__ \\ ***&quot;);
     IO.write(&quot;*** |_| |_|_\\\\___/|_|  |_|    |_| |_||_|___|  /_/ \\_\\____|___|___|_|\\_|___/ ***&quot;);
     IO.write(&quot;***  ___  _  _    ___   _   _  _____  ___  ___    ___  ___   _    ___  ___  ***&quot;);
     IO.write(&quot;*** |_ _|| \\| |  / _ \\ | | | ||_   _|| __|| _ \\  / __|| _ \\ /_\\  / __|| __| ***&quot;);
     IO.write(&quot;***  | | | .` | | (_) || |_| |  | |  | _| |   /  \\__ \\|  _// _ \\| (__ | _|  ***&quot;);
     IO.write(&quot;*** |___||_|\\_|  \\___/  \\___/   |_|  |___||_|_\\  |___/|_| /_/ \\_\\\\___||___| ***&quot;);
     IO.write(&quot;***                                                                         ***&quot;);
     IO.write(&quot;*** Command line client                by Michele Albanese &amp; Alain Carlucci ***&quot;);
     IO.write(&quot;*******************************************************************************&quot;);
     IO.write(&quot;*******************************************************************************&quot;);
     IO.write(&quot;&quot;);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWOQOFEeWaRLjPW0dPDQ" name="CLIView" specification="_q0RscAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6CWOgOFEeWaRLjPW0dPDQ" type="_q0RFYAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>CLIView.banner();
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWOwOFEeWaRLjPW0dPDQ" name="askConnectionType" specification="_q0STggOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6CWPAOFEeWaRLjPW0dPDQ" name="params">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6CWPQOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6CWPgOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>IO.write(&quot;Which connection do you want to use?&quot;);
     
     for(int i=0;i&lt;params.length;i++)
         IO.write((i+1) + &quot;) &quot; + params[i]);
     
     return IO.readRangeInt(1, params.length)-1;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWPwOFEeWaRLjPW0dPDQ" name="askUsername" specification="_q0S6kwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6CWQAOFEeWaRLjPW0dPDQ" name="message">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6CWQQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>String name;
     
     IO.write(message);
     name = IO.readString().trim();
     return name;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9QAOFEeWaRLjPW0dPDQ" name="askMap" specification="_q0ThowOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9QQOFEeWaRLjPW0dPDQ" name="mapList">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6C9QgOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6C9QwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>IO.write(&quot;Choose a map:&quot;);
     for(int i=0;i&lt;mapList.length;i++)
         IO.write(String.format(&quot;%d) %s&quot;, i+1, mapList[i]));
     
     int choice = IO.readRangeInt(1, mapList.length)-1;
     return choice;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9RAOFEeWaRLjPW0dPDQ" name="askHost" specification="_q0UItQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9RQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>IO.write(&quot;Type the hostname&quot;);
     return IO.readString();
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9RgOFEeWaRLjPW0dPDQ" name="showError" specification="_q0UvxAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9RwOFEeWaRLjPW0dPDQ" name="string">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>IO.write(&quot;ERROR: &quot; + string);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9SAOFEeWaRLjPW0dPDQ" name="updateLoginTime" specification="_q0VW0gOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9SQOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>IO.write(&quot;Remaining time: &quot; + i);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9SgOFEeWaRLjPW0dPDQ" name="updateLoginStat" specification="_q0V94gOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9SwOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>IO.write(&quot;Players online: &quot; + i);
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0RFYQOFEeWaRLjPW0dPDQ" name="banner" visibility="private" isStatic="true" method="_q6CWOAOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q0RscAOFEeWaRLjPW0dPDQ" name="CLIView" method="_q6CWOQOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q0RscQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q0RscgOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q0RscwOFEeWaRLjPW0dPDQ" type="_q0RFYAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q0RsdAOFEeWaRLjPW0dPDQ" name="run"/>
                <ownedOperation xmi:id="_q0STggOFEeWaRLjPW0dPDQ" name="askConnectionType" method="_q6CWOwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0STgwOFEeWaRLjPW0dPDQ" name="params">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0SThgOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0SThAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0S6kwOFEeWaRLjPW0dPDQ" name="askUsername" method="_q6CWPwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0S6lAOFEeWaRLjPW0dPDQ" name="message">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0S6lQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0ThowOFEeWaRLjPW0dPDQ" name="askMap" method="_q6C9QAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0ThpAOFEeWaRLjPW0dPDQ" name="mapList">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0UIsQOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0ThpQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0UItQOFEeWaRLjPW0dPDQ" name="askHost" method="_q6C9RAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0UvwAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0UvxAOFEeWaRLjPW0dPDQ" name="showError" method="_q6C9RgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0UvxQOFEeWaRLjPW0dPDQ" name="string">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0VW0gOFEeWaRLjPW0dPDQ" name="updateLoginTime" method="_q6C9SAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0VW0wOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0V94gOFEeWaRLjPW0dPDQ" name="updateLoginStat" method="_q6C9SgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0V94wOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q5T9cAOFEeWaRLjPW0dPDQ" name="switchToMainScreen">
                  <ownedParameter xmi:id="_q5T9cQOFEeWaRLjPW0dPDQ" name="container" type="_q4kWkAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0XzEAOFEeWaRLjPW0dPDQ" name="IO" visibility="package">
                <ownedComment xmi:id="_q6MuRAOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5tmEgOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6VRIwOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5tmEwOFEeWaRLjPW0dPDQ" value="Logger.getLogger(IO.class.getName())"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5tmFAOFEeWaRLjPW0dPDQ" name="mReader" visibility="private" isStatic="true" type="_q4ooAAOFEeWaRLjPW0dPDQ" association="_q6VRJgOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5tmFQOFEeWaRLjPW0dPDQ" value="new BufferedReader(new InputStreamReader(System.in))"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9TAOFEeWaRLjPW0dPDQ" name="write" specification="_q0YaIAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9TQOFEeWaRLjPW0dPDQ" name="line">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>System.out.println(line);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6C9TgOFEeWaRLjPW0dPDQ" name="readInt" specification="_q0YaIgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6C9TwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>int i = 0;
     while(true) {
         try {
             System.out.print(&quot;> &quot;);
             System.out.flush();
             String m = mReader.readLine();
             i = Integer.valueOf(m);
             break;
         } catch(Exception e) {
             LOG.log(Level.FINEST, e.toString(), e);
             System.out.println(&quot;Invalid choice&quot;);
         }
     }
     return i;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkUAOFEeWaRLjPW0dPDQ" name="readString" specification="_q0ZBMAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkUQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>try {
         System.out.print(&quot;> &quot;);
         System.out.flush();
         return mReader.readLine().trim();
     } catch (Exception e) {
         LOG.log(Level.FINEST, e.toString(), e);
     }
     return &quot;&quot;;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkUgOFEeWaRLjPW0dPDQ" name="readRangeInt" specification="_q0ZBMgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkUwOFEeWaRLjPW0dPDQ" name="min">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6DkVAOFEeWaRLjPW0dPDQ" name="max">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6DkVQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>int i;
     while(true) {
         i = readInt();
         if(i >= min &amp;&amp; i &lt;= max)
             break;
         write(&quot;Out of range&quot;);
     }
     return i;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0YaIAOFEeWaRLjPW0dPDQ" name="write" isStatic="true" method="_q6C9TAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0YaIQOFEeWaRLjPW0dPDQ" name="line">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0YaIgOFEeWaRLjPW0dPDQ" name="readInt" isStatic="true" method="_q6C9TgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0YaIwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0ZBMAOFEeWaRLjPW0dPDQ" name="readString" isStatic="true" method="_q6DkUAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0ZBMQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0ZBMgOFEeWaRLjPW0dPDQ" name="readRangeInt" isStatic="true" method="_q6DkUgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0ZBMwOFEeWaRLjPW0dPDQ" name="min">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0ZBNAOFEeWaRLjPW0dPDQ" name="max">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0ZBNQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6VRIAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6VRIQOFEeWaRLjPW0dPDQ _q5tmEAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6VRIQOFEeWaRLjPW0dPDQ" name="" type="_q0RFYAOFEeWaRLjPW0dPDQ" association="_q6VRIAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6VRIwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6VRJAOFEeWaRLjPW0dPDQ _q5tmEgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6VRJAOFEeWaRLjPW0dPDQ" name="" type="_q0XzEAOFEeWaRLjPW0dPDQ" association="_q6VRIwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6VRJgOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6VRJwOFEeWaRLjPW0dPDQ _q5tmFAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6VRJwOFEeWaRLjPW0dPDQ" name="" type="_q0XzEAOFEeWaRLjPW0dPDQ" association="_q6VRJgOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qzDkcQOFEeWaRLjPW0dPDQ" name="gui">
              <packagedElement xmi:type="uml:Class" xmi:id="_q0ZoQAOFEeWaRLjPW0dPDQ" name="GUIFrame">
                <ownedComment xmi:id="_q6MuRQOFEeWaRLjPW0dPDQ">
                  <body>@author Alain&#xD;
@since 24/mag/2015&#xD;
 *</body>
                </ownedComment>
                <generalization xmi:id="_q5UkgAOFEeWaRLjPW0dPDQ" general="_q4p2IgOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5uNIQOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6V4MQOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5uNIgOFEeWaRLjPW0dPDQ" value="Logger.getLogger( GUIFrame.class.getName() )"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5uNIwOFEeWaRLjPW0dPDQ" name="WIDTH" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5uNJAOFEeWaRLjPW0dPDQ" value="1024"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5uNJQOFEeWaRLjPW0dPDQ" name="HEIGHT" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5uNJgOFEeWaRLjPW0dPDQ" value="768"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5uNJwOFEeWaRLjPW0dPDQ" name="mDimension" visibility="private" isLeaf="true" isStatic="true" type="_q4p2IAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6V4NAOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5uNKAOFEeWaRLjPW0dPDQ" value="new Dimension(WIDTH, HEIGHT)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5u0MAOFEeWaRLjPW0dPDQ" name="mMapCanvas" visibility="private" type="_q0nqsAOFEeWaRLjPW0dPDQ" association="_q6WfQQOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5u0MgOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5u0MwOFEeWaRLjPW0dPDQ" value="1L"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5u0NAOFEeWaRLjPW0dPDQ" name="mLoginCanvas" visibility="private" type="_q0knYAOFEeWaRLjPW0dPDQ" association="_q6WfRAOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkVgOFEeWaRLjPW0dPDQ" name="GUIFrame" specification="_q0aPUAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkVwOFEeWaRLjPW0dPDQ" type="_q0ZoQAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>super();&#xD;
     &#xD;
     setDefaultCloseOperation(EXIT_ON_CLOSE);   &#xD;
     setTitle(&quot;Escape from the Aliens in Outer Space&quot;);&#xD;
     setSize(WIDTH, HEIGHT);&#xD;
     setLocationRelativeTo(null);&#xD;
     setResizable(false);&#xD;
     &#xD;
     switchToLogin();&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkWAOFEeWaRLjPW0dPDQ" name="setRemainingTime" specification="_q0a2YAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkWQOFEeWaRLjPW0dPDQ" name="remainingTime">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mLoginCanvas.setTime(remainingTime);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkWgOFEeWaRLjPW0dPDQ" name="setPlayers" specification="_q0a2YgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkWwOFEeWaRLjPW0dPDQ" name="newPlayers">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mLoginCanvas.setPlayers(newPlayers);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkXAOFEeWaRLjPW0dPDQ" name="switchToLogin" specification="_q0a2ZAOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>mLoginCanvas = new LoginCanvasPanel();&#xD;
     mLoginCanvas.setPreferredSize(mDimension);&#xD;
     add(mLoginCanvas);&#xD;
     pack();&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkXQOFEeWaRLjPW0dPDQ" name="switchToMap" specification="_q4qdMAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkXgOFEeWaRLjPW0dPDQ" name="map" type="_q1OusAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>if(mLoginCanvas == null)&#xD;
         throw new RuntimeException(&quot;Map is already loaded&quot;);&#xD;
     try {&#xD;
         mMapCanvas = new MapCanvasPanel( map, Config.GAME_MAP_WIDTH, Config.GAME_MAP_HEIGHT);&#xD;
         mMapCanvas.setPreferredSize(mDimension);&#xD;
     } catch (ArrayIndexOutOfBoundsException | SectorException | NumberFormatException e) {&#xD;
         LOG.log(Level.SEVERE, &quot;File is not well formatted: &quot; + e);&#xD;
         System.exit(1);&#xD;
     }&#xD;
     &#xD;
     remove(mLoginCanvas);&#xD;
     add(mMapCanvas);&#xD;
     mLoginCanvas = null;&#xD;
     pack();&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0aPUAOFEeWaRLjPW0dPDQ" name="GUIFrame" method="_q6DkVgOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q0aPUQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q0aPUgOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q0aPUwOFEeWaRLjPW0dPDQ" type="_q0ZoQAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q0a2YAOFEeWaRLjPW0dPDQ" name="setRemainingTime" method="_q6DkWAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0a2YQOFEeWaRLjPW0dPDQ" name="remainingTime">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0a2YgOFEeWaRLjPW0dPDQ" name="setPlayers" method="_q6DkWgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0a2YwOFEeWaRLjPW0dPDQ" name="newPlayers">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0a2ZAOFEeWaRLjPW0dPDQ" name="switchToLogin" visibility="private" method="_q6DkXAOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q4qdMAOFEeWaRLjPW0dPDQ" name="switchToMap" method="_q6DkXQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q4qdMQOFEeWaRLjPW0dPDQ" name="map" type="_q1OusAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0crkAOFEeWaRLjPW0dPDQ" name="GUIView">
                <ownedComment xmi:id="_q6MuRgOFEeWaRLjPW0dPDQ">
                  <body>@author Alain&#xD;
@since 24/mag/2015&#xD;
 *</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5u0NgOFEeWaRLjPW0dPDQ" name="mMainFrame" visibility="package" type="_q0ZoQAOFEeWaRLjPW0dPDQ" association="_q6XGUAOFEeWaRLjPW0dPDQ"/>
                <interfaceRealization xmi:id="_q4rrUwOFEeWaRLjPW0dPDQ" client="_q0crkAOFEeWaRLjPW0dPDQ" supplier="_q0OCEwOFEeWaRLjPW0dPDQ" contract="_q0OCEwOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkXwOFEeWaRLjPW0dPDQ" name="GUIView" specification="_q0dSoAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkYAOFEeWaRLjPW0dPDQ" type="_q0crkAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>mMainFrame = new GUIFrame();&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6DkYQOFEeWaRLjPW0dPDQ" name="askConnectionType" specification="_q0dSpAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6DkYgOFEeWaRLjPW0dPDQ" name="params">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6DkYwOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6DkZAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>Object ret = JOptionPane.showInputDialog(null, &quot;Choose a connection&quot;, &quot;Connection type&quot;, &#xD;
                  JOptionPane.QUESTION_MESSAGE, null, params, params[0]);&#xD;
     &#xD;
     for(int i = 0; i&lt;params.length;i++)&#xD;
         if(params[i].equals(ret))&#xD;
             return i;&#xD;
     return -1;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELYAOFEeWaRLjPW0dPDQ" name="askHost" specification="_q0d5tgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELYQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return JOptionPane.showInputDialog(&quot;Type the host&quot;);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELYgOFEeWaRLjPW0dPDQ" name="askUsername" specification="_q0egxAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELYwOFEeWaRLjPW0dPDQ" name="message">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6ELZAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return JOptionPane.showInputDialog(message.length() == 0 ? &quot;Type a username&quot; : message);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELZQOFEeWaRLjPW0dPDQ" name="askMap" specification="_q0fu4AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELZgOFEeWaRLjPW0dPDQ" name="mapList">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6ELZwOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6ELaAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>String[] askList = new String[mapList.length + 1];&#xD;
     for(int i = 0; i &lt; mapList.length; i++)&#xD;
         askList[i+1] = mapList[i];&#xD;
     &#xD;
     askList[0] = &quot;&lt;Generate a random map>&quot;;&#xD;
     Object ret = JOptionPane.showInputDialog(null, &quot;Choose a map&quot;, &quot;&quot;, &#xD;
             JOptionPane.QUESTION_MESSAGE, null, askList, askList[0]);&#xD;
&#xD;
     if(ret == null || !(ret instanceof String))&#xD;
         return null;&#xD;
     &#xD;
     for(int i = 0; i&lt;askList.length;i++)&#xD;
         if(askList[i].equals(ret))&#xD;
             return i-1;&#xD;
     return null; &#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELaQOFEeWaRLjPW0dPDQ" name="run" specification="_q0gV8wOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>mMainFrame.setVisible(true);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELagOFEeWaRLjPW0dPDQ" name="showError" specification="_q0gV9wOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELawOFEeWaRLjPW0dPDQ" name="string">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>JOptionPane.showMessageDialog(null, string, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELbAOFEeWaRLjPW0dPDQ" name="updateLoginTime" specification="_q0g9AwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELbQOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mMainFrame.setRemainingTime(i);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELbgOFEeWaRLjPW0dPDQ" name="updateLoginStat" specification="_q0hkEgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELbwOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mMainFrame.setPlayers(i);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6ELcAOFEeWaRLjPW0dPDQ" name="switchToMainScreen" specification="_q5VLkAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6ELcQOFEeWaRLjPW0dPDQ" name="container" type="_q4kWkAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>mMainFrame.switchToMap(container.getMap());&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0dSoAOFEeWaRLjPW0dPDQ" name="GUIView" method="_q6DkXwOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q0dSoQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q0dSogOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q0dSowOFEeWaRLjPW0dPDQ" type="_q0crkAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q0dSpAOFEeWaRLjPW0dPDQ" name="askConnectionType" method="_q6DkYQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0dSpQOFEeWaRLjPW0dPDQ" name="params">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0d5sgOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0d5sAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0d5tgOFEeWaRLjPW0dPDQ" name="askHost" method="_q6ELYAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0egwAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0egxAOFEeWaRLjPW0dPDQ" name="askUsername" method="_q6ELYgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0fH0AOFEeWaRLjPW0dPDQ" name="message">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0fH0QOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0fu4AOFEeWaRLjPW0dPDQ" name="askMap" method="_q6ELZQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0fu4QOFEeWaRLjPW0dPDQ" name="mapList">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0fu5AOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0fu4gOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0gV8wOFEeWaRLjPW0dPDQ" name="run" method="_q6ELaQOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_q0gV9wOFEeWaRLjPW0dPDQ" name="showError" method="_q6ELagOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0gV-AOFEeWaRLjPW0dPDQ" name="string">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0g9AwOFEeWaRLjPW0dPDQ" name="updateLoginTime" method="_q6ELbAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0g9BAOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0hkEgOFEeWaRLjPW0dPDQ" name="updateLoginStat" method="_q6ELbgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0hkEwOFEeWaRLjPW0dPDQ" name="i">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q5VLkAOFEeWaRLjPW0dPDQ" name="switchToMainScreen" method="_q6ELcAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5VLkQOFEeWaRLjPW0dPDQ" name="container" type="_q4kWkAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0iyMAOFEeWaRLjPW0dPDQ" name="Hexagon">
                <ownedComment xmi:id="_q6NVUAOFEeWaRLjPW0dPDQ">
                  <body>Class for Hexagon view. Contains center, size, and shape to be drawn on screen.&#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)&#xD;
 *</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5vbQQOFEeWaRLjPW0dPDQ" name="center" type="_q4s5cQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6XGUwOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5vbQgOFEeWaRLjPW0dPDQ" name="size" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5vbQwOFEeWaRLjPW0dPDQ" name="path" type="_q4s5cwOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6XGVgOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6EycAOFEeWaRLjPW0dPDQ" name="Hexagon" specification="_q4tggQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6EycQOFEeWaRLjPW0dPDQ" name="center" type="_q4s5cQOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6EycgOFEeWaRLjPW0dPDQ" name="size">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6EycwOFEeWaRLjPW0dPDQ" name="hexagonPath" type="_q4s5cwOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6EydAOFEeWaRLjPW0dPDQ" type="_q0iyMAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>this.center = center;&#xD;
     this.size = size;&#xD;
     this.path = hexagonPath;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q4tggQOFEeWaRLjPW0dPDQ" name="Hexagon" method="_q6EycAOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q4tghQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q4tghgOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q4tgggOFEeWaRLjPW0dPDQ" name="center" type="_q4s5cQOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q4tggwOFEeWaRLjPW0dPDQ" name="size">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q4tghAOFEeWaRLjPW0dPDQ" name="hexagonPath" type="_q4s5cwOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q4tghwOFEeWaRLjPW0dPDQ" type="_q0iyMAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0jZQAOFEeWaRLjPW0dPDQ" name="HexagonFactory">
                <ownedComment xmi:id="_q6NVUQOFEeWaRLjPW0dPDQ">
                  <body>Class for creating and returning a new hexagon according to values given.&#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)&#xD;
 *</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5wCUAOFEeWaRLjPW0dPDQ" name="NUMBER_OF_VERTICES" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5wCUQOFEeWaRLjPW0dPDQ" value="6"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6EydQOFEeWaRLjPW0dPDQ" name="createHexagon" specification="_q4uHkAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6EydgOFEeWaRLjPW0dPDQ" name="center" type="_q4s5cQOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6EydwOFEeWaRLjPW0dPDQ" name="size">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6EyeAOFEeWaRLjPW0dPDQ" type="_q0iyMAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>Path2D.Double hexagonPath = new Path2D.Double();&#xD;
	     &#xD;
	    hexagonPath.moveTo(center.getX()+size, center.getY());&#xD;
&#xD;
     // get vertices by simply rotating by PI/6 every time&#xD;
     for( int i = 1; i &lt; NUMBER_OF_VERTICES; ++i ) {&#xD;
         hexagonPath.lineTo(center.getX() + size * Math.cos(i*Math.PI/3), center.getY() + size * Math.sin(i*Math.PI/3));&#xD;
     }&#xD;
     hexagonPath.lineTo(center.getX()+size, center.getY());&#xD;
     &#xD;
     hexagonPath.closePath();&#xD;
&#xD;
	    return new Hexagon( center, size, hexagonPath );&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0kAUAOFEeWaRLjPW0dPDQ" name="HexagonFactory" visibility="private">
                  <eAnnotations xmi:id="_q0kAUQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q0kAUgOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q0kAVAOFEeWaRLjPW0dPDQ" type="_q0jZQAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q4uHkAOFEeWaRLjPW0dPDQ" name="createHexagon" isStatic="true" method="_q6EydQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q4uHkQOFEeWaRLjPW0dPDQ" name="center" type="_q4s5cQOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q4uHkgOFEeWaRLjPW0dPDQ" name="size">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q4uHkwOFEeWaRLjPW0dPDQ" type="_q0iyMAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0knYAOFEeWaRLjPW0dPDQ" name="LoginCanvasPanel" visibility="package">
                <ownedComment xmi:id="_q6NVUgOFEeWaRLjPW0dPDQ">
                  <body>@author Alain&#xD;
@since 24/mag/2015&#xD;
 *</body>
                </ownedComment>
                <generalization xmi:id="_q5Xn0QOFEeWaRLjPW0dPDQ" general="_q4v8wwOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5wCUgOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5wCUwOFEeWaRLjPW0dPDQ" value="1L"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5wCVAOFEeWaRLjPW0dPDQ" name="mBigFont" visibility="private" type="_q4uuoQOFEeWaRLjPW0dPDQ" association="_q6XtYQOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5wCVgOFEeWaRLjPW0dPDQ" name="mSmallFont" visibility="private" type="_q4uuoQOFEeWaRLjPW0dPDQ" association="_q6XtZAOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5wpYQOFEeWaRLjPW0dPDQ" name="mTime" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5wpYgOFEeWaRLjPW0dPDQ" value="-1"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5wpZAOFEeWaRLjPW0dPDQ" name="mPlayers" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5wpZQOFEeWaRLjPW0dPDQ" value="0"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6EyeQOFEeWaRLjPW0dPDQ" name="LoginCanvasPanel" specification="_q0lOcAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6EyegOFEeWaRLjPW0dPDQ" type="_q0knYAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>mBigFont = new Font(&quot;Helvetica&quot;, Font.PLAIN, 48);&#xD;
     mSmallFont = new Font(&quot;Helvetica&quot;, Font.PLAIN, 24);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6EyewOFEeWaRLjPW0dPDQ" name="paintComponent" specification="_q5WZsAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6EyfAOFEeWaRLjPW0dPDQ" name="g" type="_q4uuowOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>super.paintComponent(g);     // paint parent's background&#xD;
&#xD;
     Graphics2D g2d = (Graphics2D)g;&#xD;
     setBackground(Color.WHITE);  // set background color for this JPanel&#xD;
&#xD;
     g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);&#xD;
     &#xD;
     int nextY = 0;&#xD;
     nextY = drawCentered(g2d, mBigFont, &quot;Waiting for other players&quot;,nextY);&#xD;
     nextY = drawCentered(g2d, mSmallFont, &quot;Players online: &quot; + mPlayers, nextY + 20);&#xD;
     &#xD;
     int dt = (int) (mTime - (int)(System.currentTimeMillis()/1000));&#xD;
     if(mTime >= 0 &amp;&amp; dt >= 0)&#xD;
         nextY = drawCentered(g2d, mSmallFont, &quot;Remaining time: &quot; + dt + &quot;s&quot;,nextY);&#xD;
     else&#xD;
         nextY = drawCentered(g2d, mSmallFont, &quot;Starting...&quot;,nextY);&#xD;
     &#xD;
     repaint();&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6EyfQOFEeWaRLjPW0dPDQ" name="drawCentered" specification="_q5XAwwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6EyfgOFEeWaRLjPW0dPDQ" name="g" type="_q4vVsAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6EyfwOFEeWaRLjPW0dPDQ" name="font" type="_q4uuoQOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6EygAOFEeWaRLjPW0dPDQ" name="str">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6EygQOFEeWaRLjPW0dPDQ" name="y">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6EyggOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>FontRenderContext frc = g.getFontRenderContext();&#xD;
     Rectangle2D win = g.getClipBounds();&#xD;
     Rectangle2D rect = font.getStringBounds(str, frc);&#xD;
     &#xD;
     g.setFont(font);&#xD;
     g.drawString(str, (int)(win.getWidth() - rect.getWidth())/2 , (int) rect.getHeight() + y);&#xD;
     return (int) (rect.getHeight() + y);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6EygwOFEeWaRLjPW0dPDQ" name="setTime" specification="_q0l1gwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6EyhAOFEeWaRLjPW0dPDQ" name="remainingTime">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mTime = (int) (System.currentTimeMillis()/1000 + remainingTime);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZgAOFEeWaRLjPW0dPDQ" name="setPlayers" specification="_q0mckAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6FZgQOFEeWaRLjPW0dPDQ" name="newPlayers">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>mPlayers = newPlayers;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0lOcAOFEeWaRLjPW0dPDQ" name="LoginCanvasPanel" method="_q6EyeQOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q0l1gAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q0l1gQOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q0l1ggOFEeWaRLjPW0dPDQ" type="_q0knYAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q0l1gwOFEeWaRLjPW0dPDQ" name="setTime" method="_q6EygwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0l1hAOFEeWaRLjPW0dPDQ" name="remainingTime">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q0mckAOFEeWaRLjPW0dPDQ" name="setPlayers" method="_q6FZgAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q0mckQOFEeWaRLjPW0dPDQ" name="newPlayers">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q5WZsAOFEeWaRLjPW0dPDQ" name="paintComponent" method="_q6EyewOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5WZsQOFEeWaRLjPW0dPDQ" name="g" type="_q4uuowOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5XAwwOFEeWaRLjPW0dPDQ" name="drawCentered" visibility="private" method="_q6EyfQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5XAxAOFEeWaRLjPW0dPDQ" name="g" type="_q4vVsAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q5XAxQOFEeWaRLjPW0dPDQ" name="font" type="_q4uuoQOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q5XAxgOFEeWaRLjPW0dPDQ" name="str">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q5XAxwOFEeWaRLjPW0dPDQ" name="y">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q5Xn0AOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q0nqsAOFEeWaRLjPW0dPDQ" name="MapCanvasPanel">
                <ownedComment xmi:id="_q6NVUwOFEeWaRLjPW0dPDQ">
                  <body>Panel where the map is drawn. It is used in {@link GUIFrame} class. &#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)</body>
                </ownedComment>
                <generalization xmi:id="_q5ZdAAOFEeWaRLjPW0dPDQ" general="_q4v8wwOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5xQcAOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5xQcQOFEeWaRLjPW0dPDQ" value="-5583245069814214909L"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5xQcgOFEeWaRLjPW0dPDQ" name="gameMap" visibility="private" type="_q1OusAOFEeWaRLjPW0dPDQ" association="_q6YUcQOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5xQdAOFEeWaRLjPW0dPDQ" name="hexagons" visibility="private" type="_q0iyMAOFEeWaRLjPW0dPDQ" association="_q6YUdAOFEeWaRLjPW0dPDQ">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q5xQdQOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5xQeAOFEeWaRLjPW0dPDQ" name="sectorColors" visibility="private" type="_q4uHlAOFEeWaRLjPW0dPDQ" association="_q6YUdwOFEeWaRLjPW0dPDQ">
                  <qualifier xmi:id="_q5x3gQOFEeWaRLjPW0dPDQ">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </qualifier>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5x3ggOFEeWaRLjPW0dPDQ" name="currentHexCoordinates" visibility="private" type="_q4xx8wOFEeWaRLjPW0dPDQ" association="_q6Y7gQOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_q5x3hAOFEeWaRLjPW0dPDQ" name="hexWidth" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5yekAOFEeWaRLjPW0dPDQ" name="hexHeight" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5yekgOFEeWaRLjPW0dPDQ" name="marginHeight" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5yelAOFEeWaRLjPW0dPDQ" name="canvasWidth" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5yelgOFEeWaRLjPW0dPDQ" name="canvasHeight" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZggOFEeWaRLjPW0dPDQ" name="MapCanvasPanel" specification="_q4znIAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6FZgwOFEeWaRLjPW0dPDQ" name="map" type="_q1OusAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6FZhAOFEeWaRLjPW0dPDQ" name="canvasWidth">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6FZhQOFEeWaRLjPW0dPDQ" name="canvasHeight">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6FZhgOFEeWaRLjPW0dPDQ" type="_q0nqsAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>// initialization &#xD;
     this.canvasWidth = canvasWidth;&#xD;
     this.canvasHeight = canvasHeight;&#xD;
     hexagons = new Hexagon[GameMap.ROWS][GameMap.COLUMNS];&#xD;
     gameMap = map;&#xD;
     currentHexCoordinates = null;&#xD;
&#xD;
     // methods for detecting mouse position and clicking&#xD;
     this.addMouseListener( new MouseListener() {&#xD;
         @Override&#xD;
         public void mousePressed(MouseEvent e) { }&#xD;
         &#xD;
         @Override&#xD;
         public void mouseClicked(MouseEvent arg0) { }&#xD;
&#xD;
         @Override&#xD;
         public void mouseEntered(MouseEvent e) { }&#xD;
&#xD;
         @Override&#xD;
         public void mouseExited(MouseEvent e) { }&#xD;
&#xD;
         @Override&#xD;
         public void mouseReleased(MouseEvent e) { }&#xD;
     });&#xD;
     &#xD;
     this.addMouseMotionListener( new MouseMotionListener() {&#xD;
         // FIXME: ignore not selectable sectors&#xD;
         // get current hex by inspecting each shape area&#xD;
         @Override&#xD;
         public void mouseMoved(MouseEvent e) {&#xD;
             for( int i = 0; i &lt; hexagons.length; ++i )&#xD;
                 for( int j = 0; j &lt; hexagons[i].length; ++j )&#xD;
                     if( hexagons[i][j] != null &amp;&amp; hexagons[i][j].getPath().contains( e.getPoint() ) ) {&#xD;
                     	Point oldHexCoordinates = currentHexCoordinates;&#xD;
                         currentHexCoordinates = new Point( i, j );&#xD;
                         repaint(); // FIXME Optimize me! Draw only necessary pixels&#xD;
                         &#xD;
                         return;&#xD;
                     }&#xD;
             &#xD;
             currentHexCoordinates = null; // no selectable hexagons found&#xD;
             repaint();&#xD;
         }&#xD;
&#xD;
         @Override&#xD;
         public void mouseDragged(MouseEvent e) { }&#xD;
     });&#xD;
&#xD;
     // calc width, height and margins according to size&#xD;
     calculateValuesForHexagons();&#xD;
&#xD;
     // set colors for every sector&#xD;
     createSectorColorsMap();&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZhwOFEeWaRLjPW0dPDQ" name="createSectorColorsMap" specification="_q0o40AOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>sectorColors = new HashMap&lt;>();   &#xD;
&#xD;
     sectorColors.put(SectorBuilder.ALIEN, new Color(90,0,0));&#xD;
     sectorColors.put(SectorBuilder.DANGEROUS, new Color(236,20,83));&#xD;
     sectorColors.put(SectorBuilder.NOT_DANGEROUS, new Color(222,189,218));&#xD;
     sectorColors.put(SectorBuilder.HATCH, new Color(47,53,87));&#xD;
     sectorColors.put(SectorBuilder.HUMAN, new Color(200,0,0));&#xD;
     sectorColors.put(SectorBuilder.NOT_VALID, new Color(239,236,243));&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZiAOFEeWaRLjPW0dPDQ" name="calculateValuesForHexagons" specification="_q0o40QOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>// Reference: http://www.redblobgames.com/grids/hexagons/&#xD;
     hexWidth = canvasWidth / ( 0.75 * (GameMap.COLUMNS-1) + 1 );&#xD;
     hexHeight =  hexWidth * Math.sqrt(3)/2;&#xD;
     marginHeight = (canvasHeight - hexHeight * ( GameMap.ROWS + 0.5 )) / 2;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZiQOFEeWaRLjPW0dPDQ" name="paintComponent" specification="_q5YO4AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6FZigOFEeWaRLjPW0dPDQ" name="g" type="_q4uuowOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>super.paintComponent(g);     // paint parent's background&#xD;
&#xD;
     Graphics2D g2d = (Graphics2D)g;&#xD;
     setBackground(Color.WHITE);  // set background color for this JPanel&#xD;
&#xD;
     g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);&#xD;
    /* g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);*/&#xD;
&#xD;
     drawHexagons(g2d);&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZiwOFEeWaRLjPW0dPDQ" name="drawHexagons" specification="_q5Y18gOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6FZjAOFEeWaRLjPW0dPDQ" name="g2d" type="_q4vVsAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>// Draw columns first since it's easier to do&#xD;
     for( int col = 0; col &lt; GameMap.COLUMNS; ++col ) {&#xD;
         for( int row = 0; row &lt; GameMap.ROWS; ++ row ) {&#xD;
         	// draw only if it is a valid sector&#xD;
             if( gameMap.getSectorAt(row, col).getId() != SectorBuilder.NOT_VALID )&#xD;
             	drawHexAt(g2d, new Point(row, col), DrawingMode.NORMAL);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     if( currentHexCoordinates != null ) {&#xD;
         drawHexAt(g2d, currentHexCoordinates, DrawingMode.SELECTED_HEX);&#xD;
     }&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZjQOFEeWaRLjPW0dPDQ" name="drawHexAt" specification="_q5Y19AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6FZjgOFEeWaRLjPW0dPDQ" name="g2d" type="_q4vVsAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6FZjwOFEeWaRLjPW0dPDQ" name="position" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q6FZkAOFEeWaRLjPW0dPDQ" name="mode" type="_q0pf4wOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>Sector currentSector;&#xD;
     Point2D.Double startPoint;&#xD;
     &#xD;
     // calculate point coordinates of upper-left corner of containing rectangle&#xD;
     startPoint =  new Point2D.Double(hexWidth*3/4*position.y, marginHeight + position.x * hexHeight + ( isEvenColumn(position.y)  ? 0 : hexHeight/2 ) );&#xD;
     &#xD;
     // create hexagon: center of it is distant (hexWidth/2, hexHeight/2) from the starting point&#xD;
     hexagons[position.x][position.y] = HexagonFactory.createHexagon(new Point2D.Double(startPoint.getX() + hexWidth/2, startPoint.getY() + hexHeight/2), hexWidth/2);&#xD;
&#xD;
     // fill the shape according to sector type&#xD;
     currentSector = gameMap.getSectorAt(position.x, position.y);&#xD;
     &#xD;
     // TODO: add other drawing modes&#xD;
     // some tweaks on color according to drawing mode&#xD;
     switch( mode ) {&#xD;
     case NORMAL:&#xD;
         g2d.setColor( sectorColors.get( currentSector.getId() ) );&#xD;
         break;&#xD;
         &#xD;
     case SELECTED_HEX:&#xD;
         g2d.setColor( Color.CYAN ); // FIXME color hardcoded&#xD;
         break;&#xD;
         &#xD;
     default:&#xD;
         throw new DrawingModeException(&quot;Drawing mode not supported&quot;);&#xD;
     }&#xD;
     &#xD;
     g2d.fill(hexagons[position.x][position.y].getPath());&#xD;
     &#xD;
     // border&#xD;
     g2d.setColor(Color.BLACK);&#xD;
     g2d.draw(hexagons[position.x][position.y].getPath());&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6FZkQOFEeWaRLjPW0dPDQ" name="isEvenColumn" specification="_q0pf4AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q6FZkgOFEeWaRLjPW0dPDQ" name="col">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q6FZkwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return col % 2 == 0;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_q0o40AOFEeWaRLjPW0dPDQ" name="createSectorColorsMap" visibility="private" method="_q6FZhwOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_q6NVVQOFEeWaRLjPW0dPDQ">
                    <body>Creates the sector colors map.</body>
                  </ownedComment>
                </ownedOperation>
                <ownedOperation xmi:id="_q0o40QOFEeWaRLjPW0dPDQ" name="calculateValuesForHexagons" visibility="private" method="_q6FZiAOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_q6NVVgOFEeWaRLjPW0dPDQ">
                    <body>Calculate values for hexagons.</body>
                  </ownedComment>
                </ownedOperation>
                <ownedOperation xmi:id="_q0pf4AOFEeWaRLjPW0dPDQ" name="isEvenColumn" visibility="private" method="_q6FZkQOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_q6NVWQOFEeWaRLjPW0dPDQ">
                    <body>Checks if column % 2 == 0.&#xD;
     *&#xD;
     * @param col the column index&#xD;
     * @return true, if is even column</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_q0pf4QOFEeWaRLjPW0dPDQ" name="col">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q0pf4gOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_q4znIAOFEeWaRLjPW0dPDQ" name="MapCanvasPanel" method="_q6FZggOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q4znJAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q4znJQOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedComment xmi:id="_q6NVVAOFEeWaRLjPW0dPDQ">
                    <body>Instantiates a new map canvas panel.&#xD;
     *&#xD;
     * @param map the map to be drawn&#xD;
     * @param canvasWidth the canvas width&#xD;
     * @param canvasHeight the canvas height</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_q4znIQOFEeWaRLjPW0dPDQ" name="map" type="_q1OusAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q4znIgOFEeWaRLjPW0dPDQ" name="canvasWidth">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q4znIwOFEeWaRLjPW0dPDQ" name="canvasHeight">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q4znJgOFEeWaRLjPW0dPDQ" type="_q0nqsAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5YO4AOFEeWaRLjPW0dPDQ" name="paintComponent" method="_q6FZiQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5YO4QOFEeWaRLjPW0dPDQ" name="g" type="_q4uuowOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5Y18gOFEeWaRLjPW0dPDQ" name="drawHexagons" visibility="private" method="_q6FZiwOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_q6NVVwOFEeWaRLjPW0dPDQ">
                    <body>Draw hexagons.&#xD;
     *&#xD;
     * @param g2d The Graphics2D object where to draw on</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_q5Y18wOFEeWaRLjPW0dPDQ" name="g2d" type="_q4vVsAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q5Y19AOFEeWaRLjPW0dPDQ" name="drawHexAt" visibility="private" method="_q6FZjQOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_q6NVWAOFEeWaRLjPW0dPDQ">
                    <body>Draw hex at given coordinates.&#xD;
     *&#xD;
     * @param g2d The Graphics2D object where to draw on&#xD;
     * @param position the position(i,j) in array of hexagons&#xD;
     * @param mode {@link DrawingMode} to use</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_q5Y19QOFEeWaRLjPW0dPDQ" name="g2d" type="_q4vVsAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q5Y19gOFEeWaRLjPW0dPDQ" name="position" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_q5Y19wOFEeWaRLjPW0dPDQ" name="mode" type="_q0pf4wOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_q0pf4wOFEeWaRLjPW0dPDQ" name="DrawingMode" visibility="private">
                  <ownedComment xmi:id="_q6NVWgOFEeWaRLjPW0dPDQ">
                    <body>The Enum DrawingMode. Used by {@link MapCanvasPanel#drawHexAt(Graphics2D, Point, DrawingMode)}</body>
                  </ownedComment>
                  <ownedLiteral xmi:id="_q0qG8QOFEeWaRLjPW0dPDQ" name="NORMAL"/>
                  <ownedLiteral xmi:id="_q0qG8gOFEeWaRLjPW0dPDQ" name="SELECTED_HEX"/>
                </nestedClassifier>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6V4MQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6V4MgOFEeWaRLjPW0dPDQ _q5uNIQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6V4MgOFEeWaRLjPW0dPDQ" name="" type="_q0ZoQAOFEeWaRLjPW0dPDQ" association="_q6V4MQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6V4NAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6V4NQOFEeWaRLjPW0dPDQ _q5uNJwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6V4NQOFEeWaRLjPW0dPDQ" name="" type="_q0ZoQAOFEeWaRLjPW0dPDQ" association="_q6V4NAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6WfQQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6WfQgOFEeWaRLjPW0dPDQ _q5u0MAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6WfQgOFEeWaRLjPW0dPDQ" name="" type="_q0ZoQAOFEeWaRLjPW0dPDQ" association="_q6WfQQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6WfRAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6WfRQOFEeWaRLjPW0dPDQ _q5u0NAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6WfRQOFEeWaRLjPW0dPDQ" name="" type="_q0ZoQAOFEeWaRLjPW0dPDQ" association="_q6WfRAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6XGUAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6XGUQOFEeWaRLjPW0dPDQ _q5u0NgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6XGUQOFEeWaRLjPW0dPDQ" name="" type="_q0crkAOFEeWaRLjPW0dPDQ" association="_q6XGUAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6XGUwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6XGVAOFEeWaRLjPW0dPDQ _q5vbQQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6XGVAOFEeWaRLjPW0dPDQ" name="" type="_q0iyMAOFEeWaRLjPW0dPDQ" association="_q6XGUwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6XGVgOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6XGVwOFEeWaRLjPW0dPDQ _q5vbQwOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6XGVwOFEeWaRLjPW0dPDQ" name="" type="_q0iyMAOFEeWaRLjPW0dPDQ" association="_q6XGVgOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6XtYQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6XtYgOFEeWaRLjPW0dPDQ _q5wCVAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6XtYgOFEeWaRLjPW0dPDQ" name="" type="_q0knYAOFEeWaRLjPW0dPDQ" association="_q6XtYQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6XtZAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6XtZQOFEeWaRLjPW0dPDQ _q5wCVgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6XtZQOFEeWaRLjPW0dPDQ" name="" type="_q0knYAOFEeWaRLjPW0dPDQ" association="_q6XtZAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6YUcQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6YUcgOFEeWaRLjPW0dPDQ _q5xQcgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6YUcgOFEeWaRLjPW0dPDQ" name="" type="_q0nqsAOFEeWaRLjPW0dPDQ" association="_q6YUcQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6YUdAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6YUdQOFEeWaRLjPW0dPDQ _q5xQdAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6YUdQOFEeWaRLjPW0dPDQ" name="" type="_q0nqsAOFEeWaRLjPW0dPDQ" association="_q6YUdAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6YUdwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6YUeAOFEeWaRLjPW0dPDQ _q5xQeAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6YUeAOFEeWaRLjPW0dPDQ" name="" type="_q0nqsAOFEeWaRLjPW0dPDQ" association="_q6YUdwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_q6Y7gQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6Y7ggOFEeWaRLjPW0dPDQ _q5x3ggOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_q6Y7ggOFEeWaRLjPW0dPDQ" name="" type="_q0nqsAOFEeWaRLjPW0dPDQ" association="_q6Y7gQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q0JwoAOFEeWaRLjPW0dPDQ" name="Controller">
              <ownedComment xmi:id="_q6MuQAOFEeWaRLjPW0dPDQ">
                <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 18, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_q5rw4AOFEeWaRLjPW0dPDQ" name="mView" visibility="private" type="_q0OCEwOFEeWaRLjPW0dPDQ" association="_q6UDAAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q5sX8QOFEeWaRLjPW0dPDQ" name="mConn" visibility="private" type="_q0sjMAOFEeWaRLjPW0dPDQ" association="_q6UqEQOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q5sX8wOFEeWaRLjPW0dPDQ" name="mQueue" visibility="private" type="_q4k9pQOFEeWaRLjPW0dPDQ" association="_q6UqFAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q5s_AgOFEeWaRLjPW0dPDQ" name="mMustClose" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5s_AwOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <interfaceRealization xmi:id="_q4lkswOFEeWaRLjPW0dPDQ" client="_q0JwoAOFEeWaRLjPW0dPDQ" supplier="_q0wNkAOFEeWaRLjPW0dPDQ" contract="_q0wNkAOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6BvIAOFEeWaRLjPW0dPDQ" name="Controller" specification="_q0KXsAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6BvIQOFEeWaRLjPW0dPDQ" type="_q0JwoAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mQueue = new LinkedBlockingQueue&lt;NetworkPacket>();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWMAOFEeWaRLjPW0dPDQ" name="setView" specification="_q4mLwAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6CWMQOFEeWaRLjPW0dPDQ" name="v" type="_q0OCEwOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>mView = v;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWMgOFEeWaRLjPW0dPDQ" name="run" specification="_q0K-wAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>String[] connList = ConnectionFactory.getConnectionList();
     
     int conn = mView.askConnectionType(connList);
     mConn = ConnectionFactory.getConnection(conn);
     mConn.setOnReceiveListener(this);
     if(mConn == null)
         return;
     
     String host = mView.askHost().trim();
     if(host.length() == 0)
         return;
     
     mConn.setHost(host);
     
     try {
         mConn.connect();
     } catch (IOException e) {
         mView.showError(&quot;Cannot connect to &quot; + host + &quot;: &quot; + e.toString());
         return;
     }
     
     while(!mConn.isOnline()) {
         try {
             Thread.sleep(100);
         } catch (InterruptedException e) {
         }
     }
     mView.run();
     
     String user = &quot;&quot;;
     while(!mMustClose) {
         try {
             NetworkPacket cmd = mQueue.poll(1, TimeUnit.SECONDS);
             if(cmd == null)
                 continue;
             String msg = &quot;&quot;;
             switch(cmd.getOpcode()) {
                 case CMD_SC_TIME:
                     mView.updateLoginTime(Integer.parseInt((String) cmd.getArgs()[0]));
                     break;
                 case CMD_SC_STAT:
                     mView.updateLoginStat(Integer.parseInt((String) cmd.getArgs()[0]));
                     break;
                 case CMD_SC_USERFAIL:
                     msg = &quot;Another player is using your name. Choose another one.&quot;;
                 case CMD_SC_CHOOSEUSER:
                     do {
                         user = mView.askUsername(msg.equals(&quot;&quot;)?&quot;Choose a username&quot;:msg);
                     } while(user == null || user.trim().length() == 0);
                     mConn.sendPacket(new NetworkPacket(GameCommand.CMD_CS_USERNAME, user.trim()));
                     break;
                 case CMD_SC_USEROK:
                     break;
                 case CMD_SC_MAPFAIL:
                 case CMD_SC_CHOOSEMAP:
                     Integer chosenMap;
                     do {
                     chosenMap = mView.askMap((String[])cmd.getArgs());
                     } while(chosenMap == null);
                     
                     mConn.sendPacket(new NetworkPacket(GameCommand.CMD_CS_LOADMAP, chosenMap));
                     break;
                 case CMD_SC_MAPOK:
                     break;
                 case CMD_SC_RUN:
                     mView.switchToMainScreen((GameInfoContainer)(cmd.getArgs()[0]));
                     break;
                 case CMD_BYE:
                     break;

             };
         } catch(InterruptedException e) {
             mMustClose = true;
             break;
         }
     }

     mView.run();
     
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWMwOFEeWaRLjPW0dPDQ" name="onReceive" specification="_q5SvUAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6CWNAOFEeWaRLjPW0dPDQ" name="obj" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>synchronized(mQueue) {
         mQueue.add(obj);
     }
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q0KXsAOFEeWaRLjPW0dPDQ" name="Controller" method="_q6BvIAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q0KXsQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q0KXsgOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q0KXswOFEeWaRLjPW0dPDQ" type="_q0JwoAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q0K-wAOFEeWaRLjPW0dPDQ" name="run" method="_q6CWMgOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_q0K-wQOFEeWaRLjPW0dPDQ" name="onDisconnect"/>
              <ownedOperation xmi:id="_q4mLwAOFEeWaRLjPW0dPDQ" name="setView" method="_q6CWMAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q4mLwQOFEeWaRLjPW0dPDQ" name="v" type="_q0OCEwOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5SvUAOFEeWaRLjPW0dPDQ" name="onReceive" method="_q6CWMwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5SvUQOFEeWaRLjPW0dPDQ" name="obj" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q0Mz8AOFEeWaRLjPW0dPDQ" name="Main">
              <ownedComment xmi:id="_q6MuQQOFEeWaRLjPW0dPDQ">
                <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 10, 2015</body>
              </ownedComment>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6CWNQOFEeWaRLjPW0dPDQ" name="main" specification="_q0OCEAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6CWNgOFEeWaRLjPW0dPDQ" name="args">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6CWNwOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>Controller c = new Controller();
     View v = new GUIView();
     c.setView(v);
     c.run();
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q0NbAAOFEeWaRLjPW0dPDQ" name="Main" visibility="private">
                <eAnnotations xmi:id="_q0NbAQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q0NbAgOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q0NbBAOFEeWaRLjPW0dPDQ" type="_q0Mz8AOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q0OCEAOFEeWaRLjPW0dPDQ" name="main" isStatic="true" method="_q6CWNQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q0OCEQOFEeWaRLjPW0dPDQ" name="args">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0OCEgOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_q0OCEwOFEeWaRLjPW0dPDQ" name="View">
              <ownedComment xmi:id="_q6MuQgOFEeWaRLjPW0dPDQ">
                <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 18, 2015</body>
              </ownedComment>
              <ownedOperation xmi:id="_q0OpIAOFEeWaRLjPW0dPDQ" name="askConnectionType">
                <ownedParameter xmi:id="_q0OpIQOFEeWaRLjPW0dPDQ" name="params">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0OpIwOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q0OpIgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q0PQMAOFEeWaRLjPW0dPDQ" name="askHost">
                <ownedParameter xmi:id="_q0PQMQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q0PQMgOFEeWaRLjPW0dPDQ" name="askUsername">
                <ownedParameter xmi:id="_q0PQMwOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q0PQNAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q0PQNQOFEeWaRLjPW0dPDQ" name="askMap">
                <ownedParameter xmi:id="_q0PQNgOFEeWaRLjPW0dPDQ" name="mapList">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q0P3QQOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q0P3QAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q0P3QgOFEeWaRLjPW0dPDQ" name="run"/>
              <ownedOperation xmi:id="_q0P3QwOFEeWaRLjPW0dPDQ" name="showError">
                <ownedParameter xmi:id="_q0P3RAOFEeWaRLjPW0dPDQ" name="string">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q0P3RQOFEeWaRLjPW0dPDQ" name="updateLoginTime">
                <ownedParameter xmi:id="_q0QeUAOFEeWaRLjPW0dPDQ" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q0QeUQOFEeWaRLjPW0dPDQ" name="updateLoginStat">
                <ownedParameter xmi:id="_q0QeUgOFEeWaRLjPW0dPDQ" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q5TWYAOFEeWaRLjPW0dPDQ" name="switchToMainScreen">
                <ownedParameter xmi:id="_q5TWYQOFEeWaRLjPW0dPDQ" name="container" type="_q4kWkAOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6UDAAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6UDAQOFEeWaRLjPW0dPDQ _q5rw4AOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6UDAQOFEeWaRLjPW0dPDQ" name="" type="_q0JwoAOFEeWaRLjPW0dPDQ" association="_q6UDAAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6UqEQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6UqEgOFEeWaRLjPW0dPDQ _q5sX8QOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6UqEgOFEeWaRLjPW0dPDQ" name="" type="_q0JwoAOFEeWaRLjPW0dPDQ" association="_q6UqEQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6UqFAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6UqFQOFEeWaRLjPW0dPDQ _q5sX8wOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6UqFQOFEeWaRLjPW0dPDQ" name="" type="_q0JwoAOFEeWaRLjPW0dPDQ" association="_q6UqFAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_qzBIMgOFEeWaRLjPW0dPDQ" name="game">
            <packagedElement xmi:type="uml:Package" xmi:id="_qzBvQAOFEeWaRLjPW0dPDQ" name="network">
              <packagedElement xmi:type="uml:Class" xmi:id="_q4kWkAOFEeWaRLjPW0dPDQ" name="GameInfoContainer">
                <ownedComment xmi:id="_r7gawgOFEeWaRLjPW0dPDQ">
                  <body>@author Alain&#xD;
@since 22/mag/2015&#xD;
 *</body>
                </ownedComment>
                <ownedAttribute xmi:id="_r7LDEAOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7LDEQOFEeWaRLjPW0dPDQ" value="1L"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7LDEgOFEeWaRLjPW0dPDQ" name="mUsers" visibility="private" isLeaf="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7LqIAOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7LqIwOFEeWaRLjPW0dPDQ" name="mHuman" visibility="private" isLeaf="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7LqJQOFEeWaRLjPW0dPDQ" name="mMap" visibility="private" isLeaf="true" type="_q1OusAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLQAOFEeWaRLjPW0dPDQ"/>
                <interfaceRealization xmi:id="_r5iEUAOFEeWaRLjPW0dPDQ" client="_q4kWkAOFEeWaRLjPW0dPDQ" supplier="_q5BpkQOFEeWaRLjPW0dPDQ" contract="_q5BpkQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI0AOFEeWaRLjPW0dPDQ" name="GameInfoContainer" specification="_r5x78AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI0QOFEeWaRLjPW0dPDQ" name="usernames">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7cI0gOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7cI0wOFEeWaRLjPW0dPDQ" name="isHuman">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7cI1AOFEeWaRLjPW0dPDQ" name="map" type="_q1OusAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7cI1QOFEeWaRLjPW0dPDQ" type="_q4kWkAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>mUsers = usernames;&#xD;
		mHuman = isHuman;&#xD;
		mMap = map;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI1gOFEeWaRLjPW0dPDQ" name="getPlayersList" specification="_r4woQAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI1wOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7cI2AOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return mUsers;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI2QOFEeWaRLjPW0dPDQ" name="getMap" specification="_r4woRAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI2gOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>return mMap;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI2wOFEeWaRLjPW0dPDQ" name="isHuman" specification="_r46ZQAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI3AOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return mHuman;&#xD;
	</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r4woQAOFEeWaRLjPW0dPDQ" name="getPlayersList" method="_r7cI1gOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7gawwOFEeWaRLjPW0dPDQ">
                    <body>@return the mUsers</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r4woQQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r4woQgOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r4woRAOFEeWaRLjPW0dPDQ" name="getMap" method="_r7cI2QOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7gaxAOFEeWaRLjPW0dPDQ">
                    <body>@return the mMap</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r4woRQOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZQAOFEeWaRLjPW0dPDQ" name="isHuman" method="_r7cI2wOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7gaxQOFEeWaRLjPW0dPDQ">
                    <body>@return the mHuman</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r5yjBwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r5x78AOFEeWaRLjPW0dPDQ" name="GameInfoContainer" method="_r7cI0AOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_r5yjAwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_r5yjBAOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_r5x78QOFEeWaRLjPW0dPDQ" name="usernames">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r5yjBQOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r5yjAAOFEeWaRLjPW0dPDQ" name="isHuman">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r5yjAQOFEeWaRLjPW0dPDQ" name="map" type="_q1OusAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5yjAgOFEeWaRLjPW0dPDQ" type="_q4kWkAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q4kWkgOFEeWaRLjPW0dPDQ" name="NetworkPacket">
                <ownedComment xmi:id="_r7gaxgOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 17, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_r7MRMQOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7MRMgOFEeWaRLjPW0dPDQ" value="1L"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7MRMwOFEeWaRLjPW0dPDQ" name="mOpcode" visibility="private" isLeaf="true" type="_q1LEUAOFEeWaRLjPW0dPDQ" isReadOnly="true"/>
                <ownedAttribute xmi:id="_r7MRNQOFEeWaRLjPW0dPDQ" name="mArgs" visibility="private" isLeaf="true" type="_q5BpkQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLQwOFEeWaRLjPW0dPDQ">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7MRNgOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_r5jScAOFEeWaRLjPW0dPDQ" client="_q4kWkgOFEeWaRLjPW0dPDQ" supplier="_q5BpkQOFEeWaRLjPW0dPDQ" contract="_q5BpkQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI3QOFEeWaRLjPW0dPDQ" name="NetworkPacket" specification="_r46ZQQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI3gOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7cI3wOFEeWaRLjPW0dPDQ" name="args" type="_q5BpkQOFEeWaRLjPW0dPDQ">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7cI4AOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7cI4QOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>mOpcode = opcode;
     mArgs = args;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI4gOFEeWaRLjPW0dPDQ" name="getOpcode" specification="_r46ZSQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI4wOFEeWaRLjPW0dPDQ" type="_q1LEUAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>return mOpcode;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cI5AOFEeWaRLjPW0dPDQ" name="getArgs" specification="_r46ZSwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cI5QOFEeWaRLjPW0dPDQ" type="_q5BpkQOFEeWaRLjPW0dPDQ" direction="return">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7cI5gOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return mArgs;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r46ZQQOFEeWaRLjPW0dPDQ" name="NetworkPacket" method="_r7cI3QOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_r46ZRAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_r46ZRQOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_r46ZQgOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r46ZQwOFEeWaRLjPW0dPDQ" name="args" type="_q5BpkQOFEeWaRLjPW0dPDQ">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r46ZRwOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r46ZRgOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZSQOFEeWaRLjPW0dPDQ" name="getOpcode" method="_r7cI4gOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r46ZSgOFEeWaRLjPW0dPDQ" type="_q1LEUAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZSwOFEeWaRLjPW0dPDQ" name="getArgs" method="_r7cI5AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r46ZTAOFEeWaRLjPW0dPDQ" type="_q5BpkQOFEeWaRLjPW0dPDQ" direction="return">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r46ZTQOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Interface" xmi:id="_q43RgAOFEeWaRLjPW0dPDQ" name="ServerRMIMask">
                <ownedComment xmi:id="_r7gaxwOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 16, 2015</body>
                </ownedComment>
                <generalization xmi:id="_r7GxoAOFEeWaRLjPW0dPDQ" general="_r69AoAOFEeWaRLjPW0dPDQ"/>
                <ownedOperation xmi:id="_r46ZTwOFEeWaRLjPW0dPDQ" name="registerAndGetId" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5zKEAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r5zKEQOFEeWaRLjPW0dPDQ" name="onRMICommand" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5zKEgOFEeWaRLjPW0dPDQ" name="clientId">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r5zKEwOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r5zxIAOFEeWaRLjPW0dPDQ" name="readCommands" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5zxIQOFEeWaRLjPW0dPDQ" name="clientId">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r5zxIgOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r5zxIwOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLQAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLQQOFEeWaRLjPW0dPDQ _r7LqJQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLQQOFEeWaRLjPW0dPDQ" name="" type="_q4kWkAOFEeWaRLjPW0dPDQ" association="_r7qLQAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLQwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLRAOFEeWaRLjPW0dPDQ _r7MRNQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLRAOFEeWaRLjPW0dPDQ" name="" type="_q4kWkgOFEeWaRLjPW0dPDQ" association="_r7qLQwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qzJEAAOFEeWaRLjPW0dPDQ" name="config">
              <packagedElement xmi:type="uml:Class" xmi:id="_q1nJMAOFEeWaRLjPW0dPDQ" name="Config">
                <ownedComment xmi:id="_q6PKgQOFEeWaRLjPW0dPDQ">
                  <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 17, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5_58QOFEeWaRLjPW0dPDQ" name="GAME_MIN_PLAYERS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5_58gOFEeWaRLjPW0dPDQ" value="2"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5_58wOFEeWaRLjPW0dPDQ" name="GAME_MAX_PLAYERS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5_59AOFEeWaRLjPW0dPDQ" value="8"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5_59QOFEeWaRLjPW0dPDQ" name="GAME_WAITING_SECS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5_59gOFEeWaRLjPW0dPDQ" value="30"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5_59wOFEeWaRLjPW0dPDQ" name="GAME_MAP_WIDTH" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5_5-AOFEeWaRLjPW0dPDQ" value="23"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q5_5-QOFEeWaRLjPW0dPDQ" name="GAME_MAP_HEIGHT" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q6AhAAOFEeWaRLjPW0dPDQ" value="14"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q6AhAQOFEeWaRLjPW0dPDQ" name="MAX_NUMBER_OF_OBJ_CARDS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q6AhAgOFEeWaRLjPW0dPDQ" value="3"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q6AhAwOFEeWaRLjPW0dPDQ" name="SERVER_CONNECTION_TIMEOUT" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q6AhBAOFEeWaRLjPW0dPDQ" value="10000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q6AhBQOFEeWaRLjPW0dPDQ" name="SERVER_MAX_CLIENTS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q6AhBgOFEeWaRLjPW0dPDQ" value="3 * GAME_MAX_PLAYERS"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q6AhBwOFEeWaRLjPW0dPDQ" name="SERVER_TCP_LISTEN_PORT" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q6AhCAOFEeWaRLjPW0dPDQ" value="3834"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_q6AhCQOFEeWaRLjPW0dPDQ" name="CLIENT_TCP_PING_TIME" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_q6AhCgOFEeWaRLjPW0dPDQ" value="5000"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_q1nJMQOFEeWaRLjPW0dPDQ" name="Config" visibility="private">
                  <eAnnotations xmi:id="_q1nJMgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q1nJMwOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q1nwQAOFEeWaRLjPW0dPDQ" type="_q1nJMAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qzS1AAOFEeWaRLjPW0dPDQ" name="sector">
              <packagedElement xmi:type="uml:Class" xmi:id="_q4xK4AOFEeWaRLjPW0dPDQ" name="Sector">
                <ownedAttribute xmi:id="_r7P7kgOFEeWaRLjPW0dPDQ" name="id" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7P7kwOFEeWaRLjPW0dPDQ" name="crossable" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_r5lusQOFEeWaRLjPW0dPDQ" client="_q4xK4AOFEeWaRLjPW0dPDQ" supplier="_q5BpkQOFEeWaRLjPW0dPDQ" contract="_q5BpkQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elEAOFEeWaRLjPW0dPDQ" name="Sector" specification="_r54ppAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elEQOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7elEgOFEeWaRLjPW0dPDQ" name="crossable">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7elEwOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>this.id = id;
     this.crossable = crossable;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elFAOFEeWaRLjPW0dPDQ" name="isValid" specification="_r5EKQAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elFQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return id != SectorBuilder.NOT_VALID;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5EKQAOFEeWaRLjPW0dPDQ" name="isValid" method="_r7elFAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r553wAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r54ppAOFEeWaRLjPW0dPDQ" name="Sector" method="_r7elEAOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_r55QsAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_r55QsQOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_r54ppQOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r54ppgOFEeWaRLjPW0dPDQ" name="crossable">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r54ppwOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q4xx8QOFEeWaRLjPW0dPDQ" name="SectorBuilder">
                <ownedAttribute xmi:id="_r7P7lAOFEeWaRLjPW0dPDQ" name="NOT_VALID" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7P7lQOFEeWaRLjPW0dPDQ" value="0"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7QioAOFEeWaRLjPW0dPDQ" name="HATCH" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7QioQOFEeWaRLjPW0dPDQ" value="2"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7QiogOFEeWaRLjPW0dPDQ" name="USED_HATCH" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7QiowOFEeWaRLjPW0dPDQ" value="4"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7QipAOFEeWaRLjPW0dPDQ" name="NOT_DANGEROUS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7QipQOFEeWaRLjPW0dPDQ" value="1"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7QipgOFEeWaRLjPW0dPDQ" name="DANGEROUS" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7QipwOFEeWaRLjPW0dPDQ" value="3"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7QiqAOFEeWaRLjPW0dPDQ" name="ALIEN" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7QiqQOFEeWaRLjPW0dPDQ" value="8"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7RJsAOFEeWaRLjPW0dPDQ" name="HUMAN" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7RJsQOFEeWaRLjPW0dPDQ" value="9"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elFgOFEeWaRLjPW0dPDQ" name="getSectorFor" specification="_r553wQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elFwOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7elGAOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>switch(id) {&#xD;
         case ALIEN:              return new Sector(ALIEN, false);&#xD;
         case DANGEROUS:          return new Sector(DANGEROUS, true);&#xD;
         case NOT_DANGEROUS:      return new Sector(NOT_DANGEROUS, true);&#xD;
         case HATCH:              return new Sector(HATCH, true);&#xD;
         case USED_HATCH:         return new Sector(USED_HATCH, false);&#xD;
         case HUMAN:              return new Sector(HUMAN, false);&#xD;
         case NOT_VALID:          return new Sector(NOT_VALID, false);&#xD;
         default:                 throw new SectorException(&quot;Illegal sector code&quot;);&#xD;
     }&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5EKQQOFEeWaRLjPW0dPDQ" name="SectorBuilder" visibility="private">
                  <eAnnotations xmi:id="_r5EKQgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_r5EKQwOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_r5EKRAOFEeWaRLjPW0dPDQ" type="_q4xx8QOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r553wQOFEeWaRLjPW0dPDQ" name="getSectorFor" isStatic="true" method="_r7elFgOFEeWaRLjPW0dPDQ" raisedException="_q1J2MAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r553wgOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r553wwOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qzj6wAOFEeWaRLjPW0dPDQ" name="player">
              <packagedElement xmi:type="uml:Interface" xmi:id="_q5BCgAOFEeWaRLjPW0dPDQ" name="Role">
                <ownedAttribute xmi:id="_r5lusAOFEeWaRLjPW0dPDQ" name="maxMoves" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_r46ZZgOFEeWaRLjPW0dPDQ" name="move"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q5F7AAOFEeWaRLjPW0dPDQ" name="GamePlayer">
                <ownedComment xmi:id="_r7gayAOFEeWaRLjPW0dPDQ">
                  <body>*
@author Michele Albanese (michele.albanese@mail.polimi.it)
@since  May 19, 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_r7M4RAOFEeWaRLjPW0dPDQ" name="position" visibility="private" type="_q4xx8wOFEeWaRLjPW0dPDQ" association="_r7qLRgOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_r7NfUQOFEeWaRLjPW0dPDQ" name="defense" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7NfUwOFEeWaRLjPW0dPDQ" name="objectCardUsed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7NfVAOFEeWaRLjPW0dPDQ" name="drawDangerousCard" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7NfVgOFEeWaRLjPW0dPDQ" name="objectCards" type="_q5CQoQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLSQOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_r7OtcAOFEeWaRLjPW0dPDQ" name="maxMoves">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_r7OtcQOFEeWaRLjPW0dPDQ" name="role" isLeaf="true" type="_q5BCgAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLTAOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_r7OtdQOFEeWaRLjPW0dPDQ" name="currentState" type="_q5HJIQOFEeWaRLjPW0dPDQ" association="_r7gayQOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_r7PUgAOFEeWaRLjPW0dPDQ" name="stateBeforeSpotlightCard" type="_q5HJIQOFEeWaRLjPW0dPDQ" association="_r7gaywOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_r7PUgQOFEeWaRLjPW0dPDQ" name="connection" type="_q5HJJQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLTwOFEeWaRLjPW0dPDQ"/>
                <ownedAttribute xmi:id="_r7PUggOFEeWaRLjPW0dPDQ" name="id" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cv5gOFEeWaRLjPW0dPDQ" name="GamePlayer" specification="_r46ZUAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cv5wOFEeWaRLjPW0dPDQ" name="playerRole" type="_q5BCgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7cv6AOFEeWaRLjPW0dPDQ" name="startPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7cv6QOFEeWaRLjPW0dPDQ" type="_q5F7AAOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>objectCards = new ArrayList&lt;>();
     role = playerRole;
     // state = 
     // stateBeforeObjectCard = 
     defense = false;
     maxMoves = role.getMaxMoves();
     position = startPosition; 
     objectCardUsed = false;
     // connection = 
     // id = 
     drawDangerousCard = true;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cv6gOFEeWaRLjPW0dPDQ" name="isDefenseEnable" specification="_r46ZVgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cv6wOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return defense;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cv7AOFEeWaRLjPW0dPDQ" name="setDefense" specification="_r51mUQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cv7QOFEeWaRLjPW0dPDQ" name="defense">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>this.defense = defense;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW8AOFEeWaRLjPW0dPDQ" name="getCurrentPosition" specification="_r46ZVwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW8QOFEeWaRLjPW0dPDQ" type="_q4xx8wOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>return position;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW8gOFEeWaRLjPW0dPDQ" name="isValidDistance" specification="_r51mUwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW8wOFEeWaRLjPW0dPDQ" name="distance">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7dW9AOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return (distance > 0 &amp;&amp; distance &lt;= this.getMaxMoves());
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW9QOFEeWaRLjPW0dPDQ" name="setCurrentPosition" specification="_r46ZWQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW9gOFEeWaRLjPW0dPDQ" name="position" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>this.position = position;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW9wOFEeWaRLjPW0dPDQ" name="notifyChange" specification="_r46ZWwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW-AOFEeWaRLjPW0dPDQ" name="p" type="_q5F7AAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>// TODO Auto-generated method stub
     
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW-QOFEeWaRLjPW0dPDQ" name="isAlien" specification="_r46ZXQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW-gOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return role instanceof Alien;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW-wOFEeWaRLjPW0dPDQ" name="isHuman" specification="_r46ZXgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW_AOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return role instanceof Human;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW_QOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r46ZXwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dW_gOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>connection.sendPacket(opcode);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dW_wOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r46ZYQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dXAAOFEeWaRLjPW0dPDQ" name="networkPacket" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                  <language>java</language>
                  <body>connection.sendPacket(networkPacket);
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dXAQOFEeWaRLjPW0dPDQ" name="getNumberOfCards" specification="_r46ZYwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dXAgOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return objectCards.size();
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7dXAwOFEeWaRLjPW0dPDQ" name="getId" specification="_r46ZZAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7dXBAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return id;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7d-AAOFEeWaRLjPW0dPDQ" name="shouldDrawDangerousCard" specification="_r46ZZQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7d-AQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return drawDangerousCard;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7d-AgOFEeWaRLjPW0dPDQ" name="setShouldDrawDangerousCard" specification="_r52NZwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7d-AwOFEeWaRLjPW0dPDQ" name="shouldDrawDangerousCard">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>this.drawDangerousCard = shouldDrawDangerousCard;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r46ZUAOFEeWaRLjPW0dPDQ" name="GamePlayer" method="_r7cv5gOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_r46ZVAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_r46ZVQOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_r46ZUQOFEeWaRLjPW0dPDQ" name="playerRole" type="_q5BCgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r46ZUgOFEeWaRLjPW0dPDQ" name="startPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r46ZUwOFEeWaRLjPW0dPDQ" type="_q5F7AAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZVgOFEeWaRLjPW0dPDQ" name="isDefenseEnable" method="_r7cv6gOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r51mUAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZVwOFEeWaRLjPW0dPDQ" name="getCurrentPosition" method="_r7dW8AOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7gazQOFEeWaRLjPW0dPDQ">
                    <body>@return</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r46ZWAOFEeWaRLjPW0dPDQ" type="_q4xx8wOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZWQOFEeWaRLjPW0dPDQ" name="setCurrentPosition" method="_r7dW9QOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7gazwOFEeWaRLjPW0dPDQ">
                    <body>@param destination</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r46ZWgOFEeWaRLjPW0dPDQ" name="position" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZWwOFEeWaRLjPW0dPDQ" name="notifyChange" method="_r7dW9wOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7ga0AOFEeWaRLjPW0dPDQ">
                    <body>@param p</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r46ZXAOFEeWaRLjPW0dPDQ" name="p" type="_q5F7AAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZXQOFEeWaRLjPW0dPDQ" name="isAlien" method="_r7dW-QOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7ga0QOFEeWaRLjPW0dPDQ">
                    <body>@return</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r52NYgOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZXgOFEeWaRLjPW0dPDQ" name="isHuman" method="_r7dW-wOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7ga0gOFEeWaRLjPW0dPDQ">
                    <body>@return</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r52NYwOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZXwOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7dW_QOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7ga0wOFEeWaRLjPW0dPDQ">
                    <body>@param i</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r46ZYAOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZYQOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7dW_wOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7ga1AOFEeWaRLjPW0dPDQ">
                    <body>@param networkPacket</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r46ZYgOFEeWaRLjPW0dPDQ" name="networkPacket" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZYwOFEeWaRLjPW0dPDQ" name="getNumberOfCards" method="_r7dXAQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r52NZAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZZAOFEeWaRLjPW0dPDQ" name="getId" method="_r7dXAwOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7ga1QOFEeWaRLjPW0dPDQ">
                    <body>@return</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r52NZQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r46ZZQOFEeWaRLjPW0dPDQ" name="shouldDrawDangerousCard" method="_r7d-AAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r52NZgOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r51mUQOFEeWaRLjPW0dPDQ" name="setDefense" method="_r7cv7AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r51mUgOFEeWaRLjPW0dPDQ" name="defense">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r51mUwOFEeWaRLjPW0dPDQ" name="isValidDistance" method="_r7dW8gOFEeWaRLjPW0dPDQ">
                  <ownedComment xmi:id="_r7gazgOFEeWaRLjPW0dPDQ">
                    <body>@param distance
     * @return</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_r52NYAOFEeWaRLjPW0dPDQ" name="distance">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r52NYQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_r52NZwOFEeWaRLjPW0dPDQ" name="setShouldDrawDangerousCard" method="_r7d-AgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r52NaAOFEeWaRLjPW0dPDQ" name="shouldDrawDangerousCard">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q5F7AgOFEeWaRLjPW0dPDQ" name="RoleFactory">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7d-BgOFEeWaRLjPW0dPDQ" name="generateRoles" specification="_r54poAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7d-BwOFEeWaRLjPW0dPDQ" name="numberOfPlayers">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r7d-CAOFEeWaRLjPW0dPDQ" type="_q5BCgAOFEeWaRLjPW0dPDQ" isOrdered="true" direction="return">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7d-CQOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>List&lt;Role> roles = new ArrayList&lt;>();
     
     if(numberOfPlayers &lt; Config.GAME_MIN_PLAYERS)
         throw new RuntimeException(&quot;Too few players (&quot; + numberOfPlayers + &quot;)&quot;);
     
     for(int i = 0; i &lt; numberOfPlayers; i++)
         if(i &lt; numberOfPlayers/2)
             roles.add(new Alien());
         else
             roles.add(new Human());
     
     Collections.shuffle(roles);
     return roles;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r54poAOFEeWaRLjPW0dPDQ" name="generateRoles" isStatic="true" method="_r7d-BgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r54poQOFEeWaRLjPW0dPDQ" name="numberOfPlayers">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_r54pogOFEeWaRLjPW0dPDQ" type="_q5BCgAOFEeWaRLjPW0dPDQ" isOrdered="true" direction="return">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r54powOFEeWaRLjPW0dPDQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r5zxJQOFEeWaRLjPW0dPDQ" name="Alien">
                <ownedAttribute xmi:id="_r7M4QgOFEeWaRLjPW0dPDQ" name="MAX_MOVES" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7M4QwOFEeWaRLjPW0dPDQ" value="2"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_r50YMAOFEeWaRLjPW0dPDQ" client="_r5zxJQOFEeWaRLjPW0dPDQ" supplier="_q5BCgAOFEeWaRLjPW0dPDQ" contract="_q5BCgAOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7cv4AOFEeWaRLjPW0dPDQ" name="getMaxMoves" specification="_r50YNQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7cv4QOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return MAX_MOVES;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r50YMQOFEeWaRLjPW0dPDQ" name="move"/>
                <ownedOperation xmi:id="_r50YNQOFEeWaRLjPW0dPDQ" name="getMaxMoves" method="_r7cv4AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r50_QAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r520cAOFEeWaRLjPW0dPDQ" name="Human">
                <ownedAttribute xmi:id="_r7P7kAOFEeWaRLjPW0dPDQ" name="MAX_MOVES" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7P7kQOFEeWaRLjPW0dPDQ" value="1"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_r53bgAOFEeWaRLjPW0dPDQ" client="_r520cAOFEeWaRLjPW0dPDQ" supplier="_q5BCgAOFEeWaRLjPW0dPDQ" contract="_q5BCgAOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7d-BAOFEeWaRLjPW0dPDQ" name="getMaxMoves" specification="_r54CkwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7d-BQOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return MAX_MOVES;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r53bgQOFEeWaRLjPW0dPDQ" name="move"/>
                <ownedOperation xmi:id="_r54CkwOFEeWaRLjPW0dPDQ" name="getMaxMoves" method="_r7d-BAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r54ClAOFEeWaRLjPW0dPDQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7gayQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7OtdQOFEeWaRLjPW0dPDQ _r7gaygOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7gaygOFEeWaRLjPW0dPDQ" name="" type="_q5F7AAOFEeWaRLjPW0dPDQ" association="_r7gayQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7gaywOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7PUgAOFEeWaRLjPW0dPDQ _r7gazAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7gazAOFEeWaRLjPW0dPDQ" name="" type="_q5F7AAOFEeWaRLjPW0dPDQ" association="_r7gaywOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLRgOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLRwOFEeWaRLjPW0dPDQ _r7M4RAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLRwOFEeWaRLjPW0dPDQ" name="" type="_q5F7AAOFEeWaRLjPW0dPDQ" association="_r7qLRgOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLSQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLSgOFEeWaRLjPW0dPDQ _r7NfVgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLSgOFEeWaRLjPW0dPDQ" name="" type="_q5F7AAOFEeWaRLjPW0dPDQ" association="_r7qLSQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLTAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLTQOFEeWaRLjPW0dPDQ _r7OtcQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLTQOFEeWaRLjPW0dPDQ" name="" type="_q5F7AAOFEeWaRLjPW0dPDQ" association="_r7qLTAOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLTwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLUAOFEeWaRLjPW0dPDQ _r7PUgQOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLUAOFEeWaRLjPW0dPDQ" name="" type="_q5F7AAOFEeWaRLjPW0dPDQ" association="_r7qLTwOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qznlIAOFEeWaRLjPW0dPDQ" name="card">
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_q1f0cAOFEeWaRLjPW0dPDQ" name="DangerousCard">
                <ownedComment xmi:id="_q6OjdgOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5-r0AOFEeWaRLjPW0dPDQ" name="id" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_q1hCkAOFEeWaRLjPW0dPDQ" name="DangerousCard" visibility="private" method="_q6K5GgOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q1hCkgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q1hCkwOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q1hCkQOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q1hClAOFEeWaRLjPW0dPDQ" type="_q1f0cAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q1hpoAOFEeWaRLjPW0dPDQ" name="getCardAt" isStatic="true" method="_q6K5HQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q1hpoQOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q5LakAOFEeWaRLjPW0dPDQ" type="_q1f0cAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedLiteral xmi:id="_q1gbgAOFEeWaRLjPW0dPDQ" name="NOISE_IN_YOUR_SECTOR">
                  <specification xmi:type="uml:Expression" xmi:id="_q1gbgQOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjdwOFEeWaRLjPW0dPDQ" value="0"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1gbggOFEeWaRLjPW0dPDQ" name="NOISE_IN_ANY_SECTOR">
                  <specification xmi:type="uml:Expression" xmi:id="_q1gbgwOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjeAOFEeWaRLjPW0dPDQ" value="1"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1gbhAOFEeWaRLjPW0dPDQ" name="SILENCE">
                  <specification xmi:type="uml:Expression" xmi:id="_q1gbhQOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjeQOFEeWaRLjPW0dPDQ" value="2"/>
                  </specification>
                </ownedLiteral>
              </packagedElement>
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_q1iQsAOFEeWaRLjPW0dPDQ" name="HatchCard">
                <ownedComment xmi:id="_q6OjegOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5_S4AOFEeWaRLjPW0dPDQ" name="id" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_q1je0AOFEeWaRLjPW0dPDQ" name="HatchCard" visibility="private" method="_q6LgIgOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q1je0gOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q1je0wOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q1je0QOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q1je1AOFEeWaRLjPW0dPDQ" type="_q1iQsAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q1je1QOFEeWaRLjPW0dPDQ" name="getCardAt" isStatic="true" method="_q6LgJQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q1je1gOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q5LakQOFEeWaRLjPW0dPDQ" type="_q1iQsAOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedLiteral xmi:id="_q1i3wAOFEeWaRLjPW0dPDQ" name="RED_HATCH">
                  <specification xmi:type="uml:Expression" xmi:id="_q1i3wQOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjewOFEeWaRLjPW0dPDQ" value="0"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1i3wgOFEeWaRLjPW0dPDQ" name="GREEN_HATCH">
                  <specification xmi:type="uml:Expression" xmi:id="_q1i3wwOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjfAOFEeWaRLjPW0dPDQ" value="1"/>
                  </specification>
                </ownedLiteral>
              </packagedElement>
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_q1ks8AOFEeWaRLjPW0dPDQ" name="ObjectCard">
                <ownedComment xmi:id="_q6OjfQOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 23 May 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_q5_S4gOFEeWaRLjPW0dPDQ" name="id" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_q1l7EAOFEeWaRLjPW0dPDQ" name="ObjectCard" visibility="private" method="_q6LgKAOFEeWaRLjPW0dPDQ">
                  <eAnnotations xmi:id="_q1l7EgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_q1l7EwOFEeWaRLjPW0dPDQ" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_q1l7EQOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q1l7FAOFEeWaRLjPW0dPDQ" type="_q1ks8AOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q1l7FQOFEeWaRLjPW0dPDQ" name="getCardAt" isStatic="true" method="_q6LgKwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q1l7FgOFEeWaRLjPW0dPDQ" name="id">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_q5MosAOFEeWaRLjPW0dPDQ" type="_q1ks8AOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_q1l7FwOFEeWaRLjPW0dPDQ" name="getRandomCard" isStatic="true" method="_q6LgLgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_q5MosQOFEeWaRLjPW0dPDQ" type="_q1ks8AOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedLiteral xmi:id="_q1ks8QOFEeWaRLjPW0dPDQ" name="ATTACK">
                  <specification xmi:type="uml:Expression" xmi:id="_q1ks8gOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjfgOFEeWaRLjPW0dPDQ" value="0"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1ks8wOFEeWaRLjPW0dPDQ" name="TELEPORT">
                  <specification xmi:type="uml:Expression" xmi:id="_q1ks9AOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjfwOFEeWaRLjPW0dPDQ" value="1"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1ks9QOFEeWaRLjPW0dPDQ" name="ADRENALINE">
                  <specification xmi:type="uml:Expression" xmi:id="_q1ks9gOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjgAOFEeWaRLjPW0dPDQ" value="2"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1lUAAOFEeWaRLjPW0dPDQ" name="SEDATIVES">
                  <specification xmi:type="uml:Expression" xmi:id="_q1lUAQOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjgQOFEeWaRLjPW0dPDQ" value="3"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1lUAgOFEeWaRLjPW0dPDQ" name="SPOTLIGHT">
                  <specification xmi:type="uml:Expression" xmi:id="_q1lUAwOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6OjggOFEeWaRLjPW0dPDQ" value="4"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_q1lUBAOFEeWaRLjPW0dPDQ" name="DEFENSE">
                  <specification xmi:type="uml:Expression" xmi:id="_q1lUBQOFEeWaRLjPW0dPDQ">
                    <operand xmi:type="uml:LiteralString" xmi:id="_q6PKgAOFEeWaRLjPW0dPDQ" value="5"/>
                  </specification>
                </ownedLiteral>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_qznlIQOFEeWaRLjPW0dPDQ" name="state">
              <packagedElement xmi:type="uml:Class" xmi:id="_q5GiEQOFEeWaRLjPW0dPDQ" name="DiscardingObjectCardState">
                <ownedComment xmi:id="_r7ga1wOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r5m80QOFEeWaRLjPW0dPDQ" client="_q5GiEQOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elHAOFEeWaRLjPW0dPDQ" name="update" specification="_r5H0oAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elHQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7elHgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
&#xD;
     PlayerState nextState = this;&#xD;
     if( packet != null ) {&#xD;
         if( packet.getOpcode() == GameCommand.CMD_SC_DISCARD_OBJECT_CARD ) {&#xD;
             // TODO to be implemented!&#xD;
             &#xD;
             nextState = new EndingTurnState();&#xD;
         } else {&#xD;
             throw new IllegalStateOperationException(&quot;You can only choose what object card to discard here. Discarding packet.&quot;);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5H0oAOFEeWaRLjPW0dPDQ" name="update" method="_r7elHAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5H0oQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5H0ogOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q5GiEwOFEeWaRLjPW0dPDQ" name="EndingTurnState">
                <ownedComment xmi:id="_r7ga2AOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r5nj4QOFEeWaRLjPW0dPDQ" client="_q5GiEwOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elHwOFEeWaRLjPW0dPDQ" name="update" specification="_r5IbsAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elIAOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7elIQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
     &#xD;
     PlayerState nextState = this;&#xD;
     if( packet != null ) {&#xD;
         if( packet.getOpcode() == GameCommand.CMD_CS_NOT_MY_TURN ) {&#xD;
             nextState = new NotMyTurnState();&#xD;
         } else if( packet.getOpcode() == GameCommand.CMD_CS_USE_OBJ_CARD ) {&#xD;
             // TODO where should I put this?&#xD;
             gameState.startUsingObjectCard( (ObjectCard)packet.getArgs()[0] );&#xD;
         } else {&#xD;
             throw new IllegalStateOperationException(&quot;You can only use an object card or end here. Discarding packet.&quot;);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5IbsAOFEeWaRLjPW0dPDQ" name="update" method="_r7elHwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5IbsQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5JCwAOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q5GiFQOFEeWaRLjPW0dPDQ" name="MovingState">
                <ownedComment xmi:id="_r7ga2wOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_r7RJtAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLVQOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7RJtQOFEeWaRLjPW0dPDQ" value="Logger.getLogger(MovingState.class.getName())"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_r5oK8QOFEeWaRLjPW0dPDQ" client="_q5GiFQOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fMJgOFEeWaRLjPW0dPDQ" name="update" specification="_r5K38AOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fMJwOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fMKAOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>GamePlayer player = gameState.getCurrentPlayer();&#xD;
     NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
     GameMap map = gameState.getMap();&#xD;
     &#xD;
     PlayerState nextState = this;&#xD;
     &#xD;
     // If we actually received a command from the client...&#xD;
     if( packet != null ) {&#xD;
         // If the user said he wanted to move..&#xD;
         if( packet.getOpcode() == GameCommand.CMD_CS_MOVE ) {&#xD;
             gameState.moveTo( (Point)packet.getArgs()[0]  );&#xD;
             &#xD;
             Sector sector = map.getSectorAt( player.getCurrentPosition() );&#xD;
             // If we are on an hatch sector, draw an hatch card and act accordingly&#xD;
             if( sector.getId() == SectorBuilder.HATCH ) {&#xD;
                 nextState = drawHatchCard( gameState );&#xD;
             } else {&#xD;
                 // tell the client it has choose what to do after moving&#xD;
                 player.sendPacket( GameCommand.CMD_SC_MOVE_DONE );&#xD;
                 nextState =  new MoveDoneState();&#xD;
             }&#xD;
         } else if( packet.getOpcode() == GameCommand.CMD_CS_USE_OBJ_CARD ) {&#xD;
             // TODO where should I put this?&#xD;
             gameState.startUsingObjectCard( (ObjectCard)packet.getArgs()[0] );&#xD;
         } else {&#xD;
             throw new IllegalStateOperationException(&quot;You can only move. Discarding command.&quot;);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fMKQOFEeWaRLjPW0dPDQ" name="drawHatchCard" specification="_r5LfAwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fMKgOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fMKwOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>Random generator = new Random();&#xD;
     GamePlayer player = gameState.getCurrentPlayer();&#xD;
     GameMap map = gameState.getMap();&#xD;
     &#xD;
     PlayerState nextState;&#xD;
     &#xD;
     // set current cell as no more accessible&#xD;
     map.setType( player.getCurrentPosition(), SectorBuilder.USED_HATCH );&#xD;
     &#xD;
     // draw an hatch card and choose accordingly&#xD;
     int index = generator.nextInt( HatchCard.values().length );&#xD;
     HatchCard card = HatchCard.getCardAt(index);&#xD;
     &#xD;
     switch( card ) {&#xD;
     case RED_HATCH:&#xD;
         // OUCH! You cannot use that hatch!&#xD;
         player.sendPacket( GameCommand.CMD_SC_END_OF_TURN );&#xD;
         nextState = new EndingTurnState();&#xD;
         break;&#xD;
&#xD;
     case GREEN_HATCH:&#xD;
         player.sendPacket( GameCommand.CMD_SC_WIN );&#xD;
         nextState = new WinnerState();&#xD;
         &#xD;
         // remove player&#xD;
         gameState.removePlayer( player.getId() );&#xD;
         break;&#xD;
         &#xD;
     default:&#xD;
         LOG.log(Level.SEVERE, &quot;Unknown dangerous card. You should never get here!&quot;);&#xD;
         nextState = new EndingTurnState(); // end gracefully&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5K38AOFEeWaRLjPW0dPDQ" name="update" method="_r7fMJgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5K38QOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5LfAAOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r5LfAwOFEeWaRLjPW0dPDQ" name="drawHatchCard" visibility="private" method="_r7fMKQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5LfBAOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5LfBQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Interface" xmi:id="_q5HJIQOFEeWaRLjPW0dPDQ" name="PlayerState">
                <ownedComment xmi:id="_r7ga3gOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <ownedOperation xmi:id="_r5MtIAOFEeWaRLjPW0dPDQ" name="update">
                  <ownedParameter xmi:id="_r5MtIQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5MtIgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_q5HJIwOFEeWaRLjPW0dPDQ" name="SpotlightCardState">
                <ownedComment xmi:id="_r7ga3wOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r5oyAQOFEeWaRLjPW0dPDQ" client="_q5HJIwOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fzMwOFEeWaRLjPW0dPDQ" name="update" specification="_r5NUMAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fzNAOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fzNQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
     &#xD;
     PlayerState nextState = this;&#xD;
     if( packet != null ) {&#xD;
         if( packet.getOpcode() == GameCommand.CMD_CS_SET_POSITION ) {&#xD;
             gameState.light( (Point)packet.getArgs()[0] );&#xD;
             &#xD;
             nextState = gameState.getCurrentPlayer().getStateBeforeSpotlightCard();&#xD;
             gameState.getCurrentPlayer().setStateBeforeSpotlightCard(null);&#xD;
         } else {&#xD;
             throw new IllegalStateOperationException(&quot;You can only choose a position here. Discarding packet.&quot;);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5NUMAOFEeWaRLjPW0dPDQ" name="update" method="_r7fzMwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5NUMQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5NUMgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r56e0AOFEeWaRLjPW0dPDQ" name="AwayState">
                <ownedComment xmi:id="_r7ga1gOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r56e0QOFEeWaRLjPW0dPDQ" client="_r56e0AOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elGQOFEeWaRLjPW0dPDQ" name="update" specification="_r56e0gOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elGgOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7elGwOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
&#xD;
     PlayerState nextState = this;&#xD;
     if( packet != null ) {&#xD;
         if( packet.getOpcode() == GameCommand.CMD_CS_AWAKE ) {&#xD;
             nextState = new NotMyTurnState();&#xD;
         } else {&#xD;
             throw new IllegalStateOperationException(&quot;You can only awake here. Discarding packet.&quot;);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r56e0gOFEeWaRLjPW0dPDQ" name="update" method="_r7elGQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r56e0wOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r57F4AOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r57F5AOFEeWaRLjPW0dPDQ" name="LoserState">
                <ownedComment xmi:id="_r7ga2QOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r57s8AOFEeWaRLjPW0dPDQ" client="_r57F5AOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7elIgOFEeWaRLjPW0dPDQ" name="update" specification="_r57s8QOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7elIwOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7elJAOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>return this;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r57s8QOFEeWaRLjPW0dPDQ" name="update" method="_r7elIgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r57s8gOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r57s8wOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r57s9wOFEeWaRLjPW0dPDQ" name="MoveDoneState">
                <ownedComment xmi:id="_r7ga2gOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <ownedAttribute xmi:id="_r7RJsgOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLUgOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7RJswOFEeWaRLjPW0dPDQ" value="Logger.getLogger(MoveDoneState.class.getName())"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_r58UAAOFEeWaRLjPW0dPDQ" client="_r57s9wOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fMIAOFEeWaRLjPW0dPDQ" name="update" specification="_r58UAQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fMIQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fMIgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>GamePlayer player = gameState.getCurrentPlayer();&#xD;
     NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
     GameMap map = gameState.getMap();&#xD;
&#xD;
     PlayerState nextState = this;&#xD;
&#xD;
     // If we actually received a command from the client...&#xD;
     if( packet != null ) {&#xD;
         if( packet.getOpcode() == GameCommand.CMD_CS_USE_OBJ_CARD ) {&#xD;
             // TODO where should I put this?&#xD;
             gameState.startUsingObjectCard( (ObjectCard)packet.getArgs()[0] );&#xD;
         } else {&#xD;
             // DANGEROUS: either draw a card OR attack&#xD;
             if( map.getSectorAt( player.getCurrentPosition() ).getId() == SectorBuilder.DANGEROUS ) { &#xD;
                 if( packet.getOpcode() == GameCommand.CMD_CS_DRAW_DANGEROUS_CARD ) {&#xD;
                     nextState = drawDangerousCard( gameState );&#xD;
                 } else if( packet.getOpcode() == GameCommand.CMD_CS_ATTACK ) {&#xD;
                     gameState.attack( player.getCurrentPosition() );&#xD;
                     nextState = new EndingTurnState();&#xD;
                 } else {&#xD;
                     throw new IllegalStateOperationException(&quot;You can only attack or draw a dangerous sector card. Discarding command.&quot;);&#xD;
                 }&#xD;
             } else {&#xD;
                 // NOT DANGEROUS: either attack or pass&#xD;
                 if( packet.getOpcode() == GameCommand.CMD_CS_NOT_MY_TURN ) {&#xD;
                     nextState = new NotMyTurnState();&#xD;
                 } else if( packet.getOpcode() == GameCommand.CMD_CS_ATTACK ) {&#xD;
                     gameState.attack( player.getCurrentPosition() );&#xD;
                     nextState = new EndingTurnState();&#xD;
                 } else {&#xD;
                     throw new IllegalStateOperationException(&quot;You can only attack or pass. Discarding command.&quot;);&#xD;
                 }&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fMIwOFEeWaRLjPW0dPDQ" name="drawDangerousCard" specification="_r58UBwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fMJAOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fMJQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>GamePlayer player = gameState.getCurrentPlayer();&#xD;
     &#xD;
     // get a random dangerous card&#xD;
     Random generator = new Random();&#xD;
     int index = generator.nextInt( DangerousCard.values().length );&#xD;
     DangerousCard card = DangerousCard.getCardAt(index);&#xD;
     &#xD;
     PlayerState nextState;&#xD;
     &#xD;
     // according to type, choose what to do next&#xD;
     switch( card ) {&#xD;
     case NOISE_IN_YOUR_SECTOR: // noise in your sector&#xD;
         player.sendPacket( new NetworkPacket(GameCommand.CMD_SC_DANGEROUS_CARD_DRAWN, DangerousCard.NOISE_IN_YOUR_SECTOR) );&#xD;
         gameState.getGameManager().broadcastPacket( new NetworkPacket(GameCommand.CMD_SC_NOISE, player.getCurrentPosition()) );&#xD;
         &#xD;
         nextState = gameState.getObjectCard( );&#xD;
         break;&#xD;
         &#xD;
     case NOISE_IN_ANY_SECTOR: // noise in any sector&#xD;
         player.sendPacket( new NetworkPacket(GameCommand.CMD_SC_DANGEROUS_CARD_DRAWN, DangerousCard.NOISE_IN_ANY_SECTOR) );&#xD;
         nextState = new NoiseInAnySectorState();&#xD;
         break;&#xD;
         &#xD;
     case SILENCE: // silence&#xD;
         player.sendPacket( new NetworkPacket(GameCommand.CMD_SC_DANGEROUS_CARD_DRAWN, DangerousCard.SILENCE) );&#xD;
         gameState.getGameManager().broadcastPacket( GameCommand.CMD_SC_SILENCE );&#xD;
         &#xD;
         nextState = new EndingTurnState();&#xD;
         break;&#xD;
         &#xD;
     default:&#xD;
         LOG.log(Level.SEVERE, &quot;Unknown dangerous card. You should never get here!&quot;);&#xD;
         nextState = new EndingTurnState(); // end gracefully&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r58UAQOFEeWaRLjPW0dPDQ" name="update" method="_r7fMIAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r58UAgOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r58UAwOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_r58UBwOFEeWaRLjPW0dPDQ" name="drawDangerousCard" visibility="private" method="_r7fMIwOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r587EAOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r587EQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r587EgOFEeWaRLjPW0dPDQ" name="NoiseInAnySectorState">
                <ownedComment xmi:id="_r7ga3AOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r587EwOFEeWaRLjPW0dPDQ" client="_r587EgOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fMLAOFEeWaRLjPW0dPDQ" name="update" specification="_r587FAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fMLQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fMLgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>NetworkPacket packet = gameState.getPacketFromQueue();&#xD;
&#xD;
     PlayerState nextState = this;&#xD;
     if( packet != null ) {&#xD;
         if( packet.getOpcode() == GameCommand.CMD_CS_NOISE_IN_ANY_SECTOR_POSITION ) {&#xD;
             gameState.getGameManager().broadcastPacket( new NetworkPacket(GameCommand.CMD_SC_NOISE, packet.getArgs() ) );&#xD;
             nextState = gameState.getObjectCard( );&#xD;
         } else {&#xD;
             throw new IllegalStateOperationException(&quot;You can only choose a position here. Discarding packet.&quot;);&#xD;
         }&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r587FAOFEeWaRLjPW0dPDQ" name="update" method="_r7fMLAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r59iIAOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r59iIQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r59iJQOFEeWaRLjPW0dPDQ" name="NotMyTurnState">
                <ownedComment xmi:id="_r7ga3QOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r59iJgOFEeWaRLjPW0dPDQ" client="_r59iJQOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fzMAOFEeWaRLjPW0dPDQ" name="update" specification="_r5-JMAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fzMQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fzMgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>return this;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5-JMAOFEeWaRLjPW0dPDQ" name="update" method="_r7fzMAOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5-JMQOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5-JMgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r5-JNgOFEeWaRLjPW0dPDQ" name="StartTurnState">
                <ownedComment xmi:id="_r7ga4AOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r5-wQAOFEeWaRLjPW0dPDQ" client="_r5-JNgOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fzNgOFEeWaRLjPW0dPDQ" name="update" specification="_r5-wQQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fzNwOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fzOAOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>GamePlayer player = gameState.getCurrentPlayer();&#xD;
     &#xD;
     ArrayList&lt; Point > availableSectors = gameState.getMap().getCellsWithMaxDistance( player.getCurrentPosition(), player.getMaxMoves() );&#xD;
     player.sendPacket( new NetworkPacket(GameCommand.CMD_SC_START_TURN, availableSectors) );&#xD;
     &#xD;
     return new MovingState();&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5-wQQOFEeWaRLjPW0dPDQ" name="update" method="_r7fzNgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5-wQgOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5-wQwOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_r5_XUAOFEeWaRLjPW0dPDQ" name="WinnerState">
                <ownedComment xmi:id="_r7ga4QOFEeWaRLjPW0dPDQ">
                  <body>@author Michele&#xD;
@since 25 May 2015</body>
                </ownedComment>
                <interfaceRealization xmi:id="_r5_XUQOFEeWaRLjPW0dPDQ" client="_r5_XUAOFEeWaRLjPW0dPDQ" supplier="_q5HJIQOFEeWaRLjPW0dPDQ" contract="_q5HJIQOFEeWaRLjPW0dPDQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fzOQOFEeWaRLjPW0dPDQ" name="update" specification="_r5_XUgOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r7fzOgOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r7fzOwOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                  <language>java</language>
                  <body>return this;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_r5_XUgOFEeWaRLjPW0dPDQ" name="update" method="_r7fzOQOFEeWaRLjPW0dPDQ">
                  <ownedParameter xmi:id="_r5_XUwOFEeWaRLjPW0dPDQ" name="gameState" type="_q1WqgAOFEeWaRLjPW0dPDQ"/>
                  <ownedParameter xmi:id="_r5_XVAOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLUgOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLUwOFEeWaRLjPW0dPDQ _r7RJsgOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLUwOFEeWaRLjPW0dPDQ" name="" type="_r57s9wOFEeWaRLjPW0dPDQ" association="_r7qLUgOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_r7qLVQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLVgOFEeWaRLjPW0dPDQ _r7RJtAOFEeWaRLjPW0dPDQ">
                <ownedEnd xmi:id="_r7qLVgOFEeWaRLjPW0dPDQ" name="" type="_q5GiFQOFEeWaRLjPW0dPDQ" association="_r7qLVQOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_q1LEUAOFEeWaRLjPW0dPDQ" name="GameCommand">
              <ownedLiteral xmi:id="_q1LrYQOFEeWaRLjPW0dPDQ" name="CMD_INVALID"/>
              <ownedLiteral xmi:id="_q1LrYgOFEeWaRLjPW0dPDQ" name="CMD_PING"/>
              <ownedLiteral xmi:id="_q1LrYwOFEeWaRLjPW0dPDQ" name="CMD_BYE"/>
              <ownedLiteral xmi:id="_q1MScAOFEeWaRLjPW0dPDQ" name="CMD_SC_FULL"/>
              <ownedLiteral xmi:id="_q1MScQOFEeWaRLjPW0dPDQ" name="CMD_SC_STAT"/>
              <ownedLiteral xmi:id="_q1MScgOFEeWaRLjPW0dPDQ" name="CMD_SC_TIME"/>
              <ownedLiteral xmi:id="_q1MScwOFEeWaRLjPW0dPDQ" name="CMD_SC_CHOOSEUSER"/>
              <ownedLiteral xmi:id="_q1MSdAOFEeWaRLjPW0dPDQ" name="CMD_CS_USERNAME"/>
              <ownedLiteral xmi:id="_q1MSdQOFEeWaRLjPW0dPDQ" name="CMD_SC_USEROK"/>
              <ownedLiteral xmi:id="_q1MSdgOFEeWaRLjPW0dPDQ" name="CMD_SC_USERFAIL"/>
              <ownedLiteral xmi:id="_q1MSdwOFEeWaRLjPW0dPDQ" name="CMD_SC_RUN"/>
              <ownedLiteral xmi:id="_q1MSeAOFEeWaRLjPW0dPDQ" name="CMD_SC_WIN"/>
              <ownedLiteral xmi:id="_q1MSeQOFEeWaRLjPW0dPDQ" name="CMD_SC_CHOOSEMAP"/>
              <ownedLiteral xmi:id="_q1M5gAOFEeWaRLjPW0dPDQ" name="CMD_CS_LOADMAP"/>
              <ownedLiteral xmi:id="_q1M5gQOFEeWaRLjPW0dPDQ" name="CMD_SC_MAPOK"/>
              <ownedLiteral xmi:id="_q1M5ggOFEeWaRLjPW0dPDQ" name="CMD_SC_MAPFAIL"/>
              <ownedLiteral xmi:id="_q1M5gwOFEeWaRLjPW0dPDQ" name="CMD_CS_ATTACK"/>
              <ownedLiteral xmi:id="_q1M5hAOFEeWaRLjPW0dPDQ" name="CMD_CS_DISCARD_OBJ_CARD"/>
              <ownedLiteral xmi:id="_q1M5hQOFEeWaRLjPW0dPDQ" name="CMD_CS_USE_OBJ_CARD"/>
              <ownedLiteral xmi:id="_q1M5hgOFEeWaRLjPW0dPDQ" name="CMD_CS_SET_POSITION"/>
              <ownedLiteral xmi:id="_q1M5hwOFEeWaRLjPW0dPDQ" name="CMD_CS_MOVE"/>
              <ownedLiteral xmi:id="_q1M5iAOFEeWaRLjPW0dPDQ" name="CMD_CS_DRAW_DANGEROUS_CARD"/>
              <ownedLiteral xmi:id="_q1M5iQOFEeWaRLjPW0dPDQ" name="CMD_CS_NOISE_IN_ANY_SECTOR_POSITION"/>
              <ownedLiteral xmi:id="_q1NgkAOFEeWaRLjPW0dPDQ" name="CMD_CS_NOT_MY_TURN"/>
              <ownedLiteral xmi:id="_q1NgkQOFEeWaRLjPW0dPDQ" name="CMD_CS_AWAKE"/>
              <ownedLiteral xmi:id="_q1NgkgOFEeWaRLjPW0dPDQ" name="CMD_SC_UPDATE_LOCAL_INFO"/>
              <ownedLiteral xmi:id="_q1NgkwOFEeWaRLjPW0dPDQ" name="CMD_SC_START_TURN"/>
              <ownedLiteral xmi:id="_q1NglAOFEeWaRLjPW0dPDQ" name="CMD_SC_MOVE_DONE"/>
              <ownedLiteral xmi:id="_q1NglQOFEeWaRLjPW0dPDQ" name="CMD_SC_NOISE"/>
              <ownedLiteral xmi:id="_q1NglgOFEeWaRLjPW0dPDQ" name="CMD_SC_DANGEROUS_CARD_DRAWN"/>
              <ownedLiteral xmi:id="_q1NglwOFEeWaRLjPW0dPDQ" name="CMD_SC_SILENCE"/>
              <ownedLiteral xmi:id="_q1NgmAOFEeWaRLjPW0dPDQ" name="CMD_SC_OBJECT_CARD_OBTAINED"/>
              <ownedLiteral xmi:id="_q1NgmQOFEeWaRLjPW0dPDQ" name="CMD_SC_DISCARD_OBJECT_CARD"/>
              <ownedLiteral xmi:id="_q1OHoAOFEeWaRLjPW0dPDQ" name="CMD_SC_ADRENALINE_WRONG_STATE"/>
              <ownedLiteral xmi:id="_q1OHoQOFEeWaRLjPW0dPDQ" name="CMD_SC_CANNOT_USE_OBJ_CARD"/>
              <ownedLiteral xmi:id="_q1OHogOFEeWaRLjPW0dPDQ" name="CMD_SC_END_OF_TURN"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1OusAOFEeWaRLjPW0dPDQ" name="GameMap">
              <ownedAttribute xmi:id="_q57BdwOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57ogAOFEeWaRLjPW0dPDQ" value="1L"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q57ogQOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6d0BwOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57oggOFEeWaRLjPW0dPDQ" value="Logger.getLogger( GameMap.class.getName() )"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q57ogwOFEeWaRLjPW0dPDQ" name="mapFiles" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q57ohAOFEeWaRLjPW0dPDQ" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57ohgOFEeWaRLjPW0dPDQ" value="{&#xA;        &quot;maps/fermi.txt&quot;,&#xA;        &quot;maps/galilei.txt&quot;,&#xA;        &quot;maps/galvani.txt&quot;,&#xA;    }"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q57ohwOFEeWaRLjPW0dPDQ" name="ROWS" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57oiAOFEeWaRLjPW0dPDQ" value="14"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q58PkAOFEeWaRLjPW0dPDQ" name="COLUMNS" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q58PkQOFEeWaRLjPW0dPDQ" value="23"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q58PkgOFEeWaRLjPW0dPDQ" name="board" visibility="private" type="_q4xK4AOFEeWaRLjPW0dPDQ" association="_q6ebEQOFEeWaRLjPW0dPDQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q58PkwOFEeWaRLjPW0dPDQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q58PlgOFEeWaRLjPW0dPDQ" name="name" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <interfaceRealization xmi:id="_q5hY0gOFEeWaRLjPW0dPDQ" client="_q1OusAOFEeWaRLjPW0dPDQ" supplier="_q5BpkQOFEeWaRLjPW0dPDQ" contract="_q5BpkQOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic3AOFEeWaRLjPW0dPDQ" name="GameMap" specification="_q5h_4AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic3QOFEeWaRLjPW0dPDQ" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Ic3gOFEeWaRLjPW0dPDQ" name="board" type="_q4xK4AOFEeWaRLjPW0dPDQ">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6Ic3wOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Ic4AOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>this.name = name;
		this.board = board;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic4QOFEeWaRLjPW0dPDQ" name="createFromMapFile" specification="_q5im8wOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic4gOFEeWaRLjPW0dPDQ" name="file" type="_q5BCggOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6Ic4wOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>Sector[][] sectors = new Sector[ROWS][COLUMNS];
	    String title = null;
	    
     List&lt;String> lines = Files.readAllLines(file.toPath(), StandardCharsets.UTF_8);
     Iterator&lt;String> iterator = lines.iterator();
     
     int i = 0, j = 0;
     title = iterator.next();
     while ( iterator.hasNext() ) {
         String[] currentLine = iterator.next().split(&quot; &quot;);
         for( j = 0; j &lt; currentLine.length; ++j ) {
             sectors[i][j] = SectorBuilder.getSectorFor(Integer.parseInt(currentLine[j]));
         }
         ++i;
     }
     
     if( i != ROWS || j != COLUMNS )
         throw new SectorException(&quot;Missing sector&quot;);
		
		return new GameMap(title, sectors);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic5AOFEeWaRLjPW0dPDQ" name="generate" specification="_q1P80AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic5QOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>// TODO: advanced functionality to be implemented
		return new GameMap(null, null);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD4AOFEeWaRLjPW0dPDQ" name="getSectorAt" specification="_q1Qj4AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD4QOFEeWaRLjPW0dPDQ" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6JD4gOFEeWaRLjPW0dPDQ" name="j">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6JD4wOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>return board[i][j];
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD5AOFEeWaRLjPW0dPDQ" name="getSectorAt" specification="_q5jOAAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD5QOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6JD5gOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>return getSectorAt( point.x, point.y );
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD5wOFEeWaRLjPW0dPDQ" name="isWithinBounds" specification="_q5jOAwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD6AOFEeWaRLjPW0dPDQ" name="p" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6JD6QOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( p.x >= 0 &amp;&amp; p.y >= 0 &amp;&amp; p.x &lt; ROWS &amp;&amp; p.y &lt; COLUMNS ); 
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD6gOFEeWaRLjPW0dPDQ" name="distance" specification="_q5j1EAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD6wOFEeWaRLjPW0dPDQ" name="currentPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6JD7AOFEeWaRLjPW0dPDQ" name="destination" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6JD7QOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO: IMPLEMENTAMI! &lt;- stai calmo lol
     return 1;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD7gOFEeWaRLjPW0dPDQ" name="getStartingPoint" specification="_q5j1FAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD7wOFEeWaRLjPW0dPDQ" name="role" type="_q5BCgAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6JD8AOFEeWaRLjPW0dPDQ" type="_q4xx8wOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub
     return null;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD8QOFEeWaRLjPW0dPDQ" name="getListOfMaps" specification="_q1RK8AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD8gOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6JD8wOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return mapFiles;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JD9AOFEeWaRLjPW0dPDQ" name="isValidMap" specification="_q1RyAAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JD9QOFEeWaRLjPW0dPDQ" name="mapId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6JD9gOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// Generate map
     if(mapId == -1)
         return true;
     
     if(mapId >= 0 &amp;&amp; mapId &lt; mapFiles.length)
         return true;
     return false;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Jq8AOFEeWaRLjPW0dPDQ" name="createFromId" specification="_q1RyAwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Jq8QOFEeWaRLjPW0dPDQ" name="mapId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Jq8gOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>if(!isValidMap(mapId))
         throw new RuntimeException(&quot;Invalid map id&quot;);
         
     if(mapId == -1)
         return GameMap.generate();
     
     return GameMap.createFromMapFile(new File(mapFiles[mapId]));
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Jq8wOFEeWaRLjPW0dPDQ" name="setType" specification="_q5j1FwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Jq9AOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6Jq9QOFEeWaRLjPW0dPDQ" name="type">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( isWithinBounds(point) ) {
         board[point.x][point.y] = SectorBuilder.getSectorFor(type);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Jq9gOFEeWaRLjPW0dPDQ" name="getCellsWithMaxDistance" specification="_q5kcIQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Jq9wOFEeWaRLjPW0dPDQ" name="currentPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6Jq-AOFEeWaRLjPW0dPDQ" name="maxMoves">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Jq-QOFEeWaRLjPW0dPDQ" type="_q5CQoQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>// TODO Not implemented yet: it always returns Point (0,0)
     ArrayList&lt;Point> sectors = new ArrayList&lt; >();
     
     sectors.add( new Point(0,0) );
     return sectors;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1P80AOFEeWaRLjPW0dPDQ" name="generate" isStatic="true" method="_q6Ic5AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5DewAOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1Qj4AOFEeWaRLjPW0dPDQ" name="getSectorAt" method="_q6JD4AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q1Qj4QOFEeWaRLjPW0dPDQ" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1Qj4gOFEeWaRLjPW0dPDQ" name="j">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5im9gOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1RK8AOFEeWaRLjPW0dPDQ" name="getListOfMaps" isStatic="true" method="_q6JD8QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q1RK8QOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q1RK8gOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q1RyAAOFEeWaRLjPW0dPDQ" name="isValidMap" isStatic="true" method="_q6JD9AOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6N8ZQOFEeWaRLjPW0dPDQ">
                  <body>Check if the given mapId is valid
     * 
     * @param mapId Chosen map id
     * @return True if is valid</body>
                </ownedComment>
                <ownedParameter xmi:id="_q1RyAQOFEeWaRLjPW0dPDQ" name="mapId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1RyAgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q1RyAwOFEeWaRLjPW0dPDQ" name="createFromId" isStatic="true" method="_q6Jq8AOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q1SZEAOFEeWaRLjPW0dPDQ" name="mapId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5DewQOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5h_4AOFEeWaRLjPW0dPDQ" name="GameMap" visibility="private" method="_q6Ic3AOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q5h_4wOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q5h_5AOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q5h_4QOFEeWaRLjPW0dPDQ" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5h_4gOFEeWaRLjPW0dPDQ" name="board" type="_q4xK4AOFEeWaRLjPW0dPDQ">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q5im8QOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5im8AOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5im8wOFEeWaRLjPW0dPDQ" name="createFromMapFile" isStatic="true" method="_q6Ic4QOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5im9AOFEeWaRLjPW0dPDQ" name="file" type="_q5BCggOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5im9QOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5jOAAOFEeWaRLjPW0dPDQ" name="getSectorAt" method="_q6JD5AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5jOAQOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5jOAgOFEeWaRLjPW0dPDQ" type="_q4xK4AOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5jOAwOFEeWaRLjPW0dPDQ" name="isWithinBounds" method="_q6JD5wOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6N8YwOFEeWaRLjPW0dPDQ">
                  <body>Check if given point is inside the map
     * @param destination
     * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5jOBAOFEeWaRLjPW0dPDQ" name="p" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5jOBQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q5j1EAOFEeWaRLjPW0dPDQ" name="distance" method="_q6JD6gOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6N8ZAOFEeWaRLjPW0dPDQ">
                  <body>Calculate how many hexagons are there between A and B
     * @param source Where you start 
     * @param destination Where you end in
     * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5j1EQOFEeWaRLjPW0dPDQ" name="currentPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5j1EgOFEeWaRLjPW0dPDQ" name="destination" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5j1EwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q5j1FAOFEeWaRLjPW0dPDQ" name="getStartingPoint" method="_q6JD7gOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5j1FQOFEeWaRLjPW0dPDQ" name="role" type="_q5BCgAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5j1FgOFEeWaRLjPW0dPDQ" type="_q4xx8wOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5j1FwOFEeWaRLjPW0dPDQ" name="setType" method="_q6Jq8wOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6N8ZgOFEeWaRLjPW0dPDQ">
                  <body>@param point 
     * @param usedHatch</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5j1GAOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5kcIAOFEeWaRLjPW0dPDQ" name="type">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q5kcIQOFEeWaRLjPW0dPDQ" name="getCellsWithMaxDistance" method="_q6Jq9gOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6N8ZwOFEeWaRLjPW0dPDQ">
                  <body>@param currentPosition
     * @param maxMoves
     * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5kcIgOFEeWaRLjPW0dPDQ" name="currentPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5kcIwOFEeWaRLjPW0dPDQ" name="maxMoves">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5lDMAOFEeWaRLjPW0dPDQ" type="_q5CQoQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1WqgAOFEeWaRLjPW0dPDQ" name="GameState">
              <ownedComment xmi:id="_q6OjcAOFEeWaRLjPW0dPDQ">
                <body>Class representing the current state of the game. It holds the effective rules of the game and verify whether each action is valid or not.&#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)&#xD;
@since  May 21, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_q582oAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6ebFAOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q582oQOFEeWaRLjPW0dPDQ" value="Logger.getLogger(GameState.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q582ogOFEeWaRLjPW0dPDQ" name="gameManager" visibility="private" isLeaf="true" type="_q5HwMQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6fCIAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q582pAOFEeWaRLjPW0dPDQ" name="mEventQueue" visibility="private" isLeaf="true" type="_q5IXQAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6fCIwOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q59dsgOFEeWaRLjPW0dPDQ" name="mMap" visibility="private" isLeaf="true" type="_q1OusAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_q6fCJgOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q59dtAOFEeWaRLjPW0dPDQ" name="mPlayers" visibility="private" type="_q5F7AAOFEeWaRLjPW0dPDQ" isOrdered="true" association="_q6fpMQOFEeWaRLjPW0dPDQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q59dtQOFEeWaRLjPW0dPDQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q5-EwQOFEeWaRLjPW0dPDQ" name="noMorePlayingPlayers" visibility="private" type="_q5F7AAOFEeWaRLjPW0dPDQ" isOrdered="true" association="_q6fpNAOFEeWaRLjPW0dPDQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q5-EwgOFEeWaRLjPW0dPDQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_q5-ExAOFEeWaRLjPW0dPDQ" name="mTurnId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q5-ExQOFEeWaRLjPW0dPDQ" value="0"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Jq-gOFEeWaRLjPW0dPDQ" name="GameState" specification="_q5mRUAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Jq-wOFEeWaRLjPW0dPDQ" name="mgr" type="_q5HwMQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6Jq_AOFEeWaRLjPW0dPDQ" name="mapId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Jq_QOFEeWaRLjPW0dPDQ" name="clients" type="_q5C3sQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6Jq_gOFEeWaRLjPW0dPDQ" type="_q1WqgAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>GameMap tmpMap;&#xD;
     try {&#xD;
         tmpMap = GameMap.createFromId(mapId);&#xD;
     } catch(IOException e) {&#xD;
         LOG.log(Level.SEVERE, &quot;Missing map files: &quot; + e.toString(), e);&#xD;
         tmpMap = GameMap.generate();&#xD;
     }&#xD;
     mMap = tmpMap;&#xD;
     &#xD;
     gameManager = mgr;&#xD;
     &#xD;
     mEventQueue = new LinkedList&lt;>();&#xD;
     &#xD;
     mPlayers = new ArrayList&lt;>();&#xD;
     noMorePlayingPlayers = new ArrayList&lt;>();&#xD;
     List&lt;Role> roles = RoleFactory.generateRoles(clients.size());&#xD;
     &#xD;
     for(int i = 0;i&lt;clients.size(); i++) {&#xD;
         Role role = roles.get(i);&#xD;
         GamePlayer player = new GamePlayer(role, mMap.getStartingPoint(role));&#xD;
         &#xD;
         mPlayers.add(player);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Jq_wOFEeWaRLjPW0dPDQ" name="update" specification="_q1X4oAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>GamePlayer player = getCurrentPlayer();&#xD;
             &#xD;
     PlayerState nextState = player.getCurrentState().update(this);&#xD;
     player.setCurrentState(nextState);&#xD;
&#xD;
     // TODO notifica modifiche a tutti&#xD;
     gameManager.broadcastPacket( new NetworkPacket(GameCommand.CMD_SC_UPDATE_LOCAL_INFO, null) );&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6JrAAOFEeWaRLjPW0dPDQ" name="startUsingObjectCard" specification="_q5I-UAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6JrAQOFEeWaRLjPW0dPDQ" name="objectCard" type="_q1ks8AOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q6JrAgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>GamePlayer player = getCurrentPlayer();&#xD;
     PlayerState nextState = player.getCurrentState();&#xD;
     &#xD;
     if( player.isHuman() &amp;&amp; !player.isObjectCardUsed() ) {&#xD;
         getCurrentPlayer().setObjectCardUsed(true);&#xD;
         &#xD;
         switch( objectCard ) {&#xD;
         case ATTACK:&#xD;
             attack( player.getCurrentPosition() );&#xD;
             break;&#xD;
             &#xD;
         case TELEPORT:&#xD;
             // TODO set correct sector&#xD;
             Point humanSector = null;&#xD;
             &#xD;
             moveTo( humanSector );&#xD;
             break;&#xD;
             &#xD;
         case ADRENALINE:&#xD;
             if( player.getCurrentState() instanceof MovingState ) {&#xD;
                 player.setMaxMoves( 2 );&#xD;
             } else {&#xD;
                 player.sendPacket( GameCommand.CMD_SC_ADRENALINE_WRONG_STATE ); &#xD;
             }&#xD;
             break;&#xD;
             &#xD;
         case SEDATIVES:&#xD;
             player.setShouldDrawDangerousCard(false);&#xD;
             break;&#xD;
         &#xD;
         case SPOTLIGHT:&#xD;
             // another possibility here: add a second argument with the desired position, in order to make all in one state&#xD;
             player.setStateBeforeSpotlightCard( player.getCurrentState() );&#xD;
             nextState = new SpotlightCardState();&#xD;
             break;&#xD;
             &#xD;
         case DEFENSE:&#xD;
             // return&#xD;
             break;&#xD;
             &#xD;
         default:&#xD;
            throw new InvalidCardException(&quot;Unknown card.&quot;);&#xD;
         }&#xD;
     } else {&#xD;
         player.sendPacket( GameCommand.CMD_SC_CANNOT_USE_OBJ_CARD ); &#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSAAOFEeWaRLjPW0dPDQ" name="moveTo" specification="_q5nfcAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSAQOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
     &#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSAgOFEeWaRLjPW0dPDQ" name="getObjectCard" specification="_q1YfsAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSAwOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>GamePlayer player = getCurrentPlayer();&#xD;
     ObjectCard newCard = ObjectCard.getRandomCard();&#xD;
     PlayerState nextState;&#xD;
     &#xD;
     if( player.getNumberOfCards() &lt; Config.MAX_NUMBER_OF_OBJ_CARDS ) {&#xD;
         player.getObjectCards().add( newCard );&#xD;
         getCurrentPlayer().sendPacket( new NetworkPacket(GameCommand.CMD_SC_OBJECT_CARD_OBTAINED, newCard) );&#xD;
         &#xD;
         nextState = new EndingTurnState();&#xD;
     } else {&#xD;
         player.sendPacket( GameCommand.CMD_SC_DISCARD_OBJECT_CARD );&#xD;
         nextState = new DiscardingObjectCardState();&#xD;
     }&#xD;
     &#xD;
     return nextState;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSBAOFEeWaRLjPW0dPDQ" name="light" specification="_q5nfcwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSBQOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
     &#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSBgOFEeWaRLjPW0dPDQ" name="removePlayer" specification="_q1ZGwAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSBwOFEeWaRLjPW0dPDQ" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>noMorePlayingPlayers.add( mPlayers.remove(id) );&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSCAOFEeWaRLjPW0dPDQ" name="getCellsWithMaxDistance" specification="_q1Zt0QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSCQOFEeWaRLjPW0dPDQ" name="maxMoves">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6KSCgOFEeWaRLjPW0dPDQ" type="_q5CQoQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;Point> points = new ArrayList&lt;>();&#xD;
     &#xD;
     // TODO NOT IMPLEMENTED YET!&#xD;
     points.add( new Point(0,0) );&#xD;
     return points;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSCwOFEeWaRLjPW0dPDQ" name="getPacketFromQueue" specification="_q1aU4QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSDAOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>synchronized(mEventQueue) {&#xD;
         return mEventQueue.poll();&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSDQOFEeWaRLjPW0dPDQ" name="getCurrentPlayer" specification="_q1a78AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSDgOFEeWaRLjPW0dPDQ" type="_q5F7AAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>if(mPlayers != null &amp;&amp; mTurnId &lt; mPlayers.size())&#xD;
         return mPlayers.get(mTurnId);&#xD;
     &#xD;
     return null; // FIXME THROW EXCEPTION HERE!&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSDwOFEeWaRLjPW0dPDQ" name="getMap" specification="_q1a78wOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSEAOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>return mMap;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6KSEQOFEeWaRLjPW0dPDQ" name="queuePacket" specification="_q5oGgQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6KSEgOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>synchronized(mEventQueue) {&#xD;
         mEventQueue.add(pkt);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6K5EAOFEeWaRLjPW0dPDQ" name="buildInfoContainer" specification="_q1bjAAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6K5EQOFEeWaRLjPW0dPDQ" name="userList">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6K5EgOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6K5EwOFEeWaRLjPW0dPDQ" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6K5FAOFEeWaRLjPW0dPDQ" type="_q4kWkAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>GameInfoContainer info = new GameInfoContainer(userList, mPlayers.get(i).isHuman(), mMap);&#xD;
     return info;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6K5FQOFEeWaRLjPW0dPDQ" name="getPlayers" specification="_q1bjBAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6K5FgOFEeWaRLjPW0dPDQ" type="_q5F7AAOFEeWaRLjPW0dPDQ" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q6K5FwOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return mPlayers;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6K5GAOFEeWaRLjPW0dPDQ" name="getGameManager" specification="_q1cKEAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6K5GQOFEeWaRLjPW0dPDQ" type="_q5HwMQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>return gameManager;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1X4oAOFEeWaRLjPW0dPDQ" name="update" method="_q6Jq_wOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_q1YfsAOFEeWaRLjPW0dPDQ" name="getObjectCard" method="_q6KSAgOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6OjcwOFEeWaRLjPW0dPDQ">
                  <body>@param player&#xD;
     * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5nfcgOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1ZGwAOFEeWaRLjPW0dPDQ" name="removePlayer" method="_q6KSBgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q1Zt0AOFEeWaRLjPW0dPDQ" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q1Zt0QOFEeWaRLjPW0dPDQ" name="getCellsWithMaxDistance" visibility="private" method="_q6KSCAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6OjdQOFEeWaRLjPW0dPDQ">
                  <body>@param maxMoves&#xD;
     * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_q1Zt0gOFEeWaRLjPW0dPDQ" name="maxMoves">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5nfdQOFEeWaRLjPW0dPDQ" type="_q5CQoQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1aU4QOFEeWaRLjPW0dPDQ" name="getPacketFromQueue" method="_q6KSCwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5nfdgOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1a78AOFEeWaRLjPW0dPDQ" name="getCurrentPlayer" method="_q6KSDQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1a78QOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1a78gOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q5oGgAOFEeWaRLjPW0dPDQ" type="_q5F7AAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1a78wOFEeWaRLjPW0dPDQ" name="getMap" method="_q6KSDwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5I-UgOFEeWaRLjPW0dPDQ" type="_q1OusAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1bjAAOFEeWaRLjPW0dPDQ" name="buildInfoContainer" method="_q6K5EAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q1bjAQOFEeWaRLjPW0dPDQ" name="userList">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q1bjAwOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1bjAgOFEeWaRLjPW0dPDQ" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5oGgwOFEeWaRLjPW0dPDQ" type="_q4kWkAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q1bjBAOFEeWaRLjPW0dPDQ" name="getPlayers" method="_q6K5FQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q1bjBQOFEeWaRLjPW0dPDQ" type="_q5F7AAOFEeWaRLjPW0dPDQ" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_q1bjBgOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_q1cKEAOFEeWaRLjPW0dPDQ" name="getGameManager" method="_q6K5GAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5oGhAOFEeWaRLjPW0dPDQ" type="_q5HwMQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5I-UAOFEeWaRLjPW0dPDQ" name="startUsingObjectCard" method="_q6JrAAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6OjcQOFEeWaRLjPW0dPDQ">
                  <body>@param objectCard &#xD;
     * @param gameState&#xD;
     * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5I-UQOFEeWaRLjPW0dPDQ" name="objectCard" type="_q1ks8AOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5m4YQOFEeWaRLjPW0dPDQ" type="_q5HJIQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5mRUAOFEeWaRLjPW0dPDQ" name="GameState" method="_q6Jq-gOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q5mRVAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q5mRVQOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q5mRUQOFEeWaRLjPW0dPDQ" name="mgr" type="_q5HwMQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5mRUgOFEeWaRLjPW0dPDQ" name="mapId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q5mRUwOFEeWaRLjPW0dPDQ" name="clients" type="_q5C3sQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_q5mRVgOFEeWaRLjPW0dPDQ" type="_q1WqgAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5m4YgOFEeWaRLjPW0dPDQ" name="attack">
                <ownedParameter xmi:id="_q5m4YwOFEeWaRLjPW0dPDQ" name="currentPosition" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5nfcAOFEeWaRLjPW0dPDQ" name="moveTo" method="_q6KSAAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6OjcgOFEeWaRLjPW0dPDQ">
                  <body>@param point</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5nfcQOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5nfcwOFEeWaRLjPW0dPDQ" name="light" method="_q6KSBAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_q6OjdAOFEeWaRLjPW0dPDQ">
                  <body>@param point</body>
                </ownedComment>
                <ownedParameter xmi:id="_q5nfdAOFEeWaRLjPW0dPDQ" name="point" type="_q4xx8wOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_q5oGgQOFEeWaRLjPW0dPDQ" name="queuePacket" method="_q6KSEQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q5oGggOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6d0BwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6d0CAOFEeWaRLjPW0dPDQ _q57ogQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6d0CAOFEeWaRLjPW0dPDQ" name="" type="_q1OusAOFEeWaRLjPW0dPDQ" association="_q6d0BwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6ebEQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6ebEgOFEeWaRLjPW0dPDQ _q58PkgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6ebEgOFEeWaRLjPW0dPDQ" name="" type="_q1OusAOFEeWaRLjPW0dPDQ" association="_q6ebEQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6ebFAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6ebFQOFEeWaRLjPW0dPDQ _q582oAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6ebFQOFEeWaRLjPW0dPDQ" name="" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_q6ebFAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6fCIAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6fCIQOFEeWaRLjPW0dPDQ _q582ogOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6fCIQOFEeWaRLjPW0dPDQ" name="" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_q6fCIAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6fCIwOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6fCJAOFEeWaRLjPW0dPDQ _q582pAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6fCJAOFEeWaRLjPW0dPDQ" name="" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_q6fCIwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6fCJgOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6fCJwOFEeWaRLjPW0dPDQ _q59dsgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6fCJwOFEeWaRLjPW0dPDQ" name="" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_q6fCJgOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6fpMQOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6fpMgOFEeWaRLjPW0dPDQ _q59dtAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6fpMgOFEeWaRLjPW0dPDQ" name="" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_q6fpMQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_q6fpNAOFEeWaRLjPW0dPDQ" name="" memberEnd="_q6fpNQOFEeWaRLjPW0dPDQ _q5-EwQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_q6fpNQOFEeWaRLjPW0dPDQ" name="" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_q6fpNAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_qzIc8AOFEeWaRLjPW0dPDQ" name="exception">
            <packagedElement xmi:type="uml:Class" xmi:id="_q1FkwAOFEeWaRLjPW0dPDQ" name="CommandNotValidException">
              <generalization xmi:id="_q5gKsgOFEeWaRLjPW0dPDQ" general="_q5gKsAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q56aYQOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q56aYgOFEeWaRLjPW0dPDQ" value="-3785617445339999499L"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1ywOFEeWaRLjPW0dPDQ" name="CommandNotValidException" specification="_q1GL0AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6H1zAOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6H1zQOFEeWaRLjPW0dPDQ" type="_q1FkwAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super(message);&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1GL0AOFEeWaRLjPW0dPDQ" name="CommandNotValidException" method="_q6H1ywOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1GL0gOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1GL0wOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q1GL0QOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1GL1AOFEeWaRLjPW0dPDQ" type="_q1FkwAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1Gy4AOFEeWaRLjPW0dPDQ" name="DrawingModeException">
              <generalization xmi:id="_q5gxwAOFEeWaRLjPW0dPDQ" general="_q5gKsAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q56aYwOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q56aZAOFEeWaRLjPW0dPDQ" value="2865321288575957562L"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6H1zgOFEeWaRLjPW0dPDQ" name="DrawingModeException" specification="_q1Gy4QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6H1zwOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6H10AOFEeWaRLjPW0dPDQ" type="_q1Gy4AOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super(message); &#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1Gy4QOFEeWaRLjPW0dPDQ" name="DrawingModeException" method="_q6H1zgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1HZ8QOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1HZ8gOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q1HZ8AOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1HZ8wOFEeWaRLjPW0dPDQ" type="_q1Gy4AOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1HZ9AOFEeWaRLjPW0dPDQ" name="IllegalStateOperationException">
              <generalization xmi:id="_q5gxwQOFEeWaRLjPW0dPDQ" general="_q5gKsAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q56aZQOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57BcAOFEeWaRLjPW0dPDQ" value="-437060460576133955L"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic0AOFEeWaRLjPW0dPDQ" name="IllegalStateOperationException" specification="_q1IBAAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic0QOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Ic0gOFEeWaRLjPW0dPDQ" type="_q1HZ9AOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super(message);&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1IBAAOFEeWaRLjPW0dPDQ" name="IllegalStateOperationException" method="_q6Ic0AOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1IBAgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1IBAwOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q1IBAQOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1IBBAOFEeWaRLjPW0dPDQ" type="_q1HZ9AOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1IBBQOFEeWaRLjPW0dPDQ" name="InvalidCardException">
              <generalization xmi:id="_q5gxwgOFEeWaRLjPW0dPDQ" general="_q5gKsAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q57BcQOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57BcgOFEeWaRLjPW0dPDQ" value="-5943219704357029192L"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic0wOFEeWaRLjPW0dPDQ" name="InvalidCardException" specification="_q1IoEAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic1AOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Ic1QOFEeWaRLjPW0dPDQ" type="_q1IBBQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super(message);&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1IoEAOFEeWaRLjPW0dPDQ" name="InvalidCardException" method="_q6Ic0wOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1IoEgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1IoEwOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q1IoEQOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1IoFAOFEeWaRLjPW0dPDQ" type="_q1IBBQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1JPIAOFEeWaRLjPW0dPDQ" name="NetworkPacketNotValidException">
              <generalization xmi:id="_q5hY0AOFEeWaRLjPW0dPDQ" general="_q5gKsAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q57BcwOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57BdAOFEeWaRLjPW0dPDQ" value="1L"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic1gOFEeWaRLjPW0dPDQ" name="NetworkPacketNotValidException" specification="_q1JPIQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic1wOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Ic2AOFEeWaRLjPW0dPDQ" type="_q1JPIAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super(message);
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1JPIQOFEeWaRLjPW0dPDQ" name="NetworkPacketNotValidException" method="_q6Ic1gOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1JPIwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1JPJAOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q1JPIgOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1JPJQOFEeWaRLjPW0dPDQ" type="_q1JPIAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q1J2MAOFEeWaRLjPW0dPDQ" name="SectorException">
              <generalization xmi:id="_q5hY0QOFEeWaRLjPW0dPDQ" general="_q5gKsAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_q57BdQOFEeWaRLjPW0dPDQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_q57BdgOFEeWaRLjPW0dPDQ" value="-8112962578669558769L"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_q6Ic2QOFEeWaRLjPW0dPDQ" name="SectorException" specification="_q1KdQAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_q6Ic2gOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q6Ic2wOFEeWaRLjPW0dPDQ" type="_q1J2MAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super(message);&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_q1KdQAOFEeWaRLjPW0dPDQ" name="SectorException" method="_q6Ic2QOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_q1KdQgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_q1KdQwOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_q1KdQQOFEeWaRLjPW0dPDQ" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_q1KdRAOFEeWaRLjPW0dPDQ" type="_q1J2MAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_qznlIgOFEeWaRLjPW0dPDQ" name="server">
            <packagedElement xmi:type="uml:Class" xmi:id="_q5HJJQOFEeWaRLjPW0dPDQ" name="Client">
              <ownedComment xmi:id="_r7ga4gOFEeWaRLjPW0dPDQ">
                <body>Player manager
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 8, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_r7RwwAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLWAOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7RwwQOFEeWaRLjPW0dPDQ" value="Logger.getLogger(Client.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7RwwgOFEeWaRLjPW0dPDQ" name="mConn" visibility="private" isLeaf="true" type="_r6AlcAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLWwOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7RwxAOFEeWaRLjPW0dPDQ" name="mGame" visibility="private" isLeaf="true" type="_q5HwMQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLXgOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7SX0QOFEeWaRLjPW0dPDQ" name="mPlaying" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7SX0gOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7SX1AOFEeWaRLjPW0dPDQ" name="mUser" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7SX1QOFEeWaRLjPW0dPDQ" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7fzPAOFEeWaRLjPW0dPDQ" name="Client" specification="_r6-10AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7fzPQOFEeWaRLjPW0dPDQ" name="conn" type="_r6AlcAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7fzPgOFEeWaRLjPW0dPDQ" name="game" type="_q5HwMQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7fzPwOFEeWaRLjPW0dPDQ" type="_q5HJJQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mConn = conn;
     mGame = game;

     /* Enable bidirectional communication Client &lt;-> ClientConn */
     mConn.setClient(this);  
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaQAOFEeWaRLjPW0dPDQ" name="handlePacket" specification="_r5PwcAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaQQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>if(!mGame.isRunning()) {
         try {
             Serializable[] args = pkt.getArgs();
             if(args == null || args.length == 0)
                 return;
             
             // Choosing username
             synchronized(mGame) {
                 switch(pkt.getOpcode()) {
                     case CMD_CS_USERNAME:
                         String name = (String) args[0];
                         if(mGame.canSetName(name) &amp;&amp; mUser == null) {
                             setUsername(name);
                             sendPacket(new NetworkPacket(GameCommand.CMD_SC_USEROK, mGame.getNumberOfPlayers(), mGame.getRemainingLoginTime()));
                         } else
                             sendPacket(GameCommand.CMD_SC_USERFAIL);
                         break;
                     case CMD_CS_LOADMAP:
                         // FIXME null map
                         if(args.length == 1 &amp;&amp; mGame.setMap(this, (Integer)args[0]))
                             sendPacket(GameCommand.CMD_SC_MAPOK);
                         else
                             sendPacket(GameCommand.CMD_SC_MAPFAIL);
                         break;
                 }
             }
         } catch( Exception e ) {
             LOG.log(Level.SEVERE, &quot;Unknown packet: &quot; + e.toString(), e);
         }
     } else
         mGame.handlePacket(this, pkt);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaQgOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r5QXgAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaQwOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>mConn.sendPacket(pkt);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaRAOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r5QXggOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaRQOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>sendPacket(new NetworkPacket(opcode));
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaRgOFEeWaRLjPW0dPDQ" name="getUsername" specification="_r5QXhAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaRwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return mUser;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaSAOFEeWaRLjPW0dPDQ" name="hasUsername" specification="_r5QXhQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaSQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mUser != null &amp;&amp; mUser.length() > 0)
         return true;
     return false;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaSgOFEeWaRLjPW0dPDQ" name="handleDisconnect" specification="_r5QXhgOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>if(mConn.isConnected()) {
         mConn.disconnect();
         mGame.removeClient(this);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaSwOFEeWaRLjPW0dPDQ" name="setUsername" specification="_r5_-YgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaTAOFEeWaRLjPW0dPDQ" name="username">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mUser != null)
         throw new RuntimeException(&quot;Username is already set&quot;);
     mUser = username;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaTQOFEeWaRLjPW0dPDQ" name="update" specification="_r5QXiQOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>if(mConn.isTimeoutTimerElapsed()) {
         LOG.log(Level.WARNING, &quot;Ping timeout. Disconnecting.&quot;);
         handleDisconnect();
     }
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r5PwcAOFEeWaRLjPW0dPDQ" name="handlePacket" method="_r7gaQAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5PwcgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5PwcwOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga5AOFEeWaRLjPW0dPDQ">
                  <body>Handle a new incoming packet
     * 
     * @param pkt The packet</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5PwcQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5QXgAOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7gaQgOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga5QOFEeWaRLjPW0dPDQ">
                  <body>Send a packet through the network
     * 
     * @param pkt The packet</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5QXgQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5QXggOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7gaRAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga5gOFEeWaRLjPW0dPDQ">
                  <body>Send a packet without arguments through the network
     * 
     * @param opcode The opcode</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5QXgwOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5QXhAOFEeWaRLjPW0dPDQ" name="getUsername" method="_r7gaRgOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga5wOFEeWaRLjPW0dPDQ">
                  <body>Get the player username
     * 
     * @return the username</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5_-YAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5QXhQOFEeWaRLjPW0dPDQ" name="hasUsername" method="_r7gaSAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga6AOFEeWaRLjPW0dPDQ">
                  <body>Check if the player has a username
     * 
     * @return True if the username is set</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5_-YQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5QXhgOFEeWaRLjPW0dPDQ" name="handleDisconnect" method="_r7gaSgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5QXhwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5QXiAOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga6QOFEeWaRLjPW0dPDQ">
                  <body>Disconnect the client</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r5QXiQOFEeWaRLjPW0dPDQ" name="update" method="_r7gaTQOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga6wOFEeWaRLjPW0dPDQ">
                  <body>Update timeouts</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r5_-YgOFEeWaRLjPW0dPDQ" name="setUsername" method="_r7gaSwOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga6gOFEeWaRLjPW0dPDQ">
                  <body>Set a new username 
     * This method could be called only once
     *
     * @param username The new username</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5_-YwOFEeWaRLjPW0dPDQ" name="username">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6-10AOFEeWaRLjPW0dPDQ" name="Client" method="_r7fzPAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6-11AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6-11QOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga4wOFEeWaRLjPW0dPDQ">
                  <body>The constructor
     * 
     * @param conn Connection to the client
     * @param game Game he is playing</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6-10QOFEeWaRLjPW0dPDQ" name="conn" type="_r6AlcAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r6-10gOFEeWaRLjPW0dPDQ" name="game" type="_q5HwMQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r6-10wOFEeWaRLjPW0dPDQ" type="_q5HJJQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_q5HwMQOFEeWaRLjPW0dPDQ" name="GameManager">
              <ownedComment xmi:id="_r7ga9wOFEeWaRLjPW0dPDQ">
                <body>Game manager
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 9, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_r7VbIQOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLdgOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7VbIgOFEeWaRLjPW0dPDQ" value="Logger.getLogger(GameManager.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7VbIwOFEeWaRLjPW0dPDQ" name="mIsRunning" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7VbJAOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7VbJgOFEeWaRLjPW0dPDQ" name="mStartTime" visibility="private" isLeaf="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7WCMQOFEeWaRLjPW0dPDQ" name="mClients" visibility="private" type="_q5HJJQOFEeWaRLjPW0dPDQ" isOrdered="true" association="_r7qLeQOFEeWaRLjPW0dPDQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7WCMgOFEeWaRLjPW0dPDQ" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7WCMwOFEeWaRLjPW0dPDQ" value="new LinkedList&lt;Client>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7WCNQOFEeWaRLjPW0dPDQ" name="mCurTurn" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7WCNgOFEeWaRLjPW0dPDQ" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7WCOAOFEeWaRLjPW0dPDQ" name="mChosenMapId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7WCOQOFEeWaRLjPW0dPDQ" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7WpQQOFEeWaRLjPW0dPDQ" name="mState" visibility="private" type="_q1WqgAOFEeWaRLjPW0dPDQ" association="_r7qLfAOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7WpQgOFEeWaRLjPW0dPDQ" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gabgOFEeWaRLjPW0dPDQ" name="GameManager" specification="_r5WeIAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gabwOFEeWaRLjPW0dPDQ" type="_q5HwMQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mStartTime = System.currentTimeMillis();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gacAOFEeWaRLjPW0dPDQ" name="addPlayer" specification="_r5XFMgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gacQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7gacgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mIsRunning || mClients.size() >= Config.GAME_MAX_PLAYERS)
         return false;

     mClients.add(client);
     client.sendPacket(new NetworkPacket(GameCommand.CMD_SC_TIME, String.valueOf(getRemainingLoginTime())));
     client.sendPacket(GameCommand.CMD_SC_CHOOSEUSER);
     broadcastPacket(new NetworkPacket(GameCommand.CMD_SC_STAT, String.valueOf(mClients.size())));
     
     // @first client: ask for map
     if(mClients.size() == 1)
         askForMap(client);

     return true;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gacwOFEeWaRLjPW0dPDQ" name="isFull" specification="_r5XFNgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gadAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return mClients.size() >= Config.GAME_MAX_PLAYERS;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gadQOFEeWaRLjPW0dPDQ" name="isReady" specification="_r5XFOQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gadgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if((getRemainingLoginTime() == 0 &amp;&amp; mClients.size() >= Config.GAME_MIN_PLAYERS) || mClients.size() == Config.GAME_MAX_PLAYERS)
         return true;
     
     if(mIsRunning)
         return true;
     
     return false;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gadwOFEeWaRLjPW0dPDQ" name="isRunning" specification="_r5XFPAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaeAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return mIsRunning;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaeQOFEeWaRLjPW0dPDQ" name="getNumberOfPlayers" specification="_r5XFPwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaegOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return mClients.size();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaewOFEeWaRLjPW0dPDQ" name="getRemainingLoginTime" specification="_r5XsQAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gafAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <language>java</language>
                <body>long rem = Config.GAME_WAITING_SECS - (System.currentTimeMillis() - mStartTime)/1000;
     return rem > 0 ? rem : 0;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gafQOFEeWaRLjPW0dPDQ" name="canSetName" specification="_r6Do9gOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gafgOFEeWaRLjPW0dPDQ" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r7gafwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(name == null)
         return false;
     
     for(Client c : mClients) {
         if(name.equalsIgnoreCase(c.getUsername()))
             return false;
     } 
     return true;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gagAOFEeWaRLjPW0dPDQ" name="update" specification="_r5XsQwOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>for(Client c : mClients)
         if(c != null)
             c.update();
     
     if(!mIsRunning) {
         // Game is ready but it is not running 
         for(Client client : mClients)
             if(!client.hasUsername()) {
                 // Some slow users still haven't typed their name
                 return;
             }
         
         if(mChosenMapId == null)
             return;
         
         // Let the game begin
         LOG.log(Level.INFO, &quot;Players ready! Rolling the dice and starting up...&quot;);

         Collections.shuffle(mClients);
         
         mState = new GameState(this, mChosenMapId, mClients);
         
         LOG.log(Level.INFO, mClients.get(0).getUsername() + &quot; is the first player&quot;);
         
         // Send infos to all players
         String[] userList = new String[mClients.size()];
         
         for(int i = 0; i &lt; mClients.size(); i++)
             userList[i] = mClients.get(i).getUsername();
         
         for(int i = 0; i &lt; mClients.size(); i++) {
             GameInfoContainer info = mState.buildInfoContainer(userList, i);
             mClients.get(i).sendPacket(new NetworkPacket(GameCommand.CMD_SC_RUN, info));
         }
         
         mIsRunning = true;
     } else {
         if(mState != null)
             mState.update();
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gagQOFEeWaRLjPW0dPDQ" name="broadcastPacket" specification="_r5XsRgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaggOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>for(Client c : mClients)
         c.sendPacket(opcode);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gagwOFEeWaRLjPW0dPDQ" name="broadcastPacket" specification="_r5XsSAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gahAOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>for(Client c : mClients)
         c.sendPacket(pkt);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gahQOFEeWaRLjPW0dPDQ" name="removeClient" specification="_r5XsTAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gahgOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>boolean mustAskForMap = false;
     if(mClients.get(0).equals(client) &amp;&amp; mChosenMapId == null)
         mustAskForMap = true;
     
     if(mClients.remove(client) == false)
         throw new RuntimeException(&quot;Are you trying to remove a non-existent client?&quot;);
     
     // Decrement global user counter
     Server.getInstance().removeClient();
     
     broadcastPacket(new NetworkPacket(GameCommand.CMD_SC_STAT, String.valueOf(mClients.size())));
     if(mClients.size() == 0 || (mClients.size() &lt; Config.GAME_MIN_PLAYERS &amp;&amp; mIsRunning)) {
         broadcastPacket(GameCommand.CMD_SC_WIN);
         Server.getInstance().removeGame(this);
     } else {
         // Game is still alive
         if(mustAskForMap &amp;&amp; mClients.size()>0)
             askForMap(mClients.get(0));
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gahwOFEeWaRLjPW0dPDQ" name="askForMap" specification="_r5XsUAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaiAOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>NetworkPacket pkt;
     
     pkt = new NetworkPacket(GameCommand.CMD_SC_CHOOSEMAP, (Serializable[]) GameMap.getListOfMaps());
     client.sendPacket(pkt);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaiQOFEeWaRLjPW0dPDQ" name="handlePacket" specification="_r5YTUAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaigOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7gaiwOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>if(!mIsRunning)
         LOG.log(Level.SEVERE, &quot;Game is not started yet. What's happening?&quot;);
     
     if(mCurTurn != null &amp;&amp; mCurTurn.equals(client) &amp;&amp; mState != null) {
         mState.queuePacket(pkt);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gajAOFEeWaRLjPW0dPDQ" name="setMap" specification="_r6Do-wOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gajQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7gajgOFEeWaRLjPW0dPDQ" name="chosenMap">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r7gajwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mChosenMapId != null)
         return false;
     
     if(mClients.size() > 0 &amp;&amp; mClients.get(0).equals(client) &amp;&amp; GameMap.isValidMap(chosenMap)) {
         mChosenMapId = chosenMap;
         return true;
     }
     
     return false;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r5WeIAOFEeWaRLjPW0dPDQ" name="GameManager" method="_r7gabgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XFMAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XFMQOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r5WeIQOFEeWaRLjPW0dPDQ" type="_q5HwMQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XFMgOFEeWaRLjPW0dPDQ" name="addPlayer" method="_r7gacAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XFNAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XFNQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga-AOFEeWaRLjPW0dPDQ">
                  <body>Add new clients to this game
     * 
     * @param client    New client instance
     * @return          True if the player is added correctly</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5XFMwOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r6Do8AOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XFNgOFEeWaRLjPW0dPDQ" name="isFull" method="_r7gacwOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XFNwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XFOAOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga-QOFEeWaRLjPW0dPDQ">
                  <body>Check if number of players is greater or equal to the maximum number of players per game
     * 
     * @return True if this game is full</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do8QOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XFOQOFEeWaRLjPW0dPDQ" name="isReady" method="_r7gadQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XFOgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XFOwOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga-gOFEeWaRLjPW0dPDQ">
                  <body>Check if the game is ready to start and can't accept new connections
     * 
     * @return True if the game is ready to start</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do8gOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XFPAOFEeWaRLjPW0dPDQ" name="isRunning" method="_r7gadwOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XFPQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XFPgOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga-wOFEeWaRLjPW0dPDQ">
                  <body>Check if the game is running
     * 
     * @return True if the game is running (new players can't join)</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do8wOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XFPwOFEeWaRLjPW0dPDQ" name="getNumberOfPlayers" method="_r7gaeQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XFQAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XFQQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga_AOFEeWaRLjPW0dPDQ">
                  <body>Get number of connected players
     * 
     * @return Number of connected players</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do9AOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XsQAOFEeWaRLjPW0dPDQ" name="getRemainingLoginTime" method="_r7gaewOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XsQQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XsQgOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga_QOFEeWaRLjPW0dPDQ">
                  <body>Get how many seconds are left before the game starts
     * 
     * @return Remaining time</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do9QOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XsQwOFEeWaRLjPW0dPDQ" name="update" method="_r7gagAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XsRAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XsRQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga_wOFEeWaRLjPW0dPDQ">
                  <body>This method is called on each game update cycle
     * @todo notify users about someone without username
     * @todo generate a random username if someone won't choose it</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XsRgOFEeWaRLjPW0dPDQ" name="broadcastPacket" method="_r7gagQOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbAAOFEeWaRLjPW0dPDQ">
                  <body>Send a packet without arguments to all players connected
     * 
     * @param opcode Packet opcode</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5XsRwOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XsSAOFEeWaRLjPW0dPDQ" name="broadcastPacket" method="_r7gagwOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XsSgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XsSwOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbAQOFEeWaRLjPW0dPDQ">
                  <body>Send a packet to all players connected
     * 
     * @param pkt Packet</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5XsSQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XsTAOFEeWaRLjPW0dPDQ" name="removeClient" method="_r7gahQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r5XsTgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r5XsTwOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbAgOFEeWaRLjPW0dPDQ">
                  <body>Remove a client from this game
     * 
     * @param client The client</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5XsTQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5XsUAOFEeWaRLjPW0dPDQ" name="askForMap" visibility="private" method="_r7gahwOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbAwOFEeWaRLjPW0dPDQ">
                  <body>Ask to client which map to use
     * 
     * @param client The client</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5XsUQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r5YTUAOFEeWaRLjPW0dPDQ" name="handlePacket" method="_r7gaiQOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbBAOFEeWaRLjPW0dPDQ">
                  <body>@param client
     * @param pkt</body>
                </ownedComment>
                <ownedParameter xmi:id="_r5YTUQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r5YTUgOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6Do9gOFEeWaRLjPW0dPDQ" name="canSetName" method="_r7gafQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6Do-AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6Do-QOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga_gOFEeWaRLjPW0dPDQ">
                  <body>Check if a player can set the name he wants
     * 
     * @param name      The name
     * @return          True if the player can set this name</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do9wOFEeWaRLjPW0dPDQ" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r6Do-gOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6Do-wOFEeWaRLjPW0dPDQ" name="setMap" method="_r7gajAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6Do_AOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r6Do_QOFEeWaRLjPW0dPDQ" name="chosenMap">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r6Do_gOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6AlcAOFEeWaRLjPW0dPDQ" name="ClientConn" isAbstract="true">
              <ownedComment xmi:id="_r7ga7AOFEeWaRLjPW0dPDQ">
                <body>Common client connection interface 
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 8, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_r7S-4AOFEeWaRLjPW0dPDQ" name="mClient" visibility="protected" type="_q5HJJQOFEeWaRLjPW0dPDQ" association="_r7qLYQOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7S-4QOFEeWaRLjPW0dPDQ" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7S-4wOFEeWaRLjPW0dPDQ" name="mLastPingTime" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7S-5QOFEeWaRLjPW0dPDQ" name="mIsConnected" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7S-5gOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <interfaceRealization xmi:id="_r6AlcQOFEeWaRLjPW0dPDQ" client="_r6AlcAOFEeWaRLjPW0dPDQ" supplier="_q5bSNAOFEeWaRLjPW0dPDQ" contract="_q5bSNAOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaTgOFEeWaRLjPW0dPDQ" name="ClientConn" specification="_r6BMgAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaTwOFEeWaRLjPW0dPDQ" type="_r6AlcAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>resetTimeoutTimer();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaUAOFEeWaRLjPW0dPDQ" name="setClient" specification="_r6BMhAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaUQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>if(mClient != null)
         throw new RuntimeException(&quot;This connection has a client yet&quot;);
     mClient = client;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaUgOFEeWaRLjPW0dPDQ" name="isTimeoutTimerElapsed" specification="_r6BMhgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaUwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (System.currentTimeMillis() - mLastPingTime) > Config.SERVER_CONNECTION_TIMEOUT; 
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaVAOFEeWaRLjPW0dPDQ" name="resetTimeoutTimer" specification="_r6BMigOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>mLastPingTime = System.currentTimeMillis();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaVQOFEeWaRLjPW0dPDQ" name="isConnected" specification="_r6BzlQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaVgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return mIsConnected;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaVwOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r6BzlwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaWAOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>sendPacket(new NetworkPacket(opcode));
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6BMgAOFEeWaRLjPW0dPDQ" name="ClientConn" method="_r7gaTgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6BMgQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6BMggOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6BMgwOFEeWaRLjPW0dPDQ" type="_r6AlcAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BMhAOFEeWaRLjPW0dPDQ" name="setClient" method="_r7gaUAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga7QOFEeWaRLjPW0dPDQ">
                  <body>Set a new client
     *
     * @param client The client</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6BMhQOFEeWaRLjPW0dPDQ" name="client" type="_q5HJJQOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BMhgOFEeWaRLjPW0dPDQ" name="isTimeoutTimerElapsed" method="_r7gaUgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6BMhwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6BMiAOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga7gOFEeWaRLjPW0dPDQ">
                  <body>Check if the client is not responding (Ping timeout)
     * 
     * @return True if the client is not responding</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6BMiQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BMigOFEeWaRLjPW0dPDQ" name="resetTimeoutTimer" method="_r7gaVAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6BzkAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6BzkQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga7wOFEeWaRLjPW0dPDQ">
                  <body>Call this on a new incoming packet.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BzkgOFEeWaRLjPW0dPDQ" name="sendPacket" isAbstract="true">
                <ownedComment xmi:id="_r7ga8AOFEeWaRLjPW0dPDQ">
                  <body>Send a packet through this socket
     * 
     * @param pkt The packet</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6BzkwOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BzlAOFEeWaRLjPW0dPDQ" name="disconnect" isAbstract="true">
                <ownedComment xmi:id="_r7ga8QOFEeWaRLjPW0dPDQ">
                  <body>Close this connection</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BzlQOFEeWaRLjPW0dPDQ" name="isConnected" method="_r7gaVQOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga8gOFEeWaRLjPW0dPDQ">
                  <body>Check if this client is connected
     * 
     * @return True if this client is online</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6BzlgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6BzlwOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7gaVwOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7ga8wOFEeWaRLjPW0dPDQ">
                  <body>Send a packet without arguments through this socket
     * 
     * @param opcode An opcode</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6BzmAOFEeWaRLjPW0dPDQ" name="opcode" type="_q1LEUAOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6CaoAOFEeWaRLjPW0dPDQ" name="ClientConnRMI">
              <ownedComment xmi:id="_r7ga9AOFEeWaRLjPW0dPDQ">
                <body>RMI Connection
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 16, 2015</body>
              </ownedComment>
              <generalization xmi:id="_r6_c5gOFEeWaRLjPW0dPDQ" general="_r6AlcAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7Tl8QOFEeWaRLjPW0dPDQ" name="mOutgoingQueue" visibility="private" type="_q5IXQAOFEeWaRLjPW0dPDQ" association="_r7qLZAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7UNAAOFEeWaRLjPW0dPDQ" name="mUniqueId" visibility="private" isLeaf="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7UNAgOFEeWaRLjPW0dPDQ" name="mServer" visibility="private" isLeaf="true" type="_r6NZwAOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLZwOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7UNBAOFEeWaRLjPW0dPDQ" name="mIsDisconnecting" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7UNBQOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaWQOFEeWaRLjPW0dPDQ" name="ClientConnRMI" specification="_r6_c4AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaWgOFEeWaRLjPW0dPDQ" name="server" type="_r6NZwAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7gaWwOFEeWaRLjPW0dPDQ" name="uniqueId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r7gaXAOFEeWaRLjPW0dPDQ" type="_r6CaoAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>super();
     mIsConnected = true;
     mOutgoingQueue = new LinkedList&lt;NetworkPacket>();
     mUniqueId = uniqueId;
     mServer = server;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaXQOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r6DowwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaXgOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>synchronized(mOutgoingQueue) {
         mOutgoingQueue.add(pkt);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaXwOFEeWaRLjPW0dPDQ" name="disconnect" specification="_r6DoyAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>sendPacket(GameCommand.CMD_BYE);
     mIsDisconnecting = true;
     mIsConnected = false;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaYAOFEeWaRLjPW0dPDQ" name="onRMICommand" specification="_r6DozAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaYQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>resetTimeoutTimer();
     if(mClient != null &amp;&amp; pkt != null &amp;&amp; !mIsDisconnecting)
         mClient.handlePacket(pkt);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaYgOFEeWaRLjPW0dPDQ" name="readCommands" specification="_r6DozgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaYwOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7gaZAOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>resetTimeoutTimer();
     
     // Last read with good bye message
     if(mIsDisconnecting)
         mServer.unregister(mUniqueId);
     
     synchronized(mOutgoingQueue) {
         if(mOutgoingQueue.isEmpty())
             return new NetworkPacket[0];
         NetworkPacket[] out = new NetworkPacket[mOutgoingQueue.size()];
         
         int i = 0;
         while(!mOutgoingQueue.isEmpty()) {
             NetworkPacket msg = mOutgoingQueue.poll();
             out[i++] = msg;
         }
         return out;
     }
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6DBsAOFEeWaRLjPW0dPDQ" name="run"/>
              <ownedOperation xmi:id="_r6DowwOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7gaXQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6DoxAOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DoyAOFEeWaRLjPW0dPDQ" name="disconnect" method="_r7gaXwOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_r6DozAOFEeWaRLjPW0dPDQ" name="onRMICommand" method="_r7gaYAOFEeWaRLjPW0dPDQ" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6DozQOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DozgOFEeWaRLjPW0dPDQ" name="readCommands" method="_r7gaYgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6DozwOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r6Do0AOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6_c4AOFEeWaRLjPW0dPDQ" name="ClientConnRMI" method="_r7gaWQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6_c4wOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6_c5AOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6_c4QOFEeWaRLjPW0dPDQ" name="server" type="_r6NZwAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r6_c4gOFEeWaRLjPW0dPDQ" name="uniqueId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r6_c5QOFEeWaRLjPW0dPDQ" type="_r6CaoAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6Do0gOFEeWaRLjPW0dPDQ" name="ClientConnTCP">
              <ownedComment xmi:id="_r7ga9QOFEeWaRLjPW0dPDQ">
                <body>TCP connection
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 8, 2015</body>
              </ownedComment>
              <generalization xmi:id="_r7AD8AOFEeWaRLjPW0dPDQ" general="_r6AlcAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7U0EAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLagOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7U0EQOFEeWaRLjPW0dPDQ" value="Logger.getLogger(ClientConnTCP.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7U0EgOFEeWaRLjPW0dPDQ" name="mOut" visibility="private" isLeaf="true" type="_q48KAQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLbQOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7U0FAOFEeWaRLjPW0dPDQ" name="mIn" visibility="private" isLeaf="true" type="_q47i8AOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLcAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7U0FgOFEeWaRLjPW0dPDQ" name="mSocket" visibility="private" type="_q48KAwOFEeWaRLjPW0dPDQ" association="_r7qLcwOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaZQOFEeWaRLjPW0dPDQ" name="ClientConnTCP" specification="_r6Do0wOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaZgOFEeWaRLjPW0dPDQ" name="socket" type="_q48KAwOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7gaZwOFEeWaRLjPW0dPDQ" type="_r6Do0gOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mOut = new ObjectOutputStream(socket.getOutputStream());
     mIn = new ObjectInputStream(socket.getInputStream());
     mSocket = socket;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaaAOFEeWaRLjPW0dPDQ" name="run" specification="_r6Do2AOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>try {
         while(mSocket.isConnected()) {
             Object obj = mIn.readObject();
             if(obj != null &amp;&amp; mClient != null &amp;&amp; obj instanceof NetworkPacket) {
                 resetTimeoutTimer();
                 mClient.handlePacket((NetworkPacket)obj);
             }
         }
     } catch(IOException | ClassNotFoundException e) {
         LOG.log(Level.FINE, &quot;Connection closed: &quot; + e.toString(), e);
     } finally {
         mClient.handleDisconnect();
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaaQOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_r6Do3AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaagOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>try {
         mOut.writeObject(pkt);
         mOut.flush();
     } catch (IOException e) {
         LOG.log(Level.FINEST, e.toString(), e);
         mClient.handleDisconnect();
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaawOFEeWaRLjPW0dPDQ" name="disconnect" specification="_r6Do4wOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>if(mOut != null) {
         try {
             mOut.writeObject(new NetworkPacket(GameCommand.CMD_BYE));
             mOut.flush();
         } catch(IOException e) {
             LOG.log(Level.FINER, e.toString(), e);
         }
     }
     try {
         mOut.close();
         mIn.close();
         mSocket.close();
     } catch (IOException e) {
         LOG.log(Level.FINE, &quot;Sockets are already closed: &quot; + e.toString(), e);
     }
     
     mSocket = null;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gabAOFEeWaRLjPW0dPDQ" name="isConnected" specification="_r6Do6QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gabQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mSocket == null)
         return false;
     return mSocket.isConnected();
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6Do0wOFEeWaRLjPW0dPDQ" name="ClientConnTCP" method="_r7gaZQOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6Do1QOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6Do1gOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7ga9gOFEeWaRLjPW0dPDQ">
                  <body>Constructor
     * 
     * @param socket        Socket to bind
     * @throws IOException  Socket errors</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6Do1AOFEeWaRLjPW0dPDQ" name="socket" type="_q48KAwOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r6Do1wOFEeWaRLjPW0dPDQ" type="_r6Do0gOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6Do2AOFEeWaRLjPW0dPDQ" name="run" method="_r7gaaAOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_r6Do3AOFEeWaRLjPW0dPDQ" name="sendPacket" method="_r7gaaQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6Do3gOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6Do3wOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6Do3QOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6Do4wOFEeWaRLjPW0dPDQ" name="disconnect" method="_r7gaawOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6Do5AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6Do5QOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
              </ownedOperation>
              <ownedOperation xmi:id="_r6Do6QOFEeWaRLjPW0dPDQ" name="isConnected" method="_r7gabAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6Do6gOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6Do6wOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6Do7AOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_r6Do_wOFEeWaRLjPW0dPDQ" name="Listener">
              <ownedComment xmi:id="_r7gbBQOFEeWaRLjPW0dPDQ">
                <body>Common server listeners interface
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 18, 2015</body>
              </ownedComment>
              <generalization xmi:id="_r6DpAAOFEeWaRLjPW0dPDQ" general="_q5bSNAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r6DpAgOFEeWaRLjPW0dPDQ" name="down" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r6DpAwOFEeWaRLjPW0dPDQ" name="up" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedOperation xmi:id="_r6DpAQOFEeWaRLjPW0dPDQ" name="tearDown">
                <ownedComment xmi:id="_r7gbBgOFEeWaRLjPW0dPDQ">
                  <body>Shut down the server</body>
                </ownedComment>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6DpBAOFEeWaRLjPW0dPDQ" name="Main">
              <ownedComment xmi:id="_r7gbBwOFEeWaRLjPW0dPDQ">
                <body>Server Main

@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 8, 2015</body>
              </ownedComment>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gakAOFEeWaRLjPW0dPDQ" name="main" specification="_r6DpCgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gakQOFEeWaRLjPW0dPDQ" name="args">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7gakgOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>Server.getInstance().runServer();
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6DpBQOFEeWaRLjPW0dPDQ" name="Main" visibility="private">
                <eAnnotations xmi:id="_r6DpBgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpBwOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6DpCQOFEeWaRLjPW0dPDQ" type="_r6DpBAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpCgOFEeWaRLjPW0dPDQ" name="main" isStatic="true" method="_r7gakAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6DpCwOFEeWaRLjPW0dPDQ" name="args">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r6DpDAOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6DpDQOFEeWaRLjPW0dPDQ" name="Server">
              <ownedComment xmi:id="_r7gbCAOFEeWaRLjPW0dPDQ">
                <body>The server

@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 8, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_r7WpRAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLfwOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7XQUAOFEeWaRLjPW0dPDQ" value="Logger.getLogger(Server.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7XQUwOFEeWaRLjPW0dPDQ" name="mServers" visibility="private" type="_r6Do_wOFEeWaRLjPW0dPDQ" isOrdered="true" association="_r7qLhQOFEeWaRLjPW0dPDQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7XQVAOFEeWaRLjPW0dPDQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7XQVgOFEeWaRLjPW0dPDQ" name="mGamesRunning" visibility="private" type="_q5HwMQOFEeWaRLjPW0dPDQ" isOrdered="true" association="_r7qLiAOFEeWaRLjPW0dPDQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7XQVwOFEeWaRLjPW0dPDQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7X3YQOFEeWaRLjPW0dPDQ" name="mConnectedClients" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#Integer"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7X3YwOFEeWaRLjPW0dPDQ" name="mStopEvent" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7X3ZAOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7X3ZgOFEeWaRLjPW0dPDQ" name="mCurGame" visibility="private" type="_q5HwMQOFEeWaRLjPW0dPDQ" association="_r7qLiwOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7X3ZwOFEeWaRLjPW0dPDQ" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gakwOFEeWaRLjPW0dPDQ" name="getInstance" specification="_r6DpEQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7galAOFEeWaRLjPW0dPDQ" type="_r6DpDQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>return Holder.INSTANCE;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7galQOFEeWaRLjPW0dPDQ" name="Server" specification="_r6DpEgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7galgOFEeWaRLjPW0dPDQ" type="_r6DpDQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mServers = new ArrayList&lt;Listener>();
     mGamesRunning = new ArrayList&lt;GameManager>();
     mConnectedClients = 0;

     ServerTCP tcp = new ServerTCP(Config.SERVER_TCP_LISTEN_PORT);
     ServerRMI rmi = new ServerRMI();

     mServers.add(tcp);
     mServers.add(rmi);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7galwOFEeWaRLjPW0dPDQ" name="addClient" specification="_r7BSEAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gamAOFEeWaRLjPW0dPDQ" name="conn" type="_r6AlcAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7gamQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// Invariant: mCurGame cannot be full here
     
     if(mConnectedClients >= Config.SERVER_MAX_CLIENTS) {
         conn.sendPacket(GameCommand.CMD_SC_FULL);
         return false;
     }
     
     mConnectedClients++;
 
     if(mCurGame == null) {
         mCurGame = new GameManager();
     }

     Client client = new Client(conn,mCurGame);

     if(!mCurGame.addPlayer(client)) {
         // No game may be full here
         client.handleDisconnect();
         return false;
     }

     synchronized(mGamesRunning) {
         if(mCurGame != null &amp;&amp; mCurGame.isFull()) {
             mGamesRunning.add(mCurGame);
             mCurGame = null;
         } 
     }
     
     return true;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gamgOFEeWaRLjPW0dPDQ" name="removeClient" specification="_r6DpFgOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>if(mConnectedClients > 0)
         mConnectedClients--;
     else
         throw new RuntimeException(&quot;0 Clients connected. What's Happening?&quot;);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gamwOFEeWaRLjPW0dPDQ" name="removeGame" specification="_r6DpGQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7ganAOFEeWaRLjPW0dPDQ" name="game" type="_q5HwMQOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>synchronized(mGamesRunning) {
         if(mCurGame != null &amp;&amp; game.equals(mCurGame))
             mCurGame = null;
         else
             mGamesRunning.remove(game);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7ganQOFEeWaRLjPW0dPDQ" name="runServer" specification="_r6DpGwOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>for(Listener server : mServers)
         new Thread(server).start();

     try {
         while(!mStopEvent) {
             if(mCurGame != null) {
                 if(mCurGame.isReady()) {
                     LOG.log(Level.INFO, &quot;Game ready! Stopping new incoming connections&quot;);
                     synchronized(mGamesRunning) {
                         mGamesRunning.add(mCurGame);
                     }
                     mCurGame = null;
                 }
             }
             synchronized(mGamesRunning) {
                 for (GameManager g : mGamesRunning)
                     g.update();
             }
             
             Thread.sleep(100);
         }
     } catch (InterruptedException e) {
         LOG.log(Level.FINER, e.toString(), e);
     }
     
     for(Listener server : mServers)
         server.tearDown();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gangOFEeWaRLjPW0dPDQ" name="getConnectedClients" specification="_r6DpHAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7ganwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return mConnectedClients;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaoAOFEeWaRLjPW0dPDQ" name="tearDown" specification="_r6DpIAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>mStopEvent = true;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaoQOFEeWaRLjPW0dPDQ" name="isDown" specification="_r6DpIwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaogOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mServers != null)
         for(Listener server : mServers)
             if(!server.isDown())
                 return false;
     return true;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaowOFEeWaRLjPW0dPDQ" name="isUp" specification="_r6DpJwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gapAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mServers == null)
         return false;
     
     for(Listener server : mServers)
         if(!server.isUp())
             return false;
     return true;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6DpEQOFEeWaRLjPW0dPDQ" name="getInstance" isStatic="true" method="_r7gakwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7ArAAOFEeWaRLjPW0dPDQ" type="_r6DpDQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpEgOFEeWaRLjPW0dPDQ" name="Server" visibility="private" method="_r7galQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6DpEwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpFAOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6DpFQOFEeWaRLjPW0dPDQ" type="_r6DpDQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpFgOFEeWaRLjPW0dPDQ" name="removeClient" method="_r7gamgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6DpFwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpGAOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbCwOFEeWaRLjPW0dPDQ">
                  <body>Decrement client counter</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpGQOFEeWaRLjPW0dPDQ" name="removeGame" method="_r7gamwOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbDAOFEeWaRLjPW0dPDQ">
                  <body>Removes a game from the games-to-update list 
     * 
     * @param game  Game you want to remove</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6DpGgOFEeWaRLjPW0dPDQ" name="game" type="_q5HwMQOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpGwOFEeWaRLjPW0dPDQ" name="runServer" method="_r7ganQOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbDQOFEeWaRLjPW0dPDQ">
                  <body>Start the server and put listeners online.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpHAOFEeWaRLjPW0dPDQ" name="getConnectedClients" method="_r7gangOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6DpHQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpHgOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbDgOFEeWaRLjPW0dPDQ">
                  <body>Get number of connected clients
     * 
     * @return Number of connected clients</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6DpHwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpIAOFEeWaRLjPW0dPDQ" name="tearDown" method="_r7gaoAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6DpIQOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpIgOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbDwOFEeWaRLjPW0dPDQ">
                  <body>Shut down the server</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpIwOFEeWaRLjPW0dPDQ" name="isDown" method="_r7gaoQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6DpJAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpJQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbEAOFEeWaRLjPW0dPDQ">
                  <body>Check if the server is shutted down
     * 
     * @return True if the server is correctly shutted down</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6DpJgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6DpJwOFEeWaRLjPW0dPDQ" name="isUp" method="_r7gaowOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6DpKAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpKQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbEQOFEeWaRLjPW0dPDQ">
                  <body>Check if the server is correctly started up
     * 
     * @return True if the server is up and running</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6DpKgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r7BSEAOFEeWaRLjPW0dPDQ" name="addClient" method="_r7galwOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r7BSEgOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r7BSEwOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbCgOFEeWaRLjPW0dPDQ">
                  <body>New client connected: call this method to add him in a new game
     * 
     * @param conn  The client connection
     * @return      True if the client is correctly added in a game</body>
                </ownedComment>
                <ownedParameter xmi:id="_r7BSEQOFEeWaRLjPW0dPDQ" name="conn" type="_r6AlcAOFEeWaRLjPW0dPDQ"/>
                <ownedParameter xmi:id="_r7BSFAOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_r6DpDgOFEeWaRLjPW0dPDQ" name="Holder" visibility="private">
                <eAnnotations xmi:id="_r6DpDwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6DpEAOFEeWaRLjPW0dPDQ" key="static"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbCQOFEeWaRLjPW0dPDQ">
                  <body>Singleton Holder</body>
                </ownedComment>
                <ownedAttribute xmi:id="_r7XQUQOFEeWaRLjPW0dPDQ" name="INSTANCE" visibility="private" isLeaf="true" isStatic="true" type="_r6DpDQOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLggOFEeWaRLjPW0dPDQ">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7XQUgOFEeWaRLjPW0dPDQ" value="new Server()"/>
                </ownedAttribute>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6NZwAOFEeWaRLjPW0dPDQ" name="ServerRMI">
              <ownedComment xmi:id="_r7gbEgOFEeWaRLjPW0dPDQ">
                <body>RMI Server Listener
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 16, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_r7YecQOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7qLjgOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7YecgOFEeWaRLjPW0dPDQ" value="Logger.getLogger(ServerRMI.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7YecwOFEeWaRLjPW0dPDQ" name="RMISERVER_STRING" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7YedAOFEeWaRLjPW0dPDQ" value="&quot;eftaiosRMI&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7YedQOFEeWaRLjPW0dPDQ" name="mMap" visibility="private" type="_q4zAEQOFEeWaRLjPW0dPDQ" association="_r7qLkQOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7ZFggOFEeWaRLjPW0dPDQ" name="mRandom" visibility="private" type="_q5MBoAOFEeWaRLjPW0dPDQ" association="_r7qLlAOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7ZFgwOFEeWaRLjPW0dPDQ" value="new Random()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7ZFhQOFEeWaRLjPW0dPDQ" name="mRegistry" visibility="private" type="_q434lQOFEeWaRLjPW0dPDQ" association="_r7qLlwOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7ZskQOFEeWaRLjPW0dPDQ" name="mIsUp" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7ZskgOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <interfaceRealization xmi:id="_r7B5JAOFEeWaRLjPW0dPDQ" client="_r6NZwAOFEeWaRLjPW0dPDQ" supplier="_r6Do_wOFEeWaRLjPW0dPDQ" contract="_r6Do_wOFEeWaRLjPW0dPDQ"/>
              <interfaceRealization xmi:id="_r6NZwQOFEeWaRLjPW0dPDQ" client="_r6NZwAOFEeWaRLjPW0dPDQ" supplier="_q43RgAOFEeWaRLjPW0dPDQ" contract="_q43RgAOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gapQOFEeWaRLjPW0dPDQ" name="ServerRMI" specification="_r6NZwgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gapgOFEeWaRLjPW0dPDQ" type="_r6NZwAOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mMap = new HashMap&lt;String, ClientConnRMI>();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gapwOFEeWaRLjPW0dPDQ" name="run" specification="_r6NZxgOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>try {
         try {
             mRegistry = LocateRegistry.getRegistry();
             mRegistry.list(); // This will throw an exception if the mRegistry does not exists
         } catch(Exception e) {
             LOG.log(Level.FINEST, e.toString(), e);
             mRegistry = LocateRegistry.createRegistry(1099);
         }
         
         ServerRMIMask stub = (ServerRMIMask) UnicastRemoteObject.exportObject(this, 0);
         mRegistry.bind(RMISERVER_STRING, stub);

         LOG.log(Level.INFO, &quot;RMI server is running&quot;);
         mIsUp = true;
     } catch (Exception e) {
         LOG.log(Level.SEVERE, &quot;RMI server is down: &quot; + e.toString(), e);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaqAOFEeWaRLjPW0dPDQ" name="registerAndGetId" specification="_r6NZygOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaqQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>StringBuilder id = new StringBuilder();
     for(int i=0;i&lt;32;i++)
         id.append((char)('0' + mRandom.nextInt(10)));
     
     String ids = id.toString();
     ClientConnRMI conn = new ClientConnRMI(this, ids);
     if(Server.getInstance().addClient(conn))
         mMap.put(ids, conn);
     else
         conn.disconnect();
     return ids;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaqgOFEeWaRLjPW0dPDQ" name="onRMICommand" specification="_r6NZzwOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gaqwOFEeWaRLjPW0dPDQ" name="clientId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r7garAOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>if(clientId == null || pkt == null)
         return;
     
     if(mMap.containsKey(clientId)) {
         ClientConnRMI conn = mMap.get(clientId);
         conn.onRMICommand(pkt);
     } else {
         LOG.log(Level.INFO, &quot;Received an unknown message&quot;);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7garQOFEeWaRLjPW0dPDQ" name="readCommands" specification="_r6NZ1QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gargOFEeWaRLjPW0dPDQ" name="clientId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r7garwOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r7gasAOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if(clientId == null)
         return new NetworkPacket[0];
     
     if(mMap.containsKey(clientId)) {
         ClientConnRMI conn = mMap.get(clientId);
         return conn.readCommands();
     } else {
         LOG.log(Level.INFO, &quot;Received an unknown message&quot;);
         return new NetworkPacket[0];
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gasQOFEeWaRLjPW0dPDQ" name="unregister" specification="_r6NZ3QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gasgOFEeWaRLjPW0dPDQ" name="clientId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>mMap.remove(clientId);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gaswOFEeWaRLjPW0dPDQ" name="tearDown" specification="_r6NZ3wOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>try {
         if(mRegistry != null) {
             UnicastRemoteObject.unexportObject(this, true);
             mRegistry.unbind(RMISERVER_STRING);
             mRegistry = null;
         }
         mIsUp = false;
     } catch (AccessException e) {
         LOG.log(Level.FINEST, e.toString());
     } catch (RemoteException e) {
         LOG.log(Level.FINEST, e.toString());
     } catch (NotBoundException e) {
         LOG.log(Level.FINEST, e.toString());
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gatAOFEeWaRLjPW0dPDQ" name="isDown" specification="_r6NZ5QOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gatQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mRegistry != null)
         return false;
     return true;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gatgOFEeWaRLjPW0dPDQ" name="isUp" specification="_r6NZ7AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gatwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return mIsUp;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6NZwgOFEeWaRLjPW0dPDQ" name="ServerRMI" method="_r7gapQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6NZwwOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6NZxAOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6NZxQOFEeWaRLjPW0dPDQ" type="_r6NZwAOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZxgOFEeWaRLjPW0dPDQ" name="run" method="_r7gapwOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_r6NZygOFEeWaRLjPW0dPDQ" name="registerAndGetId" method="_r7gaqAOFEeWaRLjPW0dPDQ" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6NZywOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZzwOFEeWaRLjPW0dPDQ" name="onRMICommand" method="_r7gaqgOFEeWaRLjPW0dPDQ" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6NZ0AOFEeWaRLjPW0dPDQ" name="clientId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r6NZ0QOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ1QOFEeWaRLjPW0dPDQ" name="readCommands" method="_r7garQOFEeWaRLjPW0dPDQ" raisedException="_q434kQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6NZ1gOFEeWaRLjPW0dPDQ" name="clientId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r6NZ1wOFEeWaRLjPW0dPDQ" type="_q4kWkgOFEeWaRLjPW0dPDQ" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_r6NZ2AOFEeWaRLjPW0dPDQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ3QOFEeWaRLjPW0dPDQ" name="unregister" method="_r7gasQOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbEwOFEeWaRLjPW0dPDQ">
                  <body>Unregister a clientId
     * 
     * @param clientId  Your unique ID obtained by calling registerAndGetId()</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6NZ3gOFEeWaRLjPW0dPDQ" name="clientId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ3wOFEeWaRLjPW0dPDQ" name="tearDown" method="_r7gaswOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6NZ4AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6NZ4QOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ5QOFEeWaRLjPW0dPDQ" name="isDown" method="_r7gatAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6NZ5gOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6NZ5wOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6NZ6AOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ7AOFEeWaRLjPW0dPDQ" name="isUp" method="_r7gatgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6NZ7QOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_r6NZ8QOFEeWaRLjPW0dPDQ" name="ServerTCP" visibility="package">
              <ownedComment xmi:id="_r7gbFAOFEeWaRLjPW0dPDQ">
                <body>TCP Server Listener
@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 8, 2015</body>
              </ownedComment>
              <ownedAttribute xmi:id="_r7ZslAOFEeWaRLjPW0dPDQ" name="LOG" visibility="private" isLeaf="true" isStatic="true" type="_q4nZ4wOFEeWaRLjPW0dPDQ" isReadOnly="true" association="_r7z8QQOFEeWaRLjPW0dPDQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7aToAOFEeWaRLjPW0dPDQ" value="Logger.getLogger(ServerTCP.class.getName())"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7aToQOFEeWaRLjPW0dPDQ" name="mCachedPool" visibility="private" type="_r7DHQgOFEeWaRLjPW0dPDQ" association="_r7z8RAOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7aTowOFEeWaRLjPW0dPDQ" name="mServer" visibility="private" type="_r7DHQAOFEeWaRLjPW0dPDQ" association="_r7z8RwOFEeWaRLjPW0dPDQ"/>
              <ownedAttribute xmi:id="_r7aTpQOFEeWaRLjPW0dPDQ" name="mStopEvent" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_r7aTpgOFEeWaRLjPW0dPDQ" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_r7a6sAOFEeWaRLjPW0dPDQ" name="mPort" visibility="private" isLeaf="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <interfaceRealization xmi:id="_r7DuUQOFEeWaRLjPW0dPDQ" client="_r6NZ8QOFEeWaRLjPW0dPDQ" supplier="_r6Do_wOFEeWaRLjPW0dPDQ" contract="_r6Do_wOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gauAOFEeWaRLjPW0dPDQ" name="ServerTCP" specification="_r6NZ8gOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gauQOFEeWaRLjPW0dPDQ" name="port">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r7gaugOFEeWaRLjPW0dPDQ" type="_r6NZ8QOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>mPort = port;
     mCachedPool = Executors.newCachedThreadPool();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gauwOFEeWaRLjPW0dPDQ" name="acceptConnection" specification="_r6NZ9wOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>try {
         Socket s = mServer.accept();
         if(s != null &amp;&amp; !mStopEvent) {
             ClientConn c = new ClientConnTCP(s);

             if(Server.getInstance().addClient(c))
                 mCachedPool.submit(c);
             else 
                 c.disconnect();
         }
     } catch(Exception e){
         LOG.log(Level.FINEST, &quot;TCP Connection closed: &quot; + e.toString(), e);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gavAOFEeWaRLjPW0dPDQ" name="run" specification="_r6NZ-AOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>try {
         mServer = new ServerSocket(mPort);
         LOG.log(Level.INFO, &quot;TCP Server is running&quot;);
         while (!mStopEvent) {
             acceptConnection();
         }
         mServer.close();
     } catch(IOException e){
         LOG.log(Level.SEVERE, &quot;TCP Server is down: &quot; + e.toString(), e);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gavQOFEeWaRLjPW0dPDQ" name="tearDown" specification="_r6NZ-QOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>mStopEvent = true;
     try {
         if(mServer != null)
             mServer.close();
     } catch (IOException e) {
         LOG.log(Level.FINEST, e.toString());
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gavgOFEeWaRLjPW0dPDQ" name="isDown" specification="_r6NZ_wOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gavwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mServer == null)
         return true;
     if(mServer.isClosed())
         return true;
     return false;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_r7gawAOFEeWaRLjPW0dPDQ" name="isUp" specification="_r6NaBgOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r7gawQOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(mServer == null)
         return false;
     if(mServer.isBound() &amp;&amp; !mServer.isClosed())
         return true;
     return false;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_r6NZ8gOFEeWaRLjPW0dPDQ" name="ServerTCP" method="_r7gauAOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6NZ9AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6NZ9QOFEeWaRLjPW0dPDQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_r7gbFQOFEeWaRLjPW0dPDQ">
                  <body>The constructor
     * 
     * @param port Listening port</body>
                </ownedComment>
                <ownedParameter xmi:id="_r6NZ8wOFEeWaRLjPW0dPDQ" name="port">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_r6NZ9gOFEeWaRLjPW0dPDQ" type="_r6NZ8QOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ9wOFEeWaRLjPW0dPDQ" name="acceptConnection" visibility="private" method="_r7gauwOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_r6NZ-AOFEeWaRLjPW0dPDQ" name="run" method="_r7gavAOFEeWaRLjPW0dPDQ">
                <ownedComment xmi:id="_r7gbFgOFEeWaRLjPW0dPDQ">
                  <body>Run the listener</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ-QOFEeWaRLjPW0dPDQ" name="tearDown" method="_r7gavQOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6NZ-gOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6NZ-wOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NZ_wOFEeWaRLjPW0dPDQ" name="isDown" method="_r7gavgOFEeWaRLjPW0dPDQ">
                <eAnnotations xmi:id="_r6NaAAOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_r6NaAQOFEeWaRLjPW0dPDQ" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_r6NaAgOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_r6NaBgOFEeWaRLjPW0dPDQ" name="isUp" method="_r7gawAOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_r6NaBwOFEeWaRLjPW0dPDQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLWAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLWQOFEeWaRLjPW0dPDQ _r7RwwAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLWQOFEeWaRLjPW0dPDQ" name="" type="_q5HJJQOFEeWaRLjPW0dPDQ" association="_r7qLWAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLWwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLXAOFEeWaRLjPW0dPDQ _r7RwwgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLXAOFEeWaRLjPW0dPDQ" name="" type="_q5HJJQOFEeWaRLjPW0dPDQ" association="_r7qLWwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLXgOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLXwOFEeWaRLjPW0dPDQ _r7RwxAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLXwOFEeWaRLjPW0dPDQ" name="" type="_q5HJJQOFEeWaRLjPW0dPDQ" association="_r7qLXgOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLYQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLYgOFEeWaRLjPW0dPDQ _r7S-4AOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLYgOFEeWaRLjPW0dPDQ" name="" type="_r6AlcAOFEeWaRLjPW0dPDQ" association="_r7qLYQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLZAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLZQOFEeWaRLjPW0dPDQ _r7Tl8QOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLZQOFEeWaRLjPW0dPDQ" name="" type="_r6CaoAOFEeWaRLjPW0dPDQ" association="_r7qLZAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLZwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLaAOFEeWaRLjPW0dPDQ _r7UNAgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLaAOFEeWaRLjPW0dPDQ" name="" type="_r6CaoAOFEeWaRLjPW0dPDQ" association="_r7qLZwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLagOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLawOFEeWaRLjPW0dPDQ _r7U0EAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLawOFEeWaRLjPW0dPDQ" name="" type="_r6Do0gOFEeWaRLjPW0dPDQ" association="_r7qLagOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLbQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLbgOFEeWaRLjPW0dPDQ _r7U0EgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLbgOFEeWaRLjPW0dPDQ" name="" type="_r6Do0gOFEeWaRLjPW0dPDQ" association="_r7qLbQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLcAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLcQOFEeWaRLjPW0dPDQ _r7U0FAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLcQOFEeWaRLjPW0dPDQ" name="" type="_r6Do0gOFEeWaRLjPW0dPDQ" association="_r7qLcAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLcwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLdAOFEeWaRLjPW0dPDQ _r7U0FgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLdAOFEeWaRLjPW0dPDQ" name="" type="_r6Do0gOFEeWaRLjPW0dPDQ" association="_r7qLcwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLdgOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLdwOFEeWaRLjPW0dPDQ _r7VbIQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLdwOFEeWaRLjPW0dPDQ" name="" type="_q5HwMQOFEeWaRLjPW0dPDQ" association="_r7qLdgOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLeQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLegOFEeWaRLjPW0dPDQ _r7WCMQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLegOFEeWaRLjPW0dPDQ" name="" type="_q5HwMQOFEeWaRLjPW0dPDQ" association="_r7qLeQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLfAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLfQOFEeWaRLjPW0dPDQ _r7WpQQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLfQOFEeWaRLjPW0dPDQ" name="" type="_q5HwMQOFEeWaRLjPW0dPDQ" association="_r7qLfAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLfwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLgAOFEeWaRLjPW0dPDQ _r7WpRAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLgAOFEeWaRLjPW0dPDQ" name="" type="_r6DpDQOFEeWaRLjPW0dPDQ" association="_r7qLfwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLggOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLgwOFEeWaRLjPW0dPDQ _r7XQUQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLgwOFEeWaRLjPW0dPDQ" name="" type="_r6DpDgOFEeWaRLjPW0dPDQ" association="_r7qLggOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLhQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLhgOFEeWaRLjPW0dPDQ _r7XQUwOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLhgOFEeWaRLjPW0dPDQ" name="" type="_r6DpDQOFEeWaRLjPW0dPDQ" association="_r7qLhQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLiAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLiQOFEeWaRLjPW0dPDQ _r7XQVgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLiQOFEeWaRLjPW0dPDQ" name="" type="_r6DpDQOFEeWaRLjPW0dPDQ" association="_r7qLiAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLiwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLjAOFEeWaRLjPW0dPDQ _r7X3ZgOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLjAOFEeWaRLjPW0dPDQ" name="" type="_r6DpDQOFEeWaRLjPW0dPDQ" association="_r7qLiwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLjgOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLjwOFEeWaRLjPW0dPDQ _r7YecQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLjwOFEeWaRLjPW0dPDQ" name="" type="_r6NZwAOFEeWaRLjPW0dPDQ" association="_r7qLjgOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLkQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLkgOFEeWaRLjPW0dPDQ _r7YedQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLkgOFEeWaRLjPW0dPDQ" name="" type="_r6NZwAOFEeWaRLjPW0dPDQ" association="_r7qLkQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLlAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLlQOFEeWaRLjPW0dPDQ _r7ZFggOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLlQOFEeWaRLjPW0dPDQ" name="" type="_r6NZwAOFEeWaRLjPW0dPDQ" association="_r7qLlAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7qLlwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7qLmAOFEeWaRLjPW0dPDQ _r7ZFhQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7qLmAOFEeWaRLjPW0dPDQ" name="" type="_r6NZwAOFEeWaRLjPW0dPDQ" association="_r7qLlwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7z8QQOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7z8QgOFEeWaRLjPW0dPDQ _r7ZslAOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7z8QgOFEeWaRLjPW0dPDQ" name="" type="_r6NZ8QOFEeWaRLjPW0dPDQ" association="_r7z8QQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7z8RAOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7z8RQOFEeWaRLjPW0dPDQ _r7aToQOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7z8RQOFEeWaRLjPW0dPDQ" name="" type="_r6NZ8QOFEeWaRLjPW0dPDQ" association="_r7z8RAOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_r7z8RwOFEeWaRLjPW0dPDQ" name="" memberEnd="_r7z8SAOFEeWaRLjPW0dPDQ _r7aTowOFEeWaRLjPW0dPDQ">
              <ownedEnd xmi:id="_r7z8SAOFEeWaRLjPW0dPDQ" name="" type="_r6NZ8QOFEeWaRLjPW0dPDQ" association="_r7z8RwOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_sXSXUAOFEeWaRLjPW0dPDQ" name="testclient">
            <packagedElement xmi:type="uml:Package" xmi:id="_sXSXUwOFEeWaRLjPW0dPDQ" name="testgui">
              <packagedElement xmi:type="uml:Class" xmi:id="_sXbhQAOFEeWaRLjPW0dPDQ" name="TestHexagonFactory">
                <eAnnotations xmi:id="_sXbhQQOFEeWaRLjPW0dPDQ" source="http://ns.yatta.de/umllab">
                  <contents xmi:type="ecore:EAnnotation" xmi:id="_sXbhQgOFEeWaRLjPW0dPDQ" source="codegen">
                    <details xmi:id="_sXbhQwOFEeWaRLjPW0dPDQ" key="codegenDirectory" value="/ingsw/src/test/java"/>
                  </contents>
                </eAnnotations>
                <ownedComment xmi:id="_sX1w-gOFEeWaRLjPW0dPDQ">
                  <body>Hexagon factory test&#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)</body>
                </ownedComment>
              </packagedElement>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_sXSXVAOFEeWaRLjPW0dPDQ" name="testgame">
            <packagedElement xmi:type="uml:Package" xmi:id="_sXSXVQOFEeWaRLjPW0dPDQ" name="sector">
              <packagedElement xmi:type="uml:Class" xmi:id="_sXbhYAOFEeWaRLjPW0dPDQ" name="TestSectors">
                <eAnnotations xmi:id="_sXbhYQOFEeWaRLjPW0dPDQ" source="http://ns.yatta.de/umllab">
                  <contents xmi:type="ecore:EAnnotation" xmi:id="_sXbhYgOFEeWaRLjPW0dPDQ" source="codegen">
                    <details xmi:id="_sXbhYwOFEeWaRLjPW0dPDQ" key="codegenDirectory" value="/ingsw/src/test/java"/>
                  </contents>
                </eAnnotations>
                <ownedComment xmi:id="_sX2YBQOFEeWaRLjPW0dPDQ">
                  <body>Test sectors&#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)</body>
                </ownedComment>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J5QOFEeWaRLjPW0dPDQ" name="testGetSectorFor" specification="_sXbhZAOFEeWaRLjPW0dPDQ">
                  <language>java</language>
                  <body>SectorBuilder.getSectorFor(-1);&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_sXbhZAOFEeWaRLjPW0dPDQ" name="testGetSectorFor" method="_sX1J5QOFEeWaRLjPW0dPDQ"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_sXbhRAOFEeWaRLjPW0dPDQ" name="TestGameMap">
              <eAnnotations xmi:id="_sXbhRQOFEeWaRLjPW0dPDQ" source="http://ns.yatta.de/umllab">
                <contents xmi:type="ecore:EAnnotation" xmi:id="_sXbhRgOFEeWaRLjPW0dPDQ" source="codegen">
                  <details xmi:id="_sXbhRwOFEeWaRLjPW0dPDQ" key="codegenDirectory" value="/ingsw/src/test/java"/>
                </contents>
              </eAnnotations>
              <ownedComment xmi:id="_sX2YAAOFEeWaRLjPW0dPDQ">
                <body>Test all possible errors in loading files &#xD;
@author Michele Albanese (michele.albanese@mail.polimi.it)</body>
              </ownedComment>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J4AOFEeWaRLjPW0dPDQ" name="testCreateFromNonExistentFile" specification="_sXbhSAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>GameMap.createFromMapFile( new File(&quot;testmaps/allyourbasearebelongtous.txt&quot;) );&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J4QOFEeWaRLjPW0dPDQ" name="testCreateFromFileCharacterNotValid" specification="_sXbhTQOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>GameMap.createFromMapFile( new File(&quot;testmaps/invalid_character.txt&quot;) );&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J4gOFEeWaRLjPW0dPDQ" name="testCreateFromFileTooManyLines" specification="_sXbhUgOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>GameMap.createFromMapFile( new File(&quot;testmaps/too_many_lines.txt&quot;) );&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J4wOFEeWaRLjPW0dPDQ" name="testCreateFromFileMissingSectors" specification="_sXbhVwOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>GameMap.createFromMapFile( new File(&quot;testmaps/missing_sectors.txt&quot;) );&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J5AOFEeWaRLjPW0dPDQ" name="TestGetSectorAt" specification="_sXbhXAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>GameMap g = GameMap.createFromMapFile( new File(&quot;maps/fermi.txt&quot;) );&#xD;
     &#xD;
     assertTrue(&quot;First cell in 'Fermi' map is 0.&quot;, g.getSectorAt(0, 0).getId() == 0 );&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_sXbhSAOFEeWaRLjPW0dPDQ" name="testCreateFromNonExistentFile" method="_sX1J4AOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhTQOFEeWaRLjPW0dPDQ" name="testCreateFromFileCharacterNotValid" method="_sX1J4QOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhUgOFEeWaRLjPW0dPDQ" name="testCreateFromFileTooManyLines" method="_sX1J4gOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhVwOFEeWaRLjPW0dPDQ" name="testCreateFromFileMissingSectors" method="_sX1J4wOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhXAOFEeWaRLjPW0dPDQ" name="TestGetSectorAt" method="_sX1J5AOFEeWaRLjPW0dPDQ" raisedException="_q4k9oQOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_sXSXVgOFEeWaRLjPW0dPDQ" name="testserver">
            <packagedElement xmi:type="uml:Class" xmi:id="_sXbhaQOFEeWaRLjPW0dPDQ" name="ClientConnTest">
              <eAnnotations xmi:id="_sXbhagOFEeWaRLjPW0dPDQ" source="http://ns.yatta.de/umllab">
                <contents xmi:type="ecore:EAnnotation" xmi:id="_sXbhawOFEeWaRLjPW0dPDQ" source="codegen">
                  <details xmi:id="_sXbhbAOFEeWaRLjPW0dPDQ" key="codegenDirectory" value="/ingsw/src/test/java"/>
                </contents>
              </eAnnotations>
              <ownedComment xmi:id="_sX2YBwOFEeWaRLjPW0dPDQ">
                <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 18, 2015</body>
              </ownedComment>
              <generalization xmi:id="_sXbhfwOFEeWaRLjPW0dPDQ" general="_r6AlcAOFEeWaRLjPW0dPDQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J5gOFEeWaRLjPW0dPDQ" name="run" specification="_sXbhbQOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>mIsConnected = true;
     return;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J5wOFEeWaRLjPW0dPDQ" name="sendPacket" specification="_sXbhcQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_sX1J6AOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>return;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J6QOFEeWaRLjPW0dPDQ" name="disconnect" specification="_sXbhdgOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>mIsConnected = false;
     return;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1J6gOFEeWaRLjPW0dPDQ" name="emulateDisconnect" specification="_sXbhegOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>if(mClient != null)
         mClient.handleDisconnect();
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w8AOFEeWaRLjPW0dPDQ" name="emulateReadPacket" specification="_sXbhewOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_sX1w8QOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
                <language>java</language>
                <body>mClient.handlePacket(pkt);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w8gOFEeWaRLjPW0dPDQ" name="exposeClient" specification="_sXbhfQOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_sX1w8wOFEeWaRLjPW0dPDQ" type="_q5HJJQOFEeWaRLjPW0dPDQ" direction="return"/>
                <language>java</language>
                <body>return mClient;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_sXbhbQOFEeWaRLjPW0dPDQ" name="run" method="_sX1J5gOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhcQOFEeWaRLjPW0dPDQ" name="sendPacket" method="_sX1J5wOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_sXbhcgOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_sXbhdgOFEeWaRLjPW0dPDQ" name="disconnect" method="_sX1J6QOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhegOFEeWaRLjPW0dPDQ" name="emulateDisconnect" method="_sX1J6gOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhewOFEeWaRLjPW0dPDQ" name="emulateReadPacket" method="_sX1w8AOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_sXbhfAOFEeWaRLjPW0dPDQ" name="pkt" type="_q4kWkgOFEeWaRLjPW0dPDQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_sXbhfQOFEeWaRLjPW0dPDQ" name="exposeClient" method="_sX1w8gOFEeWaRLjPW0dPDQ">
                <ownedParameter xmi:id="_sXbhfgOFEeWaRLjPW0dPDQ" type="_q5HJJQOFEeWaRLjPW0dPDQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_sXbhgAOFEeWaRLjPW0dPDQ" name="TestServer">
              <eAnnotations xmi:id="_sXbhgQOFEeWaRLjPW0dPDQ" source="http://ns.yatta.de/umllab">
                <contents xmi:type="ecore:EAnnotation" xmi:id="_sXbhggOFEeWaRLjPW0dPDQ" source="codegen">
                  <details xmi:id="_sXbhgwOFEeWaRLjPW0dPDQ" key="codegenDirectory" value="/ingsw/src/test/java"/>
                </contents>
              </eAnnotations>
              <ownedComment xmi:id="_sX2YCAOFEeWaRLjPW0dPDQ">
                <body>@author Alain Carlucci (alain.carlucci@mail.polimi.it)
@since  May 18, 2015</body>
              </ownedComment>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w9AOFEeWaRLjPW0dPDQ" name="setUp" specification="_sXbhhAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>new Thread(new Runnable() { public void run() { Server.getInstance().runServer(); } }).start();
     while(!Server.getInstance().isUp()) {
         Thread.sleep(10);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w9QOFEeWaRLjPW0dPDQ" name="testGame" specification="_sXbhiAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>ClientConnTest[] conns = new ClientConnTest[Config.GAME_MAX_PLAYERS];
     
     for(int i=0;i&lt;Config.GAME_MAX_PLAYERS;i++) {
         conns[i] = new ClientConnTest();
         conns[i].run();
         assertTrue(Server.getInstance().addClient(conns[i]));
         conns[i].emulateReadPacket(new NetworkPacket(GameCommand.CMD_CS_USERNAME, &quot;test_&quot; + i));
         assertTrue(conns[i].exposeClient().hasUsername());
     }
     try {
         Thread.sleep(500);
     } catch( InterruptedException e) { }
     for(ClientConnTest i : conns) {
         assertTrue(i.exposeClient().hasUsername());
         i.emulateReadPacket(new NetworkPacket(GameCommand.CMD_PING));
     }

     for(ClientConnTest i : conns)
         i.emulateDisconnect();
     
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w9gOFEeWaRLjPW0dPDQ" name="testLoad" specification="_sXbhjAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>TCPConnection[] conns = new TCPConnection[Config.SERVER_MAX_CLIENTS];

     int clientsBefore = Server.getInstance().getConnectedClients();
     
     assertEquals(clientsBefore, 0);
     
     try {
         for(int i = 0; i&lt;conns.length;i++) {
             conns[i] = new TCPConnection();
             conns[i].setHost(&quot;localhost&quot;);
             try {
                 conns[i].connect();
                 System.out.println(&quot;Connecting [&quot; + i + &quot;]&quot;);
                 double maxSecs = 3;
                 
                 while(maxSecs > 0 &amp;&amp; Server.getInstance().getConnectedClients() != i + 1 ) {
                     Thread.sleep(50);
                     maxSecs -= 0.050;
                 }
                 assertEquals(Server.getInstance().getConnectedClients(), i + 1);
                 Thread.sleep(500);
             } catch (IOException e) {
                 fail(&quot;Cannot connect to server: &quot; + e.toString());
             }
         }
     
     
         for(int i = 0;i&lt;conns.length;i++) {
             assertTrue(conns[i].isOnline());
             conns[i].disconnect();
             double maxSecs = 3;
             
             while(maxSecs > 0 &amp;&amp; Server.getInstance().getConnectedClients() != Config.SERVER_MAX_CLIENTS - i) {
                 Thread.sleep(50);
                 maxSecs -= 0.050;
             }
             System.out.println(&quot;Disconnecting [&quot; + i + &quot;]&quot;);
             assertEquals(Server.getInstance().getConnectedClients(),Config.SERVER_MAX_CLIENTS - i);
             Thread.sleep(500);
         }
     
     } catch( InterruptedException e) { }
     assertEquals(Server.getInstance().getConnectedClients(), 0);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w9wOFEeWaRLjPW0dPDQ" name="testClient" specification="_sXbhkAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>ClientConnTest conn = new ClientConnTest();
     ClientConnTest conn2 = new ClientConnTest(); 
     
     conn.run();
     conn2.run();
     
     int clientsBefore = Server.getInstance().getConnectedClients();
     assertTrue(Server.getInstance().addClient(conn));
     assertTrue(Server.getInstance().addClient(conn2));
     
     // Emulate and invalid packet
     conn.emulateReadPacket(new NetworkPacket(GameCommand.CMD_PING));
     
     // Try to change username with an empty one
     conn.emulateReadPacket(new NetworkPacket(GameCommand.CMD_CS_USERNAME));
     assertFalse(conn.exposeClient().hasUsername());
     
     // Try a good username
     conn.emulateReadPacket(new NetworkPacket(GameCommand.CMD_CS_USERNAME, &quot;test&quot;));
     assertTrue(conn.exposeClient().hasUsername());
     
     // Try an already used username
     conn2.emulateReadPacket(new NetworkPacket(GameCommand.CMD_CS_USERNAME, &quot;test&quot;));
     assertFalse(conn2.exposeClient().hasUsername());
     
     // Disconnect clients
     conn.emulateDisconnect();
     conn2.emulateDisconnect();
     
     assertEquals(Server.getInstance().getConnectedClients(), clientsBefore);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w-AOFEeWaRLjPW0dPDQ" name="testTCP" specification="_sXbhlAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>TCPConnection conn = new TCPConnection();
     conn.setHost(&quot;localhost&quot;);
     assertEquals(conn.isOnline(), false);
     try {
         conn.connect();
     } catch (IOException e) {
         fail(&quot;Cannot connect to server: &quot; + e.toString());
     }
     assertEquals(conn.isOnline(), true);
     conn.disconnect();
     assertEquals(conn.isOnline(), false);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_sX1w-QOFEeWaRLjPW0dPDQ" name="tearDown" specification="_sXbhmAOFEeWaRLjPW0dPDQ">
                <language>java</language>
                <body>System.out.println(&quot;------------------Tearing down------------------&quot;);
     Server.getInstance().tearDown();
     while(!Server.getInstance().isDown()) {
         Thread.sleep(10);
     }
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_sXbhhAOFEeWaRLjPW0dPDQ" name="setUp" isStatic="true" method="_sX1w9AOFEeWaRLjPW0dPDQ" raisedException="_sX0i0AOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhiAOFEeWaRLjPW0dPDQ" name="testGame" method="_sX1w9QOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhjAOFEeWaRLjPW0dPDQ" name="testLoad" method="_sX1w9gOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhkAOFEeWaRLjPW0dPDQ" name="testClient" method="_sX1w9wOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhlAOFEeWaRLjPW0dPDQ" name="testTCP" method="_sX1w-AOFEeWaRLjPW0dPDQ"/>
              <ownedOperation xmi:id="_sXbhmAOFEeWaRLjPW0dPDQ" name="tearDown" isStatic="true" method="_sX1w-QOFEeWaRLjPW0dPDQ" raisedException="_sX0i0AOFEeWaRLjPW0dPDQ"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_qzBvQQOFEeWaRLjPW0dPDQ" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_qzBvQgOFEeWaRLjPW0dPDQ" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_q4k9oQOFEeWaRLjPW0dPDQ" name="IOException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4ooAAOFEeWaRLjPW0dPDQ" name="BufferedReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4ooAgOFEeWaRLjPW0dPDQ" name="InputStreamReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q47i8AOFEeWaRLjPW0dPDQ" name="ObjectInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q48KAQOFEeWaRLjPW0dPDQ" name="ObjectOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q5BCggOFEeWaRLjPW0dPDQ" name="File"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_q5BpkQOFEeWaRLjPW0dPDQ" name="Serializable"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_qzBvQwOFEeWaRLjPW0dPDQ" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_qzBvRAOFEeWaRLjPW0dPDQ" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="_q4k9pQOFEeWaRLjPW0dPDQ" name="LinkedBlockingQueue"/>
          <packagedElement xmi:type="uml:Enumeration" xmi:id="_q4lksQOFEeWaRLjPW0dPDQ" name="TimeUnit"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_r7DHQgOFEeWaRLjPW0dPDQ" name="ExecutorService"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_r7DHRAOFEeWaRLjPW0dPDQ" name="Executors"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_qzFZoAOFEeWaRLjPW0dPDQ" name="logging">
          <packagedElement xmi:type="uml:Class" xmi:id="_q4nZ4QOFEeWaRLjPW0dPDQ" name="Level"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_q4nZ4wOFEeWaRLjPW0dPDQ" name="Logger"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_q4k9owOFEeWaRLjPW0dPDQ" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4my0AOFEeWaRLjPW0dPDQ" name="TreeMap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4zAEQOFEeWaRLjPW0dPDQ" name="HashMap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q42qcAOFEeWaRLjPW0dPDQ" name="Collections"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q5CQoQOFEeWaRLjPW0dPDQ" name="ArrayList"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_q5CQowOFEeWaRLjPW0dPDQ" name="Iterator"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_q5C3sQOFEeWaRLjPW0dPDQ" name="List"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q5HwMwOFEeWaRLjPW0dPDQ" name="LinkedList"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_q5IXQAOFEeWaRLjPW0dPDQ" name="Queue"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q5MBoAOFEeWaRLjPW0dPDQ" name="Random"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_qzJEAQOFEeWaRLjPW0dPDQ" name="awt">
        <packagedElement xmi:type="uml:Package" xmi:id="_qzMuYAOFEeWaRLjPW0dPDQ" name="geom">
          <packagedElement xmi:type="uml:Class" xmi:id="_q4sSYAOFEeWaRLjPW0dPDQ" name="Path2D"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_q4sSYgOFEeWaRLjPW0dPDQ" name="Point2D"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_q4v8wQOFEeWaRLjPW0dPDQ" name="Rectangle2D"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_sXxfgQOFEeWaRLjPW0dPDQ" name="PathIterator"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_qzQ_0AOFEeWaRLjPW0dPDQ" name="font">
          <packagedElement xmi:type="uml:Class" xmi:id="_q4vVtAOFEeWaRLjPW0dPDQ" name="FontRenderContext"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_qzS1AQOFEeWaRLjPW0dPDQ" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="_q4yZAAOFEeWaRLjPW0dPDQ" name="MouseEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_q4yZAgOFEeWaRLjPW0dPDQ" name="MouseListener"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_q4yZBAOFEeWaRLjPW0dPDQ" name="MouseMotionListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4p2IAOFEeWaRLjPW0dPDQ" name="Dimension"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4uHlAOFEeWaRLjPW0dPDQ" name="Color"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4uuoQOFEeWaRLjPW0dPDQ" name="Font"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4uuowOFEeWaRLjPW0dPDQ" name="Graphics"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4vVsAOFEeWaRLjPW0dPDQ" name="Graphics2D"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4vVsgOFEeWaRLjPW0dPDQ" name="RenderingHints"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4xx8wOFEeWaRLjPW0dPDQ" name="Point"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_qzYUkAOFEeWaRLjPW0dPDQ" name="rmi">
        <packagedElement xmi:type="uml:Package" xmi:id="_qzYUkQOFEeWaRLjPW0dPDQ" name="registry">
          <packagedElement xmi:type="uml:Class" xmi:id="_q434kwOFEeWaRLjPW0dPDQ" name="LocateRegistry"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_q434lQOFEeWaRLjPW0dPDQ" name="Registry"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_q43RggOFEeWaRLjPW0dPDQ" name="NotBoundException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q434kQOFEeWaRLjPW0dPDQ" name="RemoteException"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_r5bWoAOFEeWaRLjPW0dPDQ" name="server">
          <packagedElement xmi:type="uml:Class" xmi:id="_r7B5IgOFEeWaRLjPW0dPDQ" name="UnicastRemoteObject"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_r69AoAOFEeWaRLjPW0dPDQ" name="Remote"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_r7B5IAOFEeWaRLjPW0dPDQ" name="AccessException"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_qzcmAAOFEeWaRLjPW0dPDQ" name="net">
        <packagedElement xmi:type="uml:Class" xmi:id="_q48KAwOFEeWaRLjPW0dPDQ" name="Socket"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_r7DHQAOFEeWaRLjPW0dPDQ" name="ServerSocket"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_sXytoAOFEeWaRLjPW0dPDQ" name="UnknownHostException"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_qzj6wQOFEeWaRLjPW0dPDQ" name="nio">
        <packagedElement xmi:type="uml:Package" xmi:id="_qzj6wgOFEeWaRLjPW0dPDQ" name="charset">
          <packagedElement xmi:type="uml:Class" xmi:id="_q5BpkwOFEeWaRLjPW0dPDQ" name="StandardCharsets"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_qzkh0AOFEeWaRLjPW0dPDQ" name="file">
          <packagedElement xmi:type="uml:Class" xmi:id="_q5BplQOFEeWaRLjPW0dPDQ" name="Files"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_q5bSMwOFEeWaRLjPW0dPDQ" name="lang">
        <packagedElement xmi:type="uml:Interface" xmi:id="_q5bSNAOFEeWaRLjPW0dPDQ" name="Runnable"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q5gKsAOFEeWaRLjPW0dPDQ" name="RuntimeException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_sX0i0AOFEeWaRLjPW0dPDQ" name="Exception"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_qzJEAgOFEeWaRLjPW0dPDQ" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_qzJEAwOFEeWaRLjPW0dPDQ" name="swing">
        <packagedElement xmi:type="uml:Class" xmi:id="_q4p2IgOFEeWaRLjPW0dPDQ" name="JFrame"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4rEQAOFEeWaRLjPW0dPDQ" name="JOptionPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4rrUQOFEeWaRLjPW0dPDQ" name="SwingUtilities"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_q4v8wwOFEeWaRLjPW0dPDQ" name="JPanel"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_qzN8gQOFEeWaRLjPW0dPDQ" name="Point2D">
      <packagedElement xmi:type="uml:Class" xmi:id="_q4s5cQOFEeWaRLjPW0dPDQ" name="Double"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_qzOjkAOFEeWaRLjPW0dPDQ" name="Path2D">
      <packagedElement xmi:type="uml:Class" xmi:id="_q4s5cwOFEeWaRLjPW0dPDQ" name="Double"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_sXSXUQOFEeWaRLjPW0dPDQ" name="org">
      <packagedElement xmi:type="uml:Package" xmi:id="_sXSXUgOFEeWaRLjPW0dPDQ" name="junit">
        <packagedElement xmi:type="uml:Class" xmi:id="_sXw4cAOFEeWaRLjPW0dPDQ" name="Assert"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_sXyGkQOFEeWaRLjPW0dPDQ" name="Test"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_sXytogOFEeWaRLjPW0dPDQ" name="After"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_sXytpAOFEeWaRLjPW0dPDQ" name="AfterClass"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_sXzUsQOFEeWaRLjPW0dPDQ" name="Before"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_sXzUswOFEeWaRLjPW0dPDQ" name="BeforeClass"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_sXzUtQOFEeWaRLjPW0dPDQ" name="Ignore"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_qkBp8wOFEeWaRLjPW0dPDQ">
      <eAnnotations xmi:id="_qkBp9AOFEeWaRLjPW0dPDQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_qkBp9QOFEeWaRLjPW0dPDQ" base_Package="_qfRs0AOFEeWaRLjPW0dPDQ">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0Ll0AOFEeWaRLjPW0dPDQ" base_Element="_q0K-wQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0Ll0QOFEeWaRLjPW0dPDQ" base_Element="_q0K-wQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0Ll0gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0NbAwOFEeWaRLjPW0dPDQ" base_Element="_q0NbAAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0RsdQOFEeWaRLjPW0dPDQ" base_Element="_q0RsdAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0STgAOFEeWaRLjPW0dPDQ" base_Element="_q0RsdAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0STgQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0SThQOFEeWaRLjPW0dPDQ" base_Element="_q0STggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q0S6kAOFEeWaRLjPW0dPDQ" base_Element="_q0STgwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0S6kQOFEeWaRLjPW0dPDQ" base_Element="_q0STggOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0S6kgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0ThoAOFEeWaRLjPW0dPDQ" base_Element="_q0S6kwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0ThoQOFEeWaRLjPW0dPDQ" base_Element="_q0S6kwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0ThogOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0UIsAOFEeWaRLjPW0dPDQ" base_Element="_q0ThowOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q0UIsgOFEeWaRLjPW0dPDQ" base_Element="_q0ThpAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0UIswOFEeWaRLjPW0dPDQ" base_Element="_q0ThowOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0UItAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0UvwQOFEeWaRLjPW0dPDQ" base_Element="_q0UItQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0UvwgOFEeWaRLjPW0dPDQ" base_Element="_q0UItQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0UvwwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0UvxgOFEeWaRLjPW0dPDQ" base_Element="_q0UvxAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0VW0AOFEeWaRLjPW0dPDQ" base_Element="_q0UvxAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0VW0QOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0VW1AOFEeWaRLjPW0dPDQ" base_Element="_q0VW0gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0V94AOFEeWaRLjPW0dPDQ" base_Element="_q0VW0gOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0V94QOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0V95AOFEeWaRLjPW0dPDQ" base_Element="_q0V94gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0Wk8AOFEeWaRLjPW0dPDQ" base_Element="_q0V94gOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0Wk8QOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0d5sQOFEeWaRLjPW0dPDQ" base_Element="_q0dSpAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q0d5swOFEeWaRLjPW0dPDQ" base_Element="_q0dSpQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0d5tAOFEeWaRLjPW0dPDQ" base_Element="_q0dSpAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0d5tQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0egwQOFEeWaRLjPW0dPDQ" base_Element="_q0d5tgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0egwgOFEeWaRLjPW0dPDQ" base_Element="_q0d5tgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0egwwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0fH0gOFEeWaRLjPW0dPDQ" base_Element="_q0egxAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0fH0wOFEeWaRLjPW0dPDQ" base_Element="_q0egxAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0fH1AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0fu4wOFEeWaRLjPW0dPDQ" base_Element="_q0fu4AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q0gV8AOFEeWaRLjPW0dPDQ" base_Element="_q0fu4QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0gV8QOFEeWaRLjPW0dPDQ" base_Element="_q0fu4AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0gV8gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0gV9AOFEeWaRLjPW0dPDQ" base_Element="_q0gV8wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0gV9QOFEeWaRLjPW0dPDQ" base_Element="_q0gV8wOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0gV9gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0g9AAOFEeWaRLjPW0dPDQ" base_Element="_q0gV9wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0g9AQOFEeWaRLjPW0dPDQ" base_Element="_q0gV9wOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0g9AgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0g9BQOFEeWaRLjPW0dPDQ" base_Element="_q0g9AwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0hkEAOFEeWaRLjPW0dPDQ" base_Element="_q0g9AwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0hkEQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0hkFAOFEeWaRLjPW0dPDQ" base_Element="_q0hkEgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0hkFQOFEeWaRLjPW0dPDQ" base_Element="_q0hkEgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0hkFgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0kAUwOFEeWaRLjPW0dPDQ" base_Element="_q0kAUAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0qG8AOFEeWaRLjPW0dPDQ" base_Element="_q0pf4wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q0u_cwOFEeWaRLjPW0dPDQ" base_Element="_q0u_cAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0yCwAOFEeWaRLjPW0dPDQ" base_Element="_q0xbtAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0yCwQOFEeWaRLjPW0dPDQ" base_Element="_q0xbtAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0yCwgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0yCxAOFEeWaRLjPW0dPDQ" base_Element="_q0yCwwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0yCxQOFEeWaRLjPW0dPDQ" base_Element="_q0yCwwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0yCxgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0yp0gOFEeWaRLjPW0dPDQ" base_Element="_q0yp0AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0yp0wOFEeWaRLjPW0dPDQ" base_Element="_q0yp0AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0yp1AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q0z38gOFEeWaRLjPW0dPDQ" base_Element="_q0z38QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q0z38wOFEeWaRLjPW0dPDQ" base_Element="_q0z38QOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0z39AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q01GEQOFEeWaRLjPW0dPDQ" base_Element="_q01GEAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q01GEgOFEeWaRLjPW0dPDQ" base_Element="_q01GEAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q01GEwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q06logOFEeWaRLjPW0dPDQ" base_Element="_q06loAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q06lowOFEeWaRLjPW0dPDQ" base_Element="_q06loAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q06lpAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q06lpgOFEeWaRLjPW0dPDQ" base_Element="_q06lpQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q07zwAOFEeWaRLjPW0dPDQ" base_Element="_q06lpQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q07zwQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q08a0AOFEeWaRLjPW0dPDQ" base_Element="_q07zwgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q08a0QOFEeWaRLjPW0dPDQ" base_Element="_q07zwgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q08a0gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q08a1gOFEeWaRLjPW0dPDQ" base_Element="_q08a0wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q09B4AOFEeWaRLjPW0dPDQ" base_Element="_q08a0wOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q09B4QOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q09o8QOFEeWaRLjPW0dPDQ" base_Element="_q09o8AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q09o8gOFEeWaRLjPW0dPDQ" base_Element="_q09o8AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q0-QAAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q1AFMQOFEeWaRLjPW0dPDQ" base_Element="_q1AFMAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q1AFMgOFEeWaRLjPW0dPDQ" base_Element="_q1AFMAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q1AFMwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q1LrYAOFEeWaRLjPW0dPDQ" base_Element="_q1LEUAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q1RK8wOFEeWaRLjPW0dPDQ" dimensions="1" base_Element="_q1RK8AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_q1aU4AOFEeWaRLjPW0dPDQ" genericsValue="Point" base_Element="_q1Zt0QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q1nJNAOFEeWaRLjPW0dPDQ" base_Element="_q1nJMQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4k9ogOFEeWaRLjPW0dPDQ" base_Element="_q4k9oQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4k9pAOFEeWaRLjPW0dPDQ" base_Element="_q4k9owOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4lksAOFEeWaRLjPW0dPDQ" base_Element="_q4k9pQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4lksgOFEeWaRLjPW0dPDQ" base_Element="_q4lksQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4nZ4AOFEeWaRLjPW0dPDQ" base_Element="_q4my0AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4nZ4gOFEeWaRLjPW0dPDQ" base_Element="_q4nZ4QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4oA8AOFEeWaRLjPW0dPDQ" base_Element="_q4nZ4wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4ooAQOFEeWaRLjPW0dPDQ" base_Element="_q4ooAAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4pPEAOFEeWaRLjPW0dPDQ" base_Element="_q4ooAgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4p2IQOFEeWaRLjPW0dPDQ" base_Element="_q4p2IAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4p2IwOFEeWaRLjPW0dPDQ" base_Element="_q4p2IgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4rrUAOFEeWaRLjPW0dPDQ" base_Element="_q4rEQAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4rrUgOFEeWaRLjPW0dPDQ" base_Element="_q4rrUQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4sSYQOFEeWaRLjPW0dPDQ" base_Element="_q4sSYAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4s5cAOFEeWaRLjPW0dPDQ" base_Element="_q4sSYgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4s5cgOFEeWaRLjPW0dPDQ" base_Element="_q4s5cQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4tggAOFEeWaRLjPW0dPDQ" base_Element="_q4s5cwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4uuoAOFEeWaRLjPW0dPDQ" base_Element="_q4uHlAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4uuogOFEeWaRLjPW0dPDQ" base_Element="_q4uuoQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4uupAOFEeWaRLjPW0dPDQ" base_Element="_q4uuowOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4vVsQOFEeWaRLjPW0dPDQ" base_Element="_q4vVsAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4vVswOFEeWaRLjPW0dPDQ" base_Element="_q4vVsgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4v8wAOFEeWaRLjPW0dPDQ" base_Element="_q4vVtAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4v8wgOFEeWaRLjPW0dPDQ" base_Element="_q4v8wQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4v8xAOFEeWaRLjPW0dPDQ" base_Element="_q4v8wwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4xx9AOFEeWaRLjPW0dPDQ" base_Element="_q4xx8wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4yZAQOFEeWaRLjPW0dPDQ" base_Element="_q4yZAAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4yZAwOFEeWaRLjPW0dPDQ" base_Element="_q4yZAgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4zAEAOFEeWaRLjPW0dPDQ" base_Element="_q4yZBAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q4zAEgOFEeWaRLjPW0dPDQ" base_Element="_q4zAEQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q42qcQOFEeWaRLjPW0dPDQ" base_Element="_q42qcAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q434kAOFEeWaRLjPW0dPDQ" base_Element="_q43RggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q434kgOFEeWaRLjPW0dPDQ" base_Element="_q434kQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q434lAOFEeWaRLjPW0dPDQ" base_Element="_q434kwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q44foAOFEeWaRLjPW0dPDQ" base_Element="_q434lQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q45GsQOFEeWaRLjPW0dPDQ" base_Element="_q44foQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q45GsgOFEeWaRLjPW0dPDQ" base_Element="_q44foQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q45GswOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_q48KAAOFEeWaRLjPW0dPDQ" base_Element="_q47i8AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q48KAgOFEeWaRLjPW0dPDQ" base_Element="_q48KAQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q48KBAOFEeWaRLjPW0dPDQ" base_Element="_q48KAwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q49YIAOFEeWaRLjPW0dPDQ" base_Element="_q48xEAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q49YIQOFEeWaRLjPW0dPDQ" base_Element="_q48xEAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q49YIgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_q5BpkAOFEeWaRLjPW0dPDQ" base_Element="_q5BCggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5BpkgOFEeWaRLjPW0dPDQ" base_Element="_q5BpkQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5BplAOFEeWaRLjPW0dPDQ" base_Element="_q5BpkwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5CQoAOFEeWaRLjPW0dPDQ" base_Element="_q5BplQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5CQogOFEeWaRLjPW0dPDQ" base_Element="_q5CQoQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5C3sAOFEeWaRLjPW0dPDQ" base_Element="_q5CQowOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5C3sgOFEeWaRLjPW0dPDQ" base_Element="_q5C3sQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5HwNAOFEeWaRLjPW0dPDQ" base_Element="_q5HwMwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5IXQQOFEeWaRLjPW0dPDQ" base_Element="_q5IXQAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q5MBoQOFEeWaRLjPW0dPDQ" base_Element="_q5MBoAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5SvUgOFEeWaRLjPW0dPDQ" base_Element="_q5SvUAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5SvUwOFEeWaRLjPW0dPDQ" base_Element="_q5SvUAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5SvVAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5T9cgOFEeWaRLjPW0dPDQ" base_Element="_q5T9cAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5T9cwOFEeWaRLjPW0dPDQ" base_Element="_q5T9cAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5T9dAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5VyoAOFEeWaRLjPW0dPDQ" base_Element="_q5VLkAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5VyoQOFEeWaRLjPW0dPDQ" base_Element="_q5VLkAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5VyogOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5XAwAOFEeWaRLjPW0dPDQ" base_Element="_q5WZsAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5XAwQOFEeWaRLjPW0dPDQ" base_Element="_q5WZsAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5XAwgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5YO4gOFEeWaRLjPW0dPDQ" base_Element="_q5YO4AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5Y18AOFEeWaRLjPW0dPDQ" base_Element="_q5YO4AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5Y18QOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5bSMAOFEeWaRLjPW0dPDQ" base_Element="_q5arIgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5bSMQOFEeWaRLjPW0dPDQ" base_Element="_q5arIgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5bSMgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_q5b5QAOFEeWaRLjPW0dPDQ" base_Element="_q5bSNAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5ducgOFEeWaRLjPW0dPDQ" base_Element="_q5ducAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_q5ducwOFEeWaRLjPW0dPDQ" base_Element="_q5ducAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_q5dudAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_q5gKsQOFEeWaRLjPW0dPDQ" base_Element="_q5gKsAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q5im8gOFEeWaRLjPW0dPDQ" dimensions="2" base_Element="_q5h_4gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_q5kcJAOFEeWaRLjPW0dPDQ" genericsValue="Point" base_Element="_q5kcIQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_q5m4YAOFEeWaRLjPW0dPDQ" genericsValue="Client" base_Element="_q5mRUwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5m4ZAOFEeWaRLjPW0dPDQ" base_Element="_q5m4YgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5sX8AOFEeWaRLjPW0dPDQ" base_Element="_q5rw4AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5sX8gOFEeWaRLjPW0dPDQ" base_Element="_q5sX8QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_q5s_AAOFEeWaRLjPW0dPDQ" genericsValue="NetworkPacket" base_Element="_q5sX8wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5s_AQOFEeWaRLjPW0dPDQ" base_Element="_q5sX8wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5s_BAOFEeWaRLjPW0dPDQ" base_Element="_q5s_AgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5uNIAOFEeWaRLjPW0dPDQ" base_Element="_q5tmFAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5u0MQOFEeWaRLjPW0dPDQ" base_Element="_q5u0MAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5u0NQOFEeWaRLjPW0dPDQ" base_Element="_q5u0NAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5vbQAOFEeWaRLjPW0dPDQ" base_Element="_q5u0NgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5wCVQOFEeWaRLjPW0dPDQ" base_Element="_q5wCVAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5wpYAOFEeWaRLjPW0dPDQ" base_Element="_q5wCVgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5wpYwOFEeWaRLjPW0dPDQ" base_Element="_q5wpYQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5wpZgOFEeWaRLjPW0dPDQ" base_Element="_q5wpZAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5xQcwOFEeWaRLjPW0dPDQ" base_Element="_q5xQcgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q5xQdgOFEeWaRLjPW0dPDQ" dimensions="2" base_Element="_q5xQdAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5xQdwOFEeWaRLjPW0dPDQ" base_Element="_q5xQdAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5x3gAOFEeWaRLjPW0dPDQ" base_Element="_q5xQeAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5x3gwOFEeWaRLjPW0dPDQ" base_Element="_q5x3ggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5x3hQOFEeWaRLjPW0dPDQ" base_Element="_q5x3hAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5yekQOFEeWaRLjPW0dPDQ" base_Element="_q5yekAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5yekwOFEeWaRLjPW0dPDQ" base_Element="_q5yekgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5yelQOFEeWaRLjPW0dPDQ" base_Element="_q5yelAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5zFoAOFEeWaRLjPW0dPDQ" base_Element="_q5yelgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5zFowOFEeWaRLjPW0dPDQ" base_Element="_q5zFoQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q5zstAOFEeWaRLjPW0dPDQ" base_Element="_q5zssgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5zstgOFEeWaRLjPW0dPDQ" base_Element="_q5zssgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q50TxQOFEeWaRLjPW0dPDQ" base_Element="_q50TwwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q50TyAOFEeWaRLjPW0dPDQ" base_Element="_q50TxgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5060gOFEeWaRLjPW0dPDQ" base_Element="_q5060AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5061QOFEeWaRLjPW0dPDQ" base_Element="_q5060wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5061wOFEeWaRLjPW0dPDQ" base_Element="_q5061gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q51h4gOFEeWaRLjPW0dPDQ" base_Element="_q51h4AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q51h5QOFEeWaRLjPW0dPDQ" base_Element="_q51h4wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q52I8AOFEeWaRLjPW0dPDQ" base_Element="_q51h5gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q52I8gOFEeWaRLjPW0dPDQ" base_Element="_q52I8QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q52I9AOFEeWaRLjPW0dPDQ" base_Element="_q52I8wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q52wAAOFEeWaRLjPW0dPDQ" base_Element="_q52I9QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53XEAOFEeWaRLjPW0dPDQ" base_Element="_q52wAwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53XEwOFEeWaRLjPW0dPDQ" base_Element="_q53XEQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53XFgOFEeWaRLjPW0dPDQ" base_Element="_q53XFAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53XGQOFEeWaRLjPW0dPDQ" base_Element="_q53XFwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53-IgOFEeWaRLjPW0dPDQ" base_Element="_q53-IAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53-JQOFEeWaRLjPW0dPDQ" base_Element="_q53-IwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q53-KAOFEeWaRLjPW0dPDQ" base_Element="_q53-JgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q54lMgOFEeWaRLjPW0dPDQ" base_Element="_q54lMAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q54lNQOFEeWaRLjPW0dPDQ" base_Element="_q54lMwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q55MQQOFEeWaRLjPW0dPDQ" base_Element="_q54lNgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q55MRAOFEeWaRLjPW0dPDQ" base_Element="_q55MQgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q55MRgOFEeWaRLjPW0dPDQ" base_Element="_q55MRQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q55zUAOFEeWaRLjPW0dPDQ" base_Element="_q55MRwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q55zUwOFEeWaRLjPW0dPDQ" base_Element="_q55zUQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q56aYAOFEeWaRLjPW0dPDQ" base_Element="_q55zVAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q57ohQOFEeWaRLjPW0dPDQ" base_Element="_q57ogwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_q58PlAOFEeWaRLjPW0dPDQ" dimensions="2" base_Element="_q58PkgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q58PlQOFEeWaRLjPW0dPDQ" base_Element="_q58PkgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q58PlwOFEeWaRLjPW0dPDQ" base_Element="_q58PlgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q582owOFEeWaRLjPW0dPDQ" base_Element="_q582ogOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_q59dsAOFEeWaRLjPW0dPDQ" genericsValue="NetworkPacket" base_Element="_q582pAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q59dsQOFEeWaRLjPW0dPDQ" base_Element="_q582pAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q59dswOFEeWaRLjPW0dPDQ" base_Element="_q59dsgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5-EwAOFEeWaRLjPW0dPDQ" base_Element="_q59dtAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5-EwwOFEeWaRLjPW0dPDQ" base_Element="_q5-EwQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5-ExgOFEeWaRLjPW0dPDQ" base_Element="_q5-ExAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5-r0QOFEeWaRLjPW0dPDQ" base_Element="_q5-r0AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5_S4QOFEeWaRLjPW0dPDQ" base_Element="_q5_S4AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_q5_58AOFEeWaRLjPW0dPDQ" base_Element="_q5_S4gOFEeWaRLjPW0dPDQ"/>
  <uml:OpaqueBehavior xmi:id="_q6K5GgOFEeWaRLjPW0dPDQ" name="DangerousCard" specification="_q1hCkAOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6K5GwOFEeWaRLjPW0dPDQ" name="id">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_q6K5HAOFEeWaRLjPW0dPDQ" type="_q1f0cAOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>this.id = id;&#xD;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_q6K5HQOFEeWaRLjPW0dPDQ" name="getCardAt" specification="_q1hpoAOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6LgIAOFEeWaRLjPW0dPDQ" name="id">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_q6LgIQOFEeWaRLjPW0dPDQ" type="_q1f0cAOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>return DangerousCard.values()[id];&#xD;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_q6LgIgOFEeWaRLjPW0dPDQ" name="HatchCard" specification="_q1je0AOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6LgIwOFEeWaRLjPW0dPDQ" name="id">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_q6LgJAOFEeWaRLjPW0dPDQ" type="_q1iQsAOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>this.id = id;&#xD;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_q6LgJQOFEeWaRLjPW0dPDQ" name="getCardAt" specification="_q1je1QOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6LgJgOFEeWaRLjPW0dPDQ" name="id">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_q6LgJwOFEeWaRLjPW0dPDQ" type="_q1iQsAOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>return HatchCard.values()[id];&#xD;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_q6LgKAOFEeWaRLjPW0dPDQ" name="ObjectCard" specification="_q1l7EAOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6LgKQOFEeWaRLjPW0dPDQ" name="id">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_q6LgKgOFEeWaRLjPW0dPDQ" type="_q1ks8AOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>this.id = id;&#xD;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_q6LgKwOFEeWaRLjPW0dPDQ" name="getCardAt" specification="_q1l7FQOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6LgLAOFEeWaRLjPW0dPDQ" name="id">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_q6LgLQOFEeWaRLjPW0dPDQ" type="_q1ks8AOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>return ObjectCard.values()[id];&#xD;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_q6LgLgOFEeWaRLjPW0dPDQ" name="getRandomCard" specification="_q1l7FwOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_q6LgLwOFEeWaRLjPW0dPDQ" type="_q1ks8AOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>Random generator = new Random();&#xD;
     return getCardAt( generator.nextInt(ObjectCard.values().length) );&#xD;
 </body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_q6UqEAOFEeWaRLjPW0dPDQ" base_Element="_q6UDAAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6UqEwOFEeWaRLjPW0dPDQ" base_Element="_q6UqEQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6UqFgOFEeWaRLjPW0dPDQ" base_Element="_q6UqFAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6VRIgOFEeWaRLjPW0dPDQ" base_Element="_q6VRIAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6VRJQOFEeWaRLjPW0dPDQ" base_Element="_q6VRIwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6V4MAOFEeWaRLjPW0dPDQ" base_Element="_q6VRJgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6V4MwOFEeWaRLjPW0dPDQ" base_Element="_q6V4MQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6WfQAOFEeWaRLjPW0dPDQ" base_Element="_q6V4NAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6WfQwOFEeWaRLjPW0dPDQ" base_Element="_q6WfQQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6WfRgOFEeWaRLjPW0dPDQ" base_Element="_q6WfRAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6XGUgOFEeWaRLjPW0dPDQ" base_Element="_q6XGUAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6XGVQOFEeWaRLjPW0dPDQ" base_Element="_q6XGUwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6XtYAOFEeWaRLjPW0dPDQ" base_Element="_q6XGVgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6XtYwOFEeWaRLjPW0dPDQ" base_Element="_q6XtYQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6YUcAOFEeWaRLjPW0dPDQ" base_Element="_q6XtZAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6YUcwOFEeWaRLjPW0dPDQ" base_Element="_q6YUcQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6YUdgOFEeWaRLjPW0dPDQ" base_Element="_q6YUdAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6Y7gAOFEeWaRLjPW0dPDQ" base_Element="_q6YUdwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6Y7gwOFEeWaRLjPW0dPDQ" base_Element="_q6Y7gQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6Y7hgOFEeWaRLjPW0dPDQ" base_Element="_q6Y7hAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6ZikAOFEeWaRLjPW0dPDQ" base_Element="_q6Y7hwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6ZikwOFEeWaRLjPW0dPDQ" base_Element="_q6ZikQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6aJoAOFEeWaRLjPW0dPDQ" base_Element="_q6ZilAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6aJowOFEeWaRLjPW0dPDQ" base_Element="_q6aJoQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6aJpgOFEeWaRLjPW0dPDQ" base_Element="_q6aJpAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6awsAOFEeWaRLjPW0dPDQ" base_Element="_q6aJpwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6awswOFEeWaRLjPW0dPDQ" base_Element="_q6awsQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6bXwAOFEeWaRLjPW0dPDQ" base_Element="_q6awtAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6bXwwOFEeWaRLjPW0dPDQ" base_Element="_q6bXwQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6bXxgOFEeWaRLjPW0dPDQ" base_Element="_q6bXxAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6b-0gOFEeWaRLjPW0dPDQ" base_Element="_q6b-0AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6b-1QOFEeWaRLjPW0dPDQ" base_Element="_q6b-0wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6cl4AOFEeWaRLjPW0dPDQ" base_Element="_q6b-1gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6cl4wOFEeWaRLjPW0dPDQ" base_Element="_q6cl4QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6cl5gOFEeWaRLjPW0dPDQ" base_Element="_q6cl5AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6dM8AOFEeWaRLjPW0dPDQ" base_Element="_q6cl5wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6dM8wOFEeWaRLjPW0dPDQ" base_Element="_q6dM8QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6d0AAOFEeWaRLjPW0dPDQ" base_Element="_q6dM9AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6d0AwOFEeWaRLjPW0dPDQ" base_Element="_q6d0AQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6d0BgOFEeWaRLjPW0dPDQ" base_Element="_q6d0BAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6ebEAOFEeWaRLjPW0dPDQ" base_Element="_q6d0BwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6ebEwOFEeWaRLjPW0dPDQ" base_Element="_q6ebEQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6ebFgOFEeWaRLjPW0dPDQ" base_Element="_q6ebFAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6fCIgOFEeWaRLjPW0dPDQ" base_Element="_q6fCIAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6fCJQOFEeWaRLjPW0dPDQ" base_Element="_q6fCIwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6fpMAOFEeWaRLjPW0dPDQ" base_Element="_q6fCJgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6fpMwOFEeWaRLjPW0dPDQ" base_Element="_q6fpMQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_q6fpNgOFEeWaRLjPW0dPDQ" base_Element="_q6fpNAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r4woQwOFEeWaRLjPW0dPDQ" dimensions="1" base_Element="_r4woQAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r46ZSAOFEeWaRLjPW0dPDQ" base_Element="_r46ZQwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r46ZTgOFEeWaRLjPW0dPDQ" base_Element="_r46ZSwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r5H0owOFEeWaRLjPW0dPDQ" base_Element="_r5H0oAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5H0pAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_r5JCwQOFEeWaRLjPW0dPDQ" base_Element="_r5IbsAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5JCwgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_r5LfAQOFEeWaRLjPW0dPDQ" base_Element="_r5K38AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5LfAgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_r5NUMwOFEeWaRLjPW0dPDQ" base_Element="_r5NUMAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5NUNAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5irYAOFEeWaRLjPW0dPDQ" base_Element="_r46ZQQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5mVwAOFEeWaRLjPW0dPDQ" base_Element="_r5EKQQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5m80AOFEeWaRLjPW0dPDQ" base_Element="_r5H0oAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5nj4AOFEeWaRLjPW0dPDQ" base_Element="_r5IbsAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5oK8AOFEeWaRLjPW0dPDQ" base_Element="_r5K38AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5oyAAOFEeWaRLjPW0dPDQ" base_Element="_r5NUMAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r5yjBgOFEeWaRLjPW0dPDQ" base_Element="_r5x78QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r5zxJAOFEeWaRLjPW0dPDQ" base_Element="_r5zxIAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r50YMgOFEeWaRLjPW0dPDQ" base_Element="_r50YMQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r50YMwOFEeWaRLjPW0dPDQ" base_Element="_r50YMQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r50YNAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r50_QQOFEeWaRLjPW0dPDQ" base_Element="_r50YNQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r50_QgOFEeWaRLjPW0dPDQ" base_Element="_r50YNQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r50_QwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r54CkAOFEeWaRLjPW0dPDQ" base_Element="_r53bgQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r54CkQOFEeWaRLjPW0dPDQ" base_Element="_r53bgQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r54CkgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r54ClQOFEeWaRLjPW0dPDQ" base_Element="_r54CkwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r54ClgOFEeWaRLjPW0dPDQ" base_Element="_r54CkwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r54ClwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r57F4QOFEeWaRLjPW0dPDQ" base_Element="_r56e0gOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r57F4gOFEeWaRLjPW0dPDQ" base_Element="_r56e0gOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r57F4wOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r57s9AOFEeWaRLjPW0dPDQ" base_Element="_r57s8QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r57s9QOFEeWaRLjPW0dPDQ" base_Element="_r57s8QOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r57s9gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r58UBAOFEeWaRLjPW0dPDQ" base_Element="_r58UAQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r58UBQOFEeWaRLjPW0dPDQ" base_Element="_r58UAQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r58UBgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r59iIgOFEeWaRLjPW0dPDQ" base_Element="_r587FAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r59iIwOFEeWaRLjPW0dPDQ" base_Element="_r587FAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r59iJAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5-JMwOFEeWaRLjPW0dPDQ" base_Element="_r5-JMAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r5-JNAOFEeWaRLjPW0dPDQ" base_Element="_r5-JMAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5-JNQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5-wRAOFEeWaRLjPW0dPDQ" base_Element="_r5-wQQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r5-wRQOFEeWaRLjPW0dPDQ" base_Element="_r5-wQQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5-wRgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r5_XVQOFEeWaRLjPW0dPDQ" base_Element="_r5_XUgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r5_XVgOFEeWaRLjPW0dPDQ" base_Element="_r5_XUgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r5_XVwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6DowAOFEeWaRLjPW0dPDQ" base_Element="_r6DBsAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6DowQOFEeWaRLjPW0dPDQ" base_Element="_r6DBsAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6DowgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6DoxQOFEeWaRLjPW0dPDQ" base_Element="_r6DowwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6DoxgOFEeWaRLjPW0dPDQ" base_Element="_r6DowwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6DoxwOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6DoyQOFEeWaRLjPW0dPDQ" base_Element="_r6DoyAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6DoygOFEeWaRLjPW0dPDQ" base_Element="_r6DoyAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6DoywOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_r6Do0QOFEeWaRLjPW0dPDQ" base_Element="_r6DozgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6Do2QOFEeWaRLjPW0dPDQ" base_Element="_r6Do2AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6Do2gOFEeWaRLjPW0dPDQ" base_Element="_r6Do2AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6Do2wOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6Do4AOFEeWaRLjPW0dPDQ" base_Element="_r6Do3AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6Do4QOFEeWaRLjPW0dPDQ" base_Element="_r6Do3AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6Do4gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6Do5gOFEeWaRLjPW0dPDQ" base_Element="_r6Do4wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6Do5wOFEeWaRLjPW0dPDQ" base_Element="_r6Do4wOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6Do6AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6Do7QOFEeWaRLjPW0dPDQ" base_Element="_r6Do6QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6Do7gOFEeWaRLjPW0dPDQ" base_Element="_r6Do6QOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6Do7wOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6DpCAOFEeWaRLjPW0dPDQ" base_Element="_r6DpBQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZxwOFEeWaRLjPW0dPDQ" base_Element="_r6NZxgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZyAOFEeWaRLjPW0dPDQ" base_Element="_r6NZxgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZyQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZzAOFEeWaRLjPW0dPDQ" base_Element="_r6NZygOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZzQOFEeWaRLjPW0dPDQ" base_Element="_r6NZygOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZzgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZ0gOFEeWaRLjPW0dPDQ" base_Element="_r6NZzwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZ0wOFEeWaRLjPW0dPDQ" base_Element="_r6NZzwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZ1AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_r6NZ2QOFEeWaRLjPW0dPDQ" base_Element="_r6NZ1QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZ2gOFEeWaRLjPW0dPDQ" base_Element="_r6NZ1QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZ2wOFEeWaRLjPW0dPDQ" base_Element="_r6NZ1QOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZ3AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZ4gOFEeWaRLjPW0dPDQ" base_Element="_r6NZ3wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZ4wOFEeWaRLjPW0dPDQ" base_Element="_r6NZ3wOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZ5AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZ6QOFEeWaRLjPW0dPDQ" base_Element="_r6NZ5QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZ6gOFEeWaRLjPW0dPDQ" base_Element="_r6NZ5QOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZ6wOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZ7gOFEeWaRLjPW0dPDQ" base_Element="_r6NZ7AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZ7wOFEeWaRLjPW0dPDQ" base_Element="_r6NZ7AOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZ8AOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NZ_AOFEeWaRLjPW0dPDQ" base_Element="_r6NZ-QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NZ_QOFEeWaRLjPW0dPDQ" base_Element="_r6NZ-QOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NZ_gOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NaAwOFEeWaRLjPW0dPDQ" base_Element="_r6NZ_wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NaBAOFEeWaRLjPW0dPDQ" base_Element="_r6NZ_wOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NaBQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r6NaCAOFEeWaRLjPW0dPDQ" base_Element="_r6NaBgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_r6NaCQOFEeWaRLjPW0dPDQ" base_Element="_r6NaBgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_r6NaCgOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_r69nsAOFEeWaRLjPW0dPDQ" base_Element="_r69AoAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7B5IQOFEeWaRLjPW0dPDQ" base_Element="_r7B5IAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7B5IwOFEeWaRLjPW0dPDQ" base_Element="_r7B5IgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7DHQQOFEeWaRLjPW0dPDQ" base_Element="_r7DHQAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7DHQwOFEeWaRLjPW0dPDQ" base_Element="_r7DHQgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7DuUAOFEeWaRLjPW0dPDQ" base_Element="_r7DHRAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r7LqIQOFEeWaRLjPW0dPDQ" base_Element="_r7LDEgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7LqIgOFEeWaRLjPW0dPDQ" base_Element="_r7LDEgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7LqJAOFEeWaRLjPW0dPDQ" base_Element="_r7LqIwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7MRMAOFEeWaRLjPW0dPDQ" base_Element="_r7LqJQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7MRNAOFEeWaRLjPW0dPDQ" base_Element="_r7MRMwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Array xmi:id="_r7M4QAOFEeWaRLjPW0dPDQ" base_Element="_r7MRNQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7M4QQOFEeWaRLjPW0dPDQ" base_Element="_r7MRNQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7NfUAOFEeWaRLjPW0dPDQ" base_Element="_r7M4RAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7NfUgOFEeWaRLjPW0dPDQ" base_Element="_r7NfUQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7NfVQOFEeWaRLjPW0dPDQ" base_Element="_r7NfVAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7OGYAOFEeWaRLjPW0dPDQ" base_Element="_r7NfVgOFEeWaRLjPW0dPDQ">
    <associatedElement xmi:type="uml:Operation" xmi:id="_r7OGYgOFEeWaRLjPW0dPDQ" name="getObjectCards" method="_r7cv4gOFEeWaRLjPW0dPDQ">
      <ownedParameter xmi:id="_r7OGYwOFEeWaRLjPW0dPDQ" type="_q5CQoQOFEeWaRLjPW0dPDQ" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:Generics xmi:id="_r7OGYQOFEeWaRLjPW0dPDQ" genericsValue="ObjectCard " base_Element="_r7NfVgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_r7OGZAOFEeWaRLjPW0dPDQ" genericsValue="ObjectCard" base_Element="_r7OGYgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7OtcgOFEeWaRLjPW0dPDQ" base_Element="_r7OtcQOFEeWaRLjPW0dPDQ">
    <associatedElement xmi:type="uml:Operation" xmi:id="_r7OtcwOFEeWaRLjPW0dPDQ" name="getRole" method="_r7cv5AOFEeWaRLjPW0dPDQ">
      <ownedParameter xmi:id="_r7OtdAOFEeWaRLjPW0dPDQ" type="_q5BCgAOFEeWaRLjPW0dPDQ" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7PUgwOFEeWaRLjPW0dPDQ" base_Element="_r7PUggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7RwwwOFEeWaRLjPW0dPDQ" base_Element="_r7RwwgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7SX0AOFEeWaRLjPW0dPDQ" base_Element="_r7RwxAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7SX0wOFEeWaRLjPW0dPDQ" base_Element="_r7SX0QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7SX1gOFEeWaRLjPW0dPDQ" base_Element="_r7SX1AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7S-4gOFEeWaRLjPW0dPDQ" base_Element="_r7S-4AOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7S-5AOFEeWaRLjPW0dPDQ" base_Element="_r7S-4wOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7Tl8AOFEeWaRLjPW0dPDQ" base_Element="_r7S-5QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_r7Tl8gOFEeWaRLjPW0dPDQ" genericsValue="NetworkPacket" base_Element="_r7Tl8QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7Tl8wOFEeWaRLjPW0dPDQ" base_Element="_r7Tl8QOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7UNAQOFEeWaRLjPW0dPDQ" base_Element="_r7UNAAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7UNAwOFEeWaRLjPW0dPDQ" base_Element="_r7UNAgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7UNBgOFEeWaRLjPW0dPDQ" base_Element="_r7UNBAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7U0EwOFEeWaRLjPW0dPDQ" base_Element="_r7U0EgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7U0FQOFEeWaRLjPW0dPDQ" base_Element="_r7U0FAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7VbIAOFEeWaRLjPW0dPDQ" base_Element="_r7U0FgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7VbJQOFEeWaRLjPW0dPDQ" base_Element="_r7VbIwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7WCMAOFEeWaRLjPW0dPDQ" base_Element="_r7VbJgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7WCNAOFEeWaRLjPW0dPDQ" base_Element="_r7WCMQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7WCNwOFEeWaRLjPW0dPDQ" base_Element="_r7WCNQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7WpQAOFEeWaRLjPW0dPDQ" base_Element="_r7WCOAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7WpQwOFEeWaRLjPW0dPDQ" base_Element="_r7WpQQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7XQVQOFEeWaRLjPW0dPDQ" base_Element="_r7XQUwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7X3YAOFEeWaRLjPW0dPDQ" base_Element="_r7XQVgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7X3YgOFEeWaRLjPW0dPDQ" base_Element="_r7X3YQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7X3ZQOFEeWaRLjPW0dPDQ" base_Element="_r7X3YwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7YecAOFEeWaRLjPW0dPDQ" base_Element="_r7X3ZgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Generics xmi:id="_r7ZFgAOFEeWaRLjPW0dPDQ" genericsValue="String, ClientConnRMI" base_Element="_r7YedQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7ZFgQOFEeWaRLjPW0dPDQ" base_Element="_r7YedQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7ZFhAOFEeWaRLjPW0dPDQ" base_Element="_r7ZFggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7ZskAOFEeWaRLjPW0dPDQ" base_Element="_r7ZFhQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7ZskwOFEeWaRLjPW0dPDQ" base_Element="_r7ZskQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7aTogOFEeWaRLjPW0dPDQ" base_Element="_r7aToQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7aTpAOFEeWaRLjPW0dPDQ" base_Element="_r7aTowOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7aTpwOFEeWaRLjPW0dPDQ" base_Element="_r7aTpQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_r7a6sQOFEeWaRLjPW0dPDQ" base_Element="_r7a6sAOFEeWaRLjPW0dPDQ"/>
  <uml:OpaqueBehavior xmi:id="_r7cv4gOFEeWaRLjPW0dPDQ" name="getObjectCards" specification="_r7OGYgOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_r7cv4wOFEeWaRLjPW0dPDQ" type="_q5CQoQOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>return objectCards;
 </body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_r7cv5AOFEeWaRLjPW0dPDQ" name="getRole" specification="_r7OtcwOFEeWaRLjPW0dPDQ">
    <ownedParameter xmi:id="_r7cv5QOFEeWaRLjPW0dPDQ" type="_q5BCgAOFEeWaRLjPW0dPDQ" direction="return"/>
    <language>java</language>
    <body>return role;
 </body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_r7qLQgOFEeWaRLjPW0dPDQ" base_Element="_r7qLQAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLRQOFEeWaRLjPW0dPDQ" base_Element="_r7qLQwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLSAOFEeWaRLjPW0dPDQ" base_Element="_r7qLRgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLSwOFEeWaRLjPW0dPDQ" base_Element="_r7qLSQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLTgOFEeWaRLjPW0dPDQ" base_Element="_r7qLTAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLUQOFEeWaRLjPW0dPDQ" base_Element="_r7qLTwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLVAOFEeWaRLjPW0dPDQ" base_Element="_r7qLUgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLVwOFEeWaRLjPW0dPDQ" base_Element="_r7qLVQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLWgOFEeWaRLjPW0dPDQ" base_Element="_r7qLWAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLXQOFEeWaRLjPW0dPDQ" base_Element="_r7qLWwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLYAOFEeWaRLjPW0dPDQ" base_Element="_r7qLXgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLYwOFEeWaRLjPW0dPDQ" base_Element="_r7qLYQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLZgOFEeWaRLjPW0dPDQ" base_Element="_r7qLZAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLaQOFEeWaRLjPW0dPDQ" base_Element="_r7qLZwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLbAOFEeWaRLjPW0dPDQ" base_Element="_r7qLagOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLbwOFEeWaRLjPW0dPDQ" base_Element="_r7qLbQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLcgOFEeWaRLjPW0dPDQ" base_Element="_r7qLcAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLdQOFEeWaRLjPW0dPDQ" base_Element="_r7qLcwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLeAOFEeWaRLjPW0dPDQ" base_Element="_r7qLdgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLewOFEeWaRLjPW0dPDQ" base_Element="_r7qLeQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLfgOFEeWaRLjPW0dPDQ" base_Element="_r7qLfAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLgQOFEeWaRLjPW0dPDQ" base_Element="_r7qLfwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLhAOFEeWaRLjPW0dPDQ" base_Element="_r7qLggOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLhwOFEeWaRLjPW0dPDQ" base_Element="_r7qLhQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLigOFEeWaRLjPW0dPDQ" base_Element="_r7qLiAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLjQOFEeWaRLjPW0dPDQ" base_Element="_r7qLiwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLkAOFEeWaRLjPW0dPDQ" base_Element="_r7qLjgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLkwOFEeWaRLjPW0dPDQ" base_Element="_r7qLkQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7qLlgOFEeWaRLjPW0dPDQ" base_Element="_r7qLlAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7z8QAOFEeWaRLjPW0dPDQ" base_Element="_r7qLlwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7z8QwOFEeWaRLjPW0dPDQ" base_Element="_r7z8QQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7z8RgOFEeWaRLjPW0dPDQ" base_Element="_r7z8RAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_r7z8SQOFEeWaRLjPW0dPDQ" base_Element="_r7z8RwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhSQOFEeWaRLjPW0dPDQ" base_Element="_sXbhSAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhSgOFEeWaRLjPW0dPDQ" base_Element="_sXbhSAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhSwOFEeWaRLjPW0dPDQ" name="Test">
      <annotationParameters xmi:id="_sXbhTAOFEeWaRLjPW0dPDQ" name="expected" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_sX2YAQOFEeWaRLjPW0dPDQ" value="IOException.class"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhTgOFEeWaRLjPW0dPDQ" base_Element="_sXbhTQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhTwOFEeWaRLjPW0dPDQ" base_Element="_sXbhTQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhUAOFEeWaRLjPW0dPDQ" name="Test">
      <annotationParameters xmi:id="_sXbhUQOFEeWaRLjPW0dPDQ" name="expected" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_sX2YAgOFEeWaRLjPW0dPDQ" value="NumberFormatException.class"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhUwOFEeWaRLjPW0dPDQ" base_Element="_sXbhUgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhVAOFEeWaRLjPW0dPDQ" base_Element="_sXbhUgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhVQOFEeWaRLjPW0dPDQ" name="Test">
      <annotationParameters xmi:id="_sXbhVgOFEeWaRLjPW0dPDQ" name="expected" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_sX2YAwOFEeWaRLjPW0dPDQ" value="ArrayIndexOutOfBoundsException.class"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhWAOFEeWaRLjPW0dPDQ" base_Element="_sXbhVwOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhWQOFEeWaRLjPW0dPDQ" base_Element="_sXbhVwOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhWgOFEeWaRLjPW0dPDQ" name="Test">
      <annotationParameters xmi:id="_sXbhWwOFEeWaRLjPW0dPDQ" name="expected" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_sX2YBAOFEeWaRLjPW0dPDQ" value="SectorException.class"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhXQOFEeWaRLjPW0dPDQ" base_Element="_sXbhXAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhXgOFEeWaRLjPW0dPDQ" base_Element="_sXbhXAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhXwOFEeWaRLjPW0dPDQ" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhZQOFEeWaRLjPW0dPDQ" base_Element="_sXbhZAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhZgOFEeWaRLjPW0dPDQ" base_Element="_sXbhZAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhZwOFEeWaRLjPW0dPDQ" name="Test">
      <annotationParameters xmi:id="_sXbhaAOFEeWaRLjPW0dPDQ" name="expected" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_sX2YBgOFEeWaRLjPW0dPDQ" value="SectorException.class"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhbgOFEeWaRLjPW0dPDQ" base_Element="_sXbhbQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhbwOFEeWaRLjPW0dPDQ" base_Element="_sXbhbQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhcAOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhcwOFEeWaRLjPW0dPDQ" base_Element="_sXbhcQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhdAOFEeWaRLjPW0dPDQ" base_Element="_sXbhcQOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhdQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhdwOFEeWaRLjPW0dPDQ" base_Element="_sXbhdgOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbheAOFEeWaRLjPW0dPDQ" base_Element="_sXbhdgOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbheQOFEeWaRLjPW0dPDQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhhQOFEeWaRLjPW0dPDQ" base_Element="_sXbhhAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhhgOFEeWaRLjPW0dPDQ" base_Element="_sXbhhAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhhwOFEeWaRLjPW0dPDQ" name="BeforeClass"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhiQOFEeWaRLjPW0dPDQ" base_Element="_sXbhiAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhigOFEeWaRLjPW0dPDQ" base_Element="_sXbhiAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhiwOFEeWaRLjPW0dPDQ" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhjQOFEeWaRLjPW0dPDQ" base_Element="_sXbhjAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhjgOFEeWaRLjPW0dPDQ" base_Element="_sXbhjAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhjwOFEeWaRLjPW0dPDQ" name="Ignore"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhkQOFEeWaRLjPW0dPDQ" base_Element="_sXbhkAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhkgOFEeWaRLjPW0dPDQ" base_Element="_sXbhkAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhkwOFEeWaRLjPW0dPDQ" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhlQOFEeWaRLjPW0dPDQ" base_Element="_sXbhlAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhlgOFEeWaRLjPW0dPDQ" base_Element="_sXbhlAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhlwOFEeWaRLjPW0dPDQ" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_sXbhmQOFEeWaRLjPW0dPDQ" base_Element="_sXbhmAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Annotations xmi:id="_sXbhmgOFEeWaRLjPW0dPDQ" base_Element="_sXbhmAOFEeWaRLjPW0dPDQ">
    <annotations xmi:id="_sXbhmwOFEeWaRLjPW0dPDQ" name="AfterClass"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_sXxfgAOFEeWaRLjPW0dPDQ" base_Element="_sXw4cAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXyGkAOFEeWaRLjPW0dPDQ" base_Element="_sXxfgQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXyGkgOFEeWaRLjPW0dPDQ" base_Element="_sXyGkQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXytoQOFEeWaRLjPW0dPDQ" base_Element="_sXytoAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXytowOFEeWaRLjPW0dPDQ" base_Element="_sXytogOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXzUsAOFEeWaRLjPW0dPDQ" base_Element="_sXytpAOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXzUsgOFEeWaRLjPW0dPDQ" base_Element="_sXzUsQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXzUtAOFEeWaRLjPW0dPDQ" base_Element="_sXzUswOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sXz7wAOFEeWaRLjPW0dPDQ" base_Element="_sXzUtQOFEeWaRLjPW0dPDQ"/>
  <UMLLabProfile:Reference xmi:id="_sX0i0QOFEeWaRLjPW0dPDQ" base_Element="_sX0i0AOFEeWaRLjPW0dPDQ"/>
</xmi:XMI>
